[
{
	"permalink": "https://findstar.pe.kr/tags/developer/",
	"title": "developer",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/how-do-i-work/",
	"title": "how do I work",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/posts/",
	"title": "Posts",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/",
	"title": "Soo Story",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/",
	"title": "Tags",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/2021/06/30/how-do-I-work/",
	"title": "ë‚˜ëŠ” ì–´ë–»ê²Œ ì¼í•˜ëŠ” ì‚¬ëŒì¸ê°€?",
	"tags": ["developer", "how do I work"],
	"description": "",
	"type": "post",
	"contents": "ë°°ê²½  ì˜¬ ì´ˆì— íšŒì‚¬ì—ì„œ ì§„í–‰í•˜ëŠ” TF ì¡°ì§ì— ê¸‰í•˜ê²Œ í•©ë¥˜í•˜ê²Œ ë˜ë©´ì„œ 4ë…„ 6ê°œì›”ë™ì•ˆ ì¼í–ˆë˜ ì¡°ì§ì„ ì¸ìˆ˜ì¸ê³„ë„ ì—†ì´ ë– ë‚˜ê²Œë˜ì—ˆë‹¤. ì¡°ì§ì´ë™ í›„ ì¸ìˆ˜ì¸ê³„ë¥¼ ì œëŒ€ë¡œ ëª»í•´ë†“ì€ ê²ƒì´ ë‚´ì‹¬ ë§ˆìŒì— ê±¸ë ¸ëŠ”ë°, ê°ì‚¬í•˜ê²Œë„ ë’¤ëŠ¦ê²Œ ë‚˜ë§ˆ ì¸ìˆ˜ì¸ê³„ê²¸ ê°œì¸ íšŒê³  ìë¦¬ê°€ ë§ˆë ¨ë˜ì—ˆë‹¤. ì¸ìˆ˜ì¸ê³„ ì´ì™¸ì— ê°œì¸ íšŒê³ ë¥¼ ì–´ë–»ê²Œ ì§„í–‰í• ê¹Œ ê³ ë¯¼í•˜ë‹¤ê°€ ë‚´ê°€ ì–´ë–»ê²Œ ì¼í•˜ëŠ” ì‚¬ëŒì¸ì§€ ì •ë¦¬í•´ì„œ ê³µìœ í•´ë³´ìê³  ë§ˆìŒë¨¹ì—ˆë‹¤. ê·¸ ë™ì•ˆ ë‚´ê°€ ì¡°ì§ì—ì„œ ë¬´ìŠ¨ ì¼ì„ í–ˆê³ , ì–´ë–»ê²Œ ì¼í•˜ë ¤ê³  ë…¸ë ¥í–ˆëŠ”ì§€, ì•„ì‰¬ìš´ê±´ ì–´ë–¤ ê²ƒë“¤ì´ ìˆì—ˆëŠ”ì§€ ì •ë¦¬í•´ ë°œí‘œë¥¼ í–ˆë‹¤.  íšŒê³  ë°œí‘œ \u0026ldquo;ë‚˜ëŠ” ì–´ë–»ê²Œ ì¼í•˜ëŠ” ì‚¬ëŒì¸ê°€?\u0026rdquo; ì‹œì‘ì€ íšŒê³ ë¥¼ í•˜ê¸° ìœ„í•¨ì´ì—ˆì§€ë§Œ, \u0026ldquo;ë‚˜ëŠ” ì–´ë–»ê²Œ ì¼í•˜ëŠ” ì‚¬ëŒì¸ê°€?\u0026ldquo;ë¼ëŠ” ì•„ì´ë””ì–´ë¥¼ ë–  ì˜¬ë¦¬ê³  ë³´ë‹ˆ ì´ëŸ° ì£¼ì œëŠ” ê·¸ ë™ì•ˆ ì˜ì‹ì ìœ¼ë¡œ ìƒê°í•´ë³´ì§€ ëª»í–ˆë‹¤ëŠ” ê±¸ ì•Œì•˜ë‹¤. ì´ë²ˆê¸°íšŒì— ì •ë¦¬ë¥¼ í†µí•´ì„œ ë‚´ê°€ ì–´ë–»ê²Œ ì¼í•˜ë ¤ê³  ë…¸ë ¥í•˜ëŠ”ì§€ ëŒì´ì¼œ ë³´ì•˜ë‹¤.\n1. ë¹„ì§€ë‹ˆìŠ¤ë¥¼ ì´í•´í•˜ëŠ” ê°œë°œì ë¹„ì§€ë‹ˆìŠ¤ë¥¼ ì´í•´í•˜ëŠ” ê°œë°œìë¼ëŠ” ê±´ ë‚´ê°€ ì§€í–¥í•˜ëŠ” ë°©í–¥ì´ë‹¤. ì¡°ê¸ˆ ë” í’€ì–´ì„œ ì´ì•¼ê¸° í•´ë³´ìë©´, ë‚´ê°€ ë§¡ì€ í”„ë¡œë•íŠ¸ê°€ ì–´ë–»ê²Œ í•´ì„œ ì§„í–‰ë˜ëŠ”ì§€ ê¹Šê²Œ ì´í•´í•˜ë ¤ê³  ë…¸ë ¥í•œë‹¤ëŠ” ëœ»ì´ë‹¤.\n í”„ë¡œë•íŠ¸ê°€ ì–´ë–¤ ì‚°ì—… ì˜ì—­ì— í¬í•¨ë˜ì–´ ìˆê³  ì–´ë–¤ í¬ì§€ì…˜ì„ ì°¨ì§€í•˜ê³  ìˆìœ¼ë©° ì´ ë¹„ì§€ë‹ˆìŠ¤ì—ì„œ ì œì¼ ì¤‘ìš”í•œ ëª©í‘œëŠ” ë¬´ì—‡ì¸ì§€ ê·¸ë¦¬ê³  ì´ ë¹„ì§€ë‹ˆìŠ¤ë¥¼ ì§„í–‰í•˜ê³  ìˆëŠ” ì¡°ì§(íŒ€ ë˜ëŠ” íšŒì‚¬)ì´ í˜„ì¬ ì§‘ì¤‘í•˜ê³  ìˆëŠ” ë¶€ë¶„ì€ ì–´ë””ì´ë©° ë”°ë¼ì„œ ë‚´ê°€ ì–´ë–¤ ì—­í• ì„ ìˆ˜í–‰í•´ì•¼ íŒ€ê³¼ í”„ë¡œë•íŠ¸ì— ê¸°ì—¬ í•  ìˆ˜ ìˆëŠ”ì§€ì— ëŒ€í•´ì„œ ê°€ëŠ¥í•œ êµ¬ì²´ì ìœ¼ë¡œ ì´í•´í•˜ê¸° ìœ„í•´ ë…¸ë ¥í•˜ëŠ” ê²ƒì´ë‹¤.  ì´ë ‡ê²Œ í•˜ëŠ” ì´ìœ ëŠ” ë‚´ê°€ ê°œë°œì ì´ê¸° ë•Œë¬¸ì— ì‹¤ì œ ì œí’ˆì˜ êµ¬í˜„ì— ì§‘ì¤‘í•˜ê²Œ ë˜ëŠ”ë° ì´ ë•Œ ë””í…Œì¼ì— ëª°ì…ë˜ê¸° ì‰¬ì›Œ í”„ë¡œë•íŠ¸ì˜ ëª©í‘œë¥¼ ìŠê¸° ì‰½ê¸° ë•Œë¬¸ì´ë‹¤.\nê·¸ë˜ì„œ í•­ìƒ ì „ì²´ ê·¸ë¦¼ì„ ìŠì§€ ì•Šê³  íŒ€ì˜ ë°©í–¥ê³¼ ëª©í‘œë¥¼ ìŠì§€ ì•Šìœ¼ë ¤ê³  ë…¸ë ¥í•˜ê¸° ìœ„í•´ì„œ ëª©í‘œë¥¼ ì •ì˜í–ˆë‹¤.\ní–‰ë™ì–‘ì‹ ë¹„ì§€ë‹ˆìŠ¤ë¥¼ ì´í•´í•˜ëŠ” ê°œë°œìë¼ëŠ” ëª©í‘œë¥¼ ì´ë£¨ê¸° ìœ„í•´ì„œëŠ” ëª‡ê°€ì§€ í–‰ë™ì–‘ì‹ì´ í•„ìš”í•˜ë‹¤.\n  ì²«ì§¸ë¡œ í•­ìƒ ê·¸ë¦¼ì„ ê·¸ë ¤ë³´ì ë¼ëŠ” ìƒê°ì„ ë°”íƒ•ìœ¼ë¡œ ê°€ëŠ¥í•œ ë‹¤ì´ì–´ ê·¸ë¨ í˜•íƒœë¡œ (ê¼­ ì»´í“¨í„°ê°€ ì•„ë‹ˆë”ë¼ë„ ì†ìœ¼ë¡œ ê·¸ë¦¬ê¸°ë„ í•œë‹¤.) í•¨ì¶•ì ìœ¼ë¡œ í‘œí˜„í•´ë³´ëŠ” ë…¸ë ¥ì„ ë“¤ì¸ë‹¤. ê·¸ë¦¼ìœ¼ë¡œ ì˜ í‘œí˜„ì´ ë˜ì§€ ì•Šìœ¼ë©´ ë­”ê°€ ëª…í™•í•˜ê²Œ ì•Œê³  ìˆì§€ ì•Šì€ ë¶€ë¶„ì´ ìˆë‹¤ê³  ìƒê°í•˜ê³  ê·¸ëŸ° ë¶€ë¶„ì„ ì¢€ ë” íŒŒì•…í•˜ë ¤ê³  ë…¸ë ¥ì„ í•œë‹¤.\n  ë‘ë²ˆì§¸ë¡œ 100ë²ˆ ìƒê°í•´ë³´ê¸° ë¼ëŠ” í–‰ë™ì–‘ì‹ì„ ì§€í–¥í•˜ê³  ìˆëŠ”ë°, ì´ê±´ ìƒˆë¡œìš´ ë¬¸ì œë¥¼ í•´ê²°í•´ì•¼ í•  ë•Œ\n ì•„ì´ë””ì–´ê°€ ì‹¤ì œë¡œ ì´ ë¬¸ì œë¥¼ í•´ê²°í•´ ì¤„ ìˆ˜ ìˆëŠ”ì§€ ë¦¬ì†ŒìŠ¤ë¥¼ ê³ ë ¤í•  ë•Œ ì‹¤í˜„ ê°€ëŠ¥í•œì§€ ì´ìŠˆê°€ ë  ë¶€ë¶„ì€ ì—†ëŠ”ì§€ ê¸°ì¡´ì˜ êµ¬í˜„ì—ì„œ ì‚¬ì´ë“œ ì´í™íŠ¸ê°€ ë°œìƒí•  ë¶€ë¶„ì€ ì—†ëŠ”ì§€ ì¶”ê°€ ë¦¬ì†ŒìŠ¤ê°€ í•„ìš”í•˜ë‹¤ë©´ ì–´ë–¤ ë¦¬ì†ŒìŠ¤ì¸ì§€ ì •ë„ë¥¼ ìƒê°í•´ ë³´ëŠ” ê²ƒì´ë‹¤. ì•„ì´ë””ì–´ë¥¼ êµ¬ì²´í™” ë‚˜ê°€ëŠ” ê³¼ì •ì—ì„œ ë‹¤ì–‘í•œ ìƒê°ì„ ê³„ì† í•´ë³´ë©´ì„œ ì‚¬ê³ ë¥¼ ë„“íˆë ¤ê³  ë…¸ë ¥í•˜ëŠ” ë°©ë²•ì´ë‹¤.    2. Be proactive ê°œì¸ì ì¸ ì¸¡ë©´ì—ì„œ ë¹„ì§€ë‹ˆìŠ¤ë¥¼ ì´í•´í•˜ê³  ì—­í• ì„ ëª…í™•íˆ í•˜ê³ ì í•˜ì˜€ë‹¤ë©´ ê±°ê¸°ì—ì„œ ê·¸ì¹˜ì§€ ì•Šê³  ì¡°ì§ì— ê¸°ì—¬í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤ê³  ìƒê°í•œë‹¤. ì´ë•Œ ê¸°ì—¬ë¥¼ ì˜ í•˜ê¸° ìœ„í•´ì„œëŠ” íŒ€/ì¡°ì§ ì•ˆì—ì„œëŠ” ë™ë£Œë“¤ê³¼ì˜ í˜‘ì—…ì„ ì˜ í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•œë° ì´ ë•Œ ë‚´ê°€ ì–´ë–¤ íƒœë„ë¥¼ ì§€í–¥í•˜ëŠ”ê°€ê°€ ì¤‘ìš”í•˜ë‹¤ê³  ìƒê°í•œë‹¤. Be proactive ë¼ëŠ” ê²ƒì€ ì›í™œí•œ í˜‘ì—…/ì»¤ë®¤ë‹ˆì¼€ì´ì…˜/ì‹ ë¢°ë¥¼ ìœ„í•´ ë‚´ê°€ ê°–ì¶”ì–´ì•¼í•  íƒœë„ë¼ê³  ìƒê°í•œë‹¤.\nProactive? í•œêµ­ì–´ë¡œ ë”± ë§ì•„ ë–¨ì–´ì§€ëŠ” ë‹¨ì–´ê°€ ë– ì˜¤ë¥´ì§€ ì•ŠëŠ”ë° ì˜ì–´ë¡œ Proactive ë¼ëŠ” ë‹¨ì–´ê°€ ìˆë‹¤. Reactive ì™€ ëŒ€ë¹„ë˜ëŠ” ë§ì´ë¼ê³  ì´í•´í•  ìˆ˜ ìˆëŠ”ë°, í’€ì–´ì„œ ì´ì•¼ê¸° í•˜ìë©´ ì£¼ë³€ì˜ ìƒí™©ì— ë°˜ì‘í•˜ì§€ ë§ê³  ë¨¼ì € í–‰ë™í•˜ìëŠ” ëœ»ì´ëœë‹¤. active ê°€ í™œë™ì ì´ë‹¤ë¼ëŠ” ì˜ë¯¸ë¡œ í•´ì„í•œë‹¤ë©´ pro ê°€ ë¶™ì—ˆìœ¼ë‹ˆ ê·¸ë³´ë‹¤ ë” ì ê·¹ì ì´ê³  ëŠ¥ë™ì ì´ë¼ê³  í•´ì„í•  ìˆ˜ ìˆë‹¤.\ní–‰ë™ì–‘ì‹  Proactive í•˜ê²Œ ì¡°ì§ì— ê¸°ì—¬í•˜ëŠ” ë°©ì‹ë„ ëª‡ê°€ì§€ í–‰ë™ ì–‘ì‹ì„ ì •í–ˆë‹¤.    ì•Œê³  ìˆëŠ” ê²ƒì„ ê³µìœ í•œë‹¤.\n ë‚´ê°€ ì•Œê²Œëœ ì§€ì‹/ë…¸í•˜ìš°ë¥¼ ê³µìœ í•´ì•¼í•œë‹¤. ë‚˜ë§Œ ì•Œê³  ìˆëŠ” ì •ë³´ê°€ ìˆë‹¤ë©´ ë‚´ê°€ ìë¦¬ë¥¼ ë¹„ì› ì„ ë•Œ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤. ê·¸ë¦¬ê³  ê³µìœ ë¥¼ í†µí•´ì„œ íƒ€ì¸ì—ê²Œ ì„¤ëª…í•  ìˆ˜ ìˆì–´ì•¼ 100% ì´í•´í•˜ëŠ” ì§€ì‹ì´ë‹¤ ë¼ëŠ” ì¸ì‹ì„ ê°€ì§€ê³  ìˆë‹¤.    ë‚˜ì˜ ì´ìŠˆë¥¼ ì•Œë¦°ë‹¤.\n ë‚´ê°€ ë¬´ì—‡ì„ í•˜ê³  ìˆëŠ”ì§€, ë‚´ê°€ ì–´ë–¤ ì–´ë ¤ì›€ì´ ìˆëŠ”ì§€ ë§í•˜ì§€ ì•Šìœ¼ë©´ ìƒëŒ€ê°€ ëˆˆì¹˜ê» ì•Œì•„ì„œ ë„ì™€ì¤„ ìˆ˜ ì—†ë‹¤. ë™ë£Œì—ê²Œ ì•Œë¦¬ê³  í•¨ê»˜ ê³ ë¯¼í•˜ë©´ ìƒˆë¡œìš´ ì•„ì´ë””ì–´ë„ ì–»ì„ ìˆ˜ ìˆê³  ìƒëŒ€ë°©ì˜ ê³ ë¯¼ë„ ë“¤ì–´ì£¼ë©´ì„œ ê°ìì˜ ì‹ ë¢°ë„ê°€ ë†’ì•„ì§„ë‹¤ê³  ìƒê°í•œë‹¤.    ì–´ìŠ¬ë  ê±°ë¦¬ê¸°\n ë”±íˆ ë­ë¼ ë§í•  ìˆ˜ ì—†ì§€ë§Œ ìƒê°ì„ í™˜ê¸°ì‹œí‚¤ê±°ë‚˜ ì´ìŠˆì˜ ì¤‘ê°„ì¤‘ê°„ ì‹œê°„ì— ë™ë£Œë“¤ê³¼ ì»¤í”¼ë¥¼ í•¨ê»˜ í•˜ê±°ë‚˜ ë‹¤ì–‘í•œ ì´ì•¼ê¸°ë¥¼ ë‚˜ëˆ„ë ¤ê³  ë…¸ë ¥í•œë‹¤. (ë¬¼ë¡  ì¸í„°ëŸ½íŠ¸ë¥¼ ê±°ëŠ”ê±´ ì•„ë‹Œì§€ ì£¼ì˜í•˜ë©°) ë„ì›€ì´ í•„ìš”í•œ ë™ë£Œë“¤ì´ ì—†ëŠ”ì§€ ì‚´í´ë³´ê³  ê´€ì‹¬ì„ ê°€ì§€ë ¤ê³  ë…¸ë ¥í•œë‹¤.    ì¼ê±°ë¦¬ê°€ ë³´ì´ë©´ ê·¸ëƒ¥í•œë‹¤.\n íŒ€ì—ì„œ ì¼í•˜ë‹¤ë³´ë©´ ëˆ„êµ¬ë‚˜ í•˜ê¸° ì‹«ì€ ì¼ì´ ìƒê¸°ê¸° ë§ˆë ¨ì´ë‹¤. ê°€ê¸‰ì ì´ë©´ ë‚´ê°€ ê·¸ ì¼ì„ í•˜ëŠ” ê²ƒì´ ê°€ì¥ ë¹ ë¥´ê²Œ ì¼ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì¼ ìˆ˜ë„ ìˆë‹¤. ë™ë£Œë“¤ì—ê²Œ ë„ì›€ì´ ë˜ë„ë¡ ì¼í•  ê±°ë¦¬ê°€ ë³´ì´ë©´ ê·¸ëƒ¥ í•˜ë ¤ê³  ë…¸ë ¥í•œë‹¤. ì´ ë•Œ ìŠ¤íŠ¸ë ˆì“°/ê·€ì°®ìŒ ê·¸ ìì²´ë¥¼ ìƒê°í•˜ì§€ ì•Šìœ¼ë ¤ê³  ë…¸ë ¥í•œë‹¤.    3. ë‚¨ë“¤ ë³´ë‹¤ ëŠë ¤ë„ ì—¬ìœ ìˆê²Œ ë‚˜ëŠ” í•™ìŠµ ì†ë„ê°€ ë¹ ë¥´ë‹¤ë˜ê°€, ë¨¸ë¦¬ê°€ ë¹„ìƒí•´ì„œ í•œë²ˆì— ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ê·¸ëŸ° ëŠ¥ë ¥ì€ ê°€ì§€ê³  ìˆì§€ ì•Šë‹¤. ë”°ë¼ì„œ ë‚˜ëŠ” ì—­ëŸ‰ì„ íš¨ìœ¨ì ìœ¼ë¡œ ê·¸ë¦¬ê³  ê¾¸ì¤€íˆ ì‚¬ìš©í•´ì•¼ë§Œ\në™ë£Œë“¤ê³¼ ë³´ì¡°ë¥¼ ë§ì¶”ì–´ ëª©í‘œë¥¼ ì´ë£¨ì–´ë‚˜ê°ˆ ìˆ˜ ìˆë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— ë‚˜ëŠ” ë³´ë‹¤ ë§ì´ ê³ ë¯¼í•˜ê³  ì „ì²´ë¥¼ ì´í•´í•˜ê³  ì‹œì‘í•˜ë ¤ê³  í•˜ê³  ì‹¤ìˆ˜ë¥¼ ëœ í•˜ë ¤ê³  ë…¸ë ¥í•œë‹¤. ê·¸ë˜ì•¼ë§Œ ì¡°ê¸ˆ ëŠë¦¬ë”ë¼ë„ ëœ ì‹œí–‰ì°©ì˜¤ë¥¼ ê±°ì¹˜ë‹ˆê¹Œ ë§ì´ë‹¤. í•˜ë‚˜ì˜ ëª©í‘œë¥¼ ì •í•˜ê³  ë¨¸ë¦¬ì†ì— ëª©í‘œì˜ ì „ì²´ ëª¨ìŠµì„ ê·¸ë ¤ë³´ê³  í•˜ë‚˜ì”© ì‚´ì„ ë¶™ì´ëŠ” ë°©ì‹ìœ¼ë¡œ ì¼í•˜ë ¤ê³  ë…¸ë ¥í•œë‹¤. ê·¸ë ‡ê²Œ í•´ì•¼ë§Œ ëŠë¦° ë‚˜ì˜ ì†ë„ë¥¼ ê°€ì§€ê³ ì„œë„ ì ì ˆí•œ ì‹œê°„ ë‚´ì— ê²°ê³¼ë¥¼ ë§Œë“¤ì–´ ë‚¼ ìˆ˜ ìˆë‹¤ê³  ìƒê°í•œë‹¤. ë¬¼ë¡  ë‚¨ë“¤ ë³´ë‹¤ ëŠë ¤ë„ ì—¬ìœ ìˆê²Œ ë¥¼ ëª©í‘œë¡œ í•˜ì§€ë§Œ ì‹¤ìƒì€ ê³ ë¯¼ì— ê³ ë¯¼ì„ ê±°ë“­í•´ì•¼ ë‚¨ë“¤ë§Œí¼ ì¸ê²ƒì€ ë¹„ë°€. ğŸ˜­\ní–‰ë™ì–‘ì‹  ë‹¤ìŒì€ ëŠë¦¬ë”ë¼ë„ ì—¬ìœ ìˆê²Œ ì¼ í•˜ê¸° ìœ„í•œ í–‰ë™ì–‘ì‹ì´ë‹¤.    ì™œ í•„ìš”í•œê°€ ìƒê°í•œë‹¤.\n ì´ ì´ìŠˆì˜ ê·¼ë³¸ì ì¸ ëª©í‘œì™€ ì›ì¸ì´ ë¬´ì—‡ì¸ì§€ ìƒê°í•´ë³¸ë‹¤.    ë¬´ì—‡ì´ ì¤‘ìš”í•œì§€ ìƒê°í•œë‹¤.\n ì™œë¥¼ ì•Œê²Œ ë˜ì—ˆìœ¼ë©´ ë¬´ì—‡ì´ ì¤‘ìš”í•œ ê²ƒì¸ì§€ ìƒê°í•´ë³¸ë‹¤. ì‚¬ìš©ì„±/ê¸°ëŠ¥ì„±/ë‚´êµ¬ì„±/ìœ ì§€ë³´ìˆ˜ ìš©ì´ì„±ë“±ì„ ê³ ë¯¼í•´ë³¸ë‹¤.    ì–´ë–»ê²Œ í•´ê²°í• ì§€ ìƒê°í•œë‹¤.\n ì½”ë“œë¥¼ ì¶”ê°€í•  ê²ƒì¸ì§€? ì •ì±…ì„ ì¶”ê°€í•´ì•¼í•  ê²ƒì¸ì§€ ê³ ë¯¼í•  ë•Œê°€ ìˆë‹¤. ë•Œë¡œëŠ” ì½”ë“œ ì—†ì´ ì •ì±…ì„ ë°”ê¾¸ëŠ”ê²Œ ë” ë¬¸ì œì˜ ê·¼ë³¸ ì›ì¸ì„ í•´ê²°í•˜ëŠ” ë°©í–¥ì¼ ìˆ˜ê¸° ë•Œë¬¸ì´ë‹¤.    ìš´ì˜ ë¦¬ì†ŒìŠ¤ì˜ íš¨ìœ¨ì„±ì„ ìƒê°í•œë‹¤.\n ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì¶”ê°€í•  ë•Œ ìœ ì§€ë³´ìˆ˜ê°€ ìš©ì´í•˜ê²Œ êµ¬ì„±í•´ì•¼í•œë‹¤. ë˜í•œ ì‚¬ìš©í•˜ëŠ”ë° ë¦¬ì†ŒìŠ¤ê°€ ì ê²Œ ë“¤ì–´ì•¼ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ ë¹„ìš©ì„ ë‚®ê²Œ ìœ ì§€í•  ìˆ˜ ìˆë‹¤.    í•´ê²°ì˜ ê²°ê³¼ë¥¼ ì–´ë–»ê²Œ ì¸¡ì •í• ì§€ ìƒê°í•œë‹¤.\n ë¬¸ì œ í•´ê²°ì„ ì™„ë£Œí•œë‹¤ëŠ” ê²ƒì„ ì–´ë–»ê²Œ í™•ì¸í•  ê²ƒì¸ì§€ ê³ ë¯¼í•´ë³¸ë‹¤. ë¬´ì—‡ì´ í•´ê²°ì¸ì§€ ì •ì˜í•˜ê¸° ìœ„í•´ì„œëŠ” ì™œ í•„ìš”í•œì§€ ê³ ë¯¼í•˜ëŠ” ê²Œ ê¼­ í•„ìš”í•˜ë‹¤.    ë’·ì •ë¦¬ëŠ” ì–´ë–»ê²Œ í• ê²ƒì¸ì§€ ìƒê°í•œë‹¤.\n ë¬¸ì œë¥¼ í•´ê²°í•˜ê³  ë‚˜ë©´ ì‹œí–‰ì°©ì˜¤ ê³¼ì •ì—ì„œ ë°œìƒí•œ ë¶ˆí•„ìš”í•œ ì°Œêº¼ê¸°ë“¤ì´ ë‚¨ê¸° ë§ˆë ¨ì´ë‹¤. ë’·ì •ë¦¬ê°€ ê¹”ë”í•´ì•¼ ë‚˜ì¤‘ì— ë‚˜ì˜ ë°œëª©ì„ ì¡ì§€ ì•ŠëŠ”ë‹¤.    ìš”ì•½ ë‹¤ìŒì€ ë‚´ê°€ ì–´ë–»ê²Œ ì¼í•˜ë ¤ê³  ë…¸ë ¥í•˜ëŠ”ì§€ì— ëŒ€í•œ ìš”ì•½ì´ë‹¤.\n ë¹„ì§€ë‹ˆìŠ¤ë¥¼ ì´í•´í•˜ëŠ” ê°œë°œìê°€ ë˜ê¸° ìœ„í•´ì„œ Be proactive í•˜ê²Œ ì¡°ì§ì— ê¸°ì—¬í•˜ê³  ë‚¨ë“¤ë³´ë‹¤ ëŠë ¤ë„ ì—¬ìœ ìˆê²Œ ê°€ë ¤ê³  ë…¸ë ¥í•œë‹¤.  ê·¸ë¦¬ê³  ìœ„ì˜ ëª©í‘œë¥¼ ìœ„í•´ì„œ ë‹¤ì–‘í•œ í–‰ë™ì–‘ì‹ì„ ì •ì˜í•˜ê³  ì´ë¥¼ ë”°ë¥´ë ¤ê³  ë…¸ë ¥í•œë‹¤.\níšŒê³  ë°œí‘œ í›„ê¸° ìœ„ì˜ ë‚´ìš©ì„ ì •ë¦¬í•´ì„œ ì—…ë¬´ì™€ ê´€ë ¨ëœ ë‚´ìš©ì„ ë§ë¶™ì—¬ ì „ ì¡°ì§ì— íšŒê³  ë°œí‘œë¥¼ ì§„í–‰í–ˆë‹¤. ê·¸ ë™ì•ˆ ì¡°ì§ë‚´ì—ì„œ ê¸°ìˆ ê³µìœ ëŠ” ì¢…ì¢… í–ˆì—ˆì§€ë§Œ ê°œì¸ì ì¸ ì´ì•¼ê¸°ëŠ” í•´ë³¸ì ì´ ì—†ì–´ì„œ ë‹¹ì¼ë‚  ë°œí‘œí•˜ê¸° ì „ì— ë¬¸ë“ ì´ëŸ° ë‚´ìš©ì„ ë°œí‘œí•´ë„ ë˜ëŠ”ê°€ë¼ëŠ” ë¶ˆì•ˆê°ì´ ë“¤ì—ˆë‹¤. í‰ì†Œì—ëŠ” ì˜ ë–¨ì§€ ì•ŠëŠ” ë‹¤ê³  ìë¶€í–ˆì§€ë§Œ ì´ë‚  ë°œí‘œëŠ” ëœëœëœ ë–¨ë©´ì„œ ë°œí‘œë¥¼ ì§„í–‰í–ˆëŠ”ë° ë‹¤í–‰íˆë„(!) ë™ë£Œë“¤ì˜ \u0026ldquo;ì¢‹ì€ ìê·¹ì´ ë˜ì—ˆë‹¤\u0026quot;ëŠ” ì½”ë©˜íŠ¸ê°€ ë§ì•„ ê°ì‚¬í•œ ë§ˆìŒì´ ë“¤ì—ˆë‹¤. ê·¸ë ‡ê²Œ 4ë…„ 6ê°œì›”ê°„ í•¨ê»˜ ì¼í•œ ë™ë£Œë“¤ ì•ì—ì„œ ê°œì¸ íšŒê³  ë°œí‘œë¥¼ ì§„í–‰í•˜ë©° ë‚˜ ìì‹ ì— ëŒ€í•œ ìƒê°ì„ ì •ë¦¬í•  ìˆ˜ ìˆì—ˆë‹¤. ë‚˜ ìŠ¤ìŠ¤ë¡œê°€ ì–´ë–»ê²Œ ì¼í•˜ëŠ” ì‚¬ëŒì¸ê°€ ì•Œì•„ ê°ˆ ìˆ˜ë¡ ìê¸° ìì‹ ì„ ë” ì˜ ì´í•´í•˜ê²Œ ë˜ì—ˆë‹¤ëŠ” ëŠë‚Œì´ ë“¤ì—ˆë‹¤. ë¸”ë¡œê·¸ë¥¼ ë¹Œë ¤ ì§€ë‚œ 4ë…„ 6ê°œì›”ê°„ í•¨ê»˜í•œ ë™ë£Œë“¤ì—ê²Œ ë‹¤ì‹œê¸ˆ ê°ì‚¬ì˜ ì¸ì‚¬ë¥¼ ì „í•œë‹¤. ğŸ™‡ğŸ»\n \u0026ldquo;ì œì¼ ì¢‹ì€ ë³µì§€ëŠ” ì¢‹ì€ ë™ë£Œ. ì¢‹ì€ ë™ë£Œë“¤ ë•ë¶„ì— ì¦ê²ê²Œ ì¼í•  ìˆ˜ ìˆì—ˆë‹¤. ì–¸ì  ê°€ ë‹¤ì‹œ í•¨ê»˜ í•  ìˆ˜ ìˆê¸°ë¥¼ ë°”ë¼ë©°!\u0026rdquo;\n "
},
{
	"permalink": "https://findstar.pe.kr/tags/cronjob/",
	"title": "cronjob",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/curl/",
	"title": "curl",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/2021/06/13/curl-cronjob-k8s/",
	"title": "curl ì„ ì‚¬ìš©í•˜ì—¬ K8S(Kubernetes) ì—ì„œ cronjob ë“±ë¡í•˜ê¸°",
	"tags": ["curl", "k8s", "cronjob"],
	"description": "",
	"type": "post",
	"contents": "k8s ì—ì„œ curl ì„ ì‚¬ìš©í•˜ì—¬ cronjob ë“±ë¡í•˜ê¸° ë°°ê²½ ì¢…ì¢… ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ì—ì„œ cronjob ì„ í™œìš©í•  ì¼ì´ ìˆëŠ”ë° ê°„ë‹¨í•˜ê²Œ curl ëª…ë ¹ì–´ í•œë²ˆë§Œ ì‹¤í–‰í•˜ë©´ ë˜ëŠ” ê²½ìš°ê°€ ìˆë‹¤.\nì´ëŸ´ ë•Œ ì‚¬ìš©í•˜ê¸° ìœ„í•œ alpine ê¸°ë°˜ì˜ curl ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ì•˜ë‹¤.\nk8s cronjob ì¿ ë²„ë„¤í‹°ìŠ¤ì˜ ì˜¤ë¸Œì íŠ¸ ì¤‘ì—ì„œ cronjob ì˜¤ë¸Œì íŠ¸ëŠ” yml ì— ì •ì˜ëœ ìŠ¤ì¼€ì¤„ì— ë§ê²Œ ì§€ì •í•œ ì´ë¯¸ì§€ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ëŠ” ì˜¤ë¸Œì íŠ¸ë‹¤. ë‚˜ëŠ” ë‹¤ìŒê³¼ ê°™ì€ í˜•ì‹ìœ¼ë¡œ ì‚¬ìš©í•˜ê³  ìˆë‹¤.\napiVersion: batch/v1beta1 kind: CronJob metadata: name: my-cronjob-name spec: schedule: \u0026#34;*/5 * * * *\u0026#34; jobTemplate: spec: template: spec: containers: - name: my-cronjob-name-pod-name image: curlimages/curl:7.77.0 imagePullPolicy: IfNotPresent command: - \u0026#34;/bin/sh\u0026#34; - \u0026#34;-c\u0026#34; - |curl -X \u0026#34;POST\u0026#34; \u0026#34;somehost\u0026#34; \\ -H \u0026#39;header-key: value\u0026#39; \\ -H \u0026#39;Content-Type: application/json; charset=utf-8\u0026#39; restartPolicy: Never ì„¤ëª…   ë¨¼ì € apiVersion ì— ë§ê²Œ CronJob ì„ ë“±ë¡í•œë‹¤.\n  schedule ëŠ” ë¦¬ëˆ…ìŠ¤ì˜ cronjob ì„ ë“±ë¡í•˜ëŠ” í¬ë§·ê³¼ ë™ì¼í•œë° ìœ„ì˜ ì˜ˆì œì—ì„œëŠ” 5ë¶„ ë§ˆë‹¤ ì‹¤í–‰í•˜ë¼ê³  ì •ì˜í•˜ì˜€ë‹¤.\n  image ëŠ” curlimages/curl:7.77.0 ì„ ì‚¬ìš©í•˜ì˜€ëŠ”ë° í•„ìš”í•˜ë‹¤ë©´ alpine ê¸°ë°˜ìœ¼ë¡œ apk --no-cache add curl ì„ ì¶”ê°€í•˜ì—¬ ì§ì ‘ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ì—¬ ì‚¬ìš©í•´ë„ ëœë‹¤.\n  command ë¶€ë¶„ì—ì„œ | ë¡œ ì´ì–´ì§€ëŠ” ë¶€ë¶„ìœ¼ë¡œ ì—°ê²°í•˜ë©´ curl ëª…ë ¹ì–´ë¥¼ raw í•˜ê²Œ ì •ì˜í•  ìˆ˜ ìˆë‹¤. ì½˜ì†”ì—ì„œ ì…ë ¥í•˜ëŠ” í˜•íƒœ ê·¸ëŒ€ë¡œ ì •ì˜í•˜ì.\n  ì‹¤í–‰ ê¸°ë¡ kubectl get pods ë¡œ í™•ì¸í•´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì–¸ì œ ì™„ë£Œë˜ì—ˆëŠ”ì§€ í™•ì¸ì´ ê°€ëŠ¥í•˜ê³  í•„ìš”í•˜ë‹¤ë©´ ì‹¤í–‰ ê²°ê³¼ë¥¼ ë¡œê·¸ë¡œ í™•ì¸í• ìˆ˜ë„ ìˆë‹¤.\n$ kubectl get pods my-cronjob-name-1623488400-tb4zs 0/1 Completed 0 16s $ kubectl logs my-cronjob-name-1623488400-tb4zs Response OK ì°¸ê³  https://nieldw.medium.com/using-a-kubernetes-cronjob-the-team-city-api-to-trigger-a-regular-backup-17dfb076d83a\n"
},
{
	"permalink": "https://findstar.pe.kr/tags/k8s/",
	"title": "k8s",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/confluence/",
	"title": "confluence",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/customizing/",
	"title": "customizing",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/sidebar-search/",
	"title": "sidebar search",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/2021/04/21/confluence-sidebar-search/",
	"title": "ì»¨í”Œë£¨ì–¸ìŠ¤ ì‚¬ì´ë“œë°”ì— ê²€ìƒ‰ ê¸°ëŠ¥ ì¶”ê°€í•˜ê¸°",
	"tags": ["confluence", "sidebar search", "customizing"],
	"description": "",
	"type": "post",
	"contents": "ì»¨í”Œë£¨ì–¸ìŠ¤ ì‚¬ì´ë“œë°”ì— ê²€ìƒ‰ ê¸°ëŠ¥ ì¶”ê°€í•˜ê¸° ë°°ê²½ ì‹ ê·œ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©´ì„œ ìœ„í‚¤ë¡œ ì‚¬ìš©ì¤‘ì¸ ì»¨í”Œë£¨ì–¸ìŠ¤ì— ìƒˆë¡œìš´ ìŠ¤í˜ì´ìŠ¤ë¥¼ ìƒì„±í•˜ê²Œ ë˜ì—ˆë‹¤. ë™ë£Œë“¤ì˜ ê¶Œí•œì„¤ì •ì„ ë§ˆì¹˜ê³  ëª‡ê°€ì§€ ì»¨ë²¤ì…˜ì„ ì •í•œ ë‹¤ìŒ ìŠ¤í˜ì´ìŠ¤ì˜ ë ˆì´ì•„ì›ƒì„ ì‚´í´ë³´ì•˜ë‹¤. ë­”ê°€ í—ˆì „í•¨ì„ ëŠê»´ì„œ ê·¸ê²Œ ë­˜ê¹Œ í•˜ê³  ìƒê°í•˜ë˜ ì¤‘ì—, ì´ì „ ìŠ¤í˜ì´ìŠ¤ì—ì„œ ì‚¬ìš©í•˜ë˜ ì‚¬ì´ë“œë°” ê²€ìƒ‰ ê¸°ëŠ¥ì´ ë¹ ì ¸ìˆëŠ” ê²ƒì„ ë°œê²¬í•˜ì˜€ë‹¤. ë§‰ìƒ ì„¤ì •í•˜ë ¤ë‹¤ ë³´ë‹ˆ, ê¸ˆë°© í•  ì¤„ ì•Œì•˜ëŠ”ë° í•œì°¸ì´ë‚˜ í—¤ë©”ê²Œ ë˜ì–´ì„œ ë‚˜ì¤‘ì— ê¹Œë¨¹ì§€ ì•Šìœ¼ë ¤ê³  ì •ë¦¬í•´ë³´ì•˜ë‹¤.\nì‚¬ì´ë“œë°” ê²€ìƒ‰ì´ í•„ìš”í•œ ì´ìœ  ì»¨í”Œë£¨ì–¸ìŠ¤ ìœ„í‚¤ì—ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ìƒë‹¨ í—¤ë”ì˜ì—­ì— ê²€ìƒ‰ê¸°ëŠ¥ì´ ìˆì§€ë§Œ, ì—¬ê¸°ì„œ ì œê³µí•˜ëŠ” ê²€ìƒ‰ì€ ì „ì²´ í†µí•© ê²€ìƒ‰ì´ë‹¤. ê·¸ë˜ì„œ ìŠ¤í˜ì´ìŠ¤ê°€ ë§ì„ ë•ŒëŠ” íŠ¹ì • ìŠ¤í˜ì´ìŠ¤ë§Œ ì§€ì •í•˜ì—¬ ê²€ìƒ‰í•˜ë ¤ë©´ ë¶ˆí¸í•˜ë‹¤. ë”°ë¼ì„œ ì‚¬ì´ë“œë°”ì— ê²€ìƒ‰ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ë©´ í•´ë‹¹ ìŠ¤í˜ì´ìŠ¤ì˜ ë¬¸ì„œë§Œ ê²€ìƒ‰ì´ ì‰¬ì›Œì§€ë¯€ë¡œ ì‚¬ìš©ì„±ì´ ì¢‹ì•„ì§„ë‹¤.\nì„¤ì • ë°©ë²•   ë¨¼ì € ìŠ¤í˜ì´ìŠ¤ì— ì§„ì…í›„ ì™¼ìª½ í•˜ë‹¨ì˜ ê³µê°„ ë„êµ¬ë¥¼ ëˆŒëŸ¬ ë ˆì´ì•„ì›ƒ(ëª¨ì–‘ìƒˆ)ë¥¼ ì„ íƒí•˜ì\n\n  ë‹¤ìŒìœ¼ë¡œ ì‚¬ì´ë“œë°” ì˜ì—­ì„ ì„ íƒí•˜ì \n  ì‚¬ì´ë“œë°” ì„¤ì •ì— ë‹¤ìŒê³¼ ê°™ì´ ë§¤í¬ë¡œë¥¼ ë“±ë¡í•˜ì \n  ëì´ë‹¤. ì´ì œ ì‚¬ì´ë“œë°”ì— ê²€ìƒ‰ ê¸°ëŠ¥ì´ ì˜ ë‚˜ì˜¤ëŠ”ì§€ í™•ì¸í•œë‹¤. \n  ì°¸ê³  https://community.atlassian.com/t5/Confluence-questions/Sidebar-Search-in-a-confluence-Space/qaq-p/888718\n"
},
{
	"permalink": "https://findstar.pe.kr/tags/istio/",
	"title": "istio",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/2021/04/14/istio-traffic-management/",
	"title": "istioì˜ íŠ¸ë˜í”½ ê´€ë¦¬ ê¸°ëŠ¥ ì‚´í´ë³´ê¸°",
	"tags": ["istio", "traffic management", "kubernetes"],
	"description": "",
	"type": "post",
	"contents": "istioì˜ íŠ¸ë˜í”½ ê´€ë¦¬ ê¸°ëŠ¥ ì‚´í´ë³´ê¸° ë°°ê²½ istio ìŠ¤í„°ë””ì˜ ë‘ë²ˆì§¸ ë‚´ìš©ìœ¼ë¡œ istio ì˜ íŠ¸ë˜í”½ ê´€ë¦¬ ê¸°ëŠ¥ì„ ì‚´í´ë³´ì•˜ë‹¤. ë§¤ë‰´ì–¼ì„ ì°¸ê³ ë¡œ í•˜ì—¬ gateway, virtual service, destination rule ì„ ì‚´í´ë³´ì•˜ë‹¤.\nêµ¬ë™ í™˜ê²½  istio 1.9.1 k8s on docker desktop istio on docker desktop ì°¸ê³   íŠ¸ë˜í”½ ê´€ë¦¬ ê¸°ëŠ¥ istio ëŠ” envoy ë¥¼ ì‚¬ìš©í•˜ì—¬ sidecar ê°€ ì ìš©ëœ pod ì˜ íŠ¸ë˜í”½ì„ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤. ìˆœìˆ˜í•˜ê²Œ k8s ì˜ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë©´ ingress, deployment ë§Œ ì‚¬ìš©í•˜ê²Œ ë˜ì—ˆì„ í…ë° istio ë¥¼ ì‚¬ìš©í•˜ë©´ gateway, virtualService, destinationRule ì„ ë‹¤ë£¨ê²Œ ëœë‹¤.\nGateway ë¨¼ì € Gateway istio ì„œë¹„ìŠ¤ ë©”ì‰¬ë¡œ ìœ ì…ë˜ëŠ” ê´€ë¬¸ì„ ë‚˜íƒ€ë‚¸ë‹¤. ê²Œì´íŠ¸ì›¨ì´ëŠ” ë…¸ì¶œë˜ëŠ” í¬íŠ¸, í”„ë¡œí† ì½œ, í˜¸ìŠ¤íŠ¸, TLS ì •ë³´ë¥¼ ë‹´ê³  ìˆë‹¤. ë‹¤ìŒì€ ì´ì „ í¬ìŠ¤íŠ¸ì—ì„œ ì˜ˆì œë¡œ ì‹¤í–‰í•œ bookinfo-gateway.yml íŒŒì¼ì— ë“¤ì–´ ìˆëŠ” ë‚´ìš©ì´ë‹¤.\napiVersion: networking.istio.io/v1alpha3 kind: Gateway metadata: name: bookinfo-gateway spec: selector: istio: ingressgateway # use istio default controller servers: - port: number: 80 name: http protocol: HTTP hosts: - \u0026#34;*\u0026#34; ìœ„ì˜ yml ì„ í•´ì„í•´ë³´ìë©´ ë¨¼ì € selector ì— ë‚˜íƒ€ë‚˜ ìˆëŠ” istio: ingressgateway ëŠ” ë¡œë“œë°¸ëŸ°ì„œë¡œ ë™ì‘í•˜ëŠ” istio-ingressgateway ì—ì„œ ì‹¤í–‰ë˜ë¼ëŠ” ì˜ë¯¸ê°€ ëœë‹¤. operator ë¥¼ í†µí•´ì„œ ì„¤ì¹˜í•œ ingressgateway ì»´í¬ë„ŒíŠ¸ë¥¼ í†µí•´ ì‹¤í–‰ëœ pods ì˜ ë¼ë²¨ì„ í™•ì¸í•´ë³´ì\n$ kubectl get pods/istio-ingressgateway-67d647b4-b6k84 --show-labels -n istio-system # (pods ì´ë¦„ì€ ê·¸ë•Œ ê·¸ë•Œ ê°ê¸° ë‹¤ë¥¼ ìˆ˜ ìˆë‹¤.) istio-ingressgateway-67d647b4-b6k84 1/1 Running 0 31m app=istio-ingressgateway,chart=gateways,heritage=Tiller,install.operator.istio.io/owning-resource=unknown,istio.io/rev=default,istio=ingressgateway,operator.istio.io/component=IngressGateways,pod-template-hash=67d647b4,release=istio,service.istio.io/canonical-name=istio-ingressgateway,service.istio.io/canonical-revision=latest,sidecar.istio.io/inject=false ê²°ê³¼ì—ì„œ ë³´ë©´ istio=ingressgateway ë¼ëŠ” ë¼ë²¨ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ingressgateway ì—ì„œ ì‹¤í–‰ë˜ëŠ” ë…¼ë¦¬ì ì¸ ê²Œì´íŠ¸ì›¨ì´ ë‚˜íƒ€ë‚¸ê²ƒì´ ë°”ë¡œ Gateway ì»´í¬ë„ŒíŠ¸ì´ë‹¤. ê²Œì´íŠ¸ì›¨ì´ëŠ” VirtualService ì™€ í•¨ê»˜ ì‚¬ìš©ë˜ì–´ íŠ¸ë˜í”½ì„ ì œì–´í•˜ê²Œ ëœë‹¤.\nVirtualService VirtualService ëŠ” íŠ¸ë˜í”½ ë¼ìš°íŒ…ê³¼ ê´€ë ¨ëœ ì„¤ì •ì´ë‹¤. gateway ì™€ ê²°í•©í•˜ì—¬ íŠ¸ë˜í”½ì„ ì œì–´í•œë‹¤. ë‹¤ìŒì€ bookinfo ì˜ˆì œì—ì„œ ì‚¬ìš©í•œ yml ì´ë‹¤.\napiVersion: networking.istio.io/v1alpha3 kind: VirtualService metadata: name: bookinfo spec: hosts: - \u0026#34;*\u0026#34; gateways: - bookinfo-gateway http: - match: - uri: exact: /productpage - uri: prefix: /static - uri: exact: /login - uri: exact: /logout - uri: prefix: /api/v1/products route: - destination: host: productpage port: number: 9080 spec ì„ ì‚´í´ë³´ë©´ ì—°ê²°í•  ê²Œì´íŠ¸ì›¨ì´ë¥¼ gateways ì— bookinfo-gatewayë¡œ í‘œì‹œí•´ì£¼ì—ˆë‹¤. http ì„¤ì •ì€ http í”„ë¡œí† ì½œë§Œì„ ì„¤ëª…í•˜ëŠ” ê²ƒì€ ì•„ë‹ˆê³  HTTP, HTTP2, GRPC ë¥¼ í¬í•¨í•œë‹¤. ê·¸ ë‹¤ìŒìœ¼ë¡œ ë§¤ì¹­ ë£°ì„ ì§€ì •í•˜ëŠ”ë° (match) exact ëŠ” ì •í™•íˆ ë§¤ì¹­ë˜ì–´ì•¼ í•˜ëŠ” ê²½ìš° prefix ëŠ” uri ì˜ ì•ë¶€ë¶„ë§Œ ë§¤ì¹­ë˜ë©´ ë˜ëŠ”ê²½ìš°ë¡œ í•´ì„ëœë‹¤. route ì—ì„œëŠ” ì—°ê²°í•  ëŒ€ìƒì„ ì§€ì •í•˜ëŠ”ë° host ê°€ productpage ë¡œ ë˜ì–´ ìˆëŠ” ê²ƒì€ ì•ì„  ì˜ˆì œì—ì„œ ë“±ë¡í•œ Service ì»´í¬ë„ŒíŠ¸ë¡œ ì—°ê²°í•˜ë¼ëŠ” ì˜ë¯¸ê°€ ëœë‹¤. (k8s ë‚´ë¶€ì—ì„œ ì„œë¹„ìŠ¤ëª…ìœ¼ë¡œ ë°”ë¡œ ì ‘ì†í•  ìˆ˜ ìˆê¸° ë•Œë¬¸)\nGateway ì™€ VirtualService ëŠ” ì‹¤ì œë¡œ ë³„ë„ì˜ pods ë¥¼ ì‹¤í–‰í•˜ëŠ” ê²ƒì€ ì•„ë‹ˆê³  ingressgateway ì˜ envoy ì„¤ì •ì„ ë³€ê²½í•œë‹¤.(ì¤‘ìš”) ingressgateway ì˜ ë¼ìš°íŠ¸ ì„¤ì •ì€ ë‹¤ìŒì˜ ëª…ë ¹ì–´ë¡œ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ìì„¸íˆ ë³´ë©´ prefix ë¡œ ì§€ì •í•œ uri ëŠ” match ë’¤ì— * í‘œì‹œê°€ ë¶™ì–´ ìˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n$ istioctl pc routes istio-ingressgateway-67d647b4-b6k84.istio-system NOTE: This output only contains routes loaded via RDS. NAME DOMAINS MATCH VIRTUAL SERVICE http.80 * /productpage bookinfo.default http.80 * /static* bookinfo.default http.80 * /login bookinfo.default http.80 * /logout bookinfo.default http.80 * /api/v1/products* bookinfo.default * /healthz/ready* * /stats/prometheus* VirtualService ì—ëŠ” ë¼ìš°íŒ…ì„ ìœ„í•œ ì¢€ ë” ë””í…Œì¼í•œ ì„¤ì •ë„ ê°€ëŠ¥í•˜ë‹¤\napiVersion: networking.istio.io/v1alpha3 kind: VirtualService metadata: name: reviews-route spec: hosts: - reviews.prod.svc.cluster.local http: - headers: request: set: test: \u0026#34;true\u0026#34; route: - destination: host: reviews.prod.svc.cluster.local subset: v2 weight: 25 - destination: host: reviews.prod.svc.cluster.local subset: v1 headers: response: remove: - foo weight: 75 ëŒ€í‘œì ìœ¼ë¡œ headerë¥¼ ìˆ˜ì •í•  ìˆ˜ë„ ìˆê³ , destination ì— weight ê°’ì„ ì§€ì •í•  ìˆ˜ë„ ìˆë‹¤. (ê°€ì¤‘ì¹˜ ê°’ì€ í•©ì³ì„œ 100ì´ ë˜ì–´ì•¼ í•œë‹¤.) ìœ„ì˜ yml ì—ì„œëŠ” test:true ë¼ëŠ” í—¤ë” ê°’ì„ ì¶”ê°€í•˜ê³  v1 subset ì— ëŒ€í•´ì„œë§Œ ì‘ë‹µì—ì„œ foo ë¼ëŠ” í—¤ë”ê°’ì„ ì œê±°í•œë‹¤.\nDestinationRule VirtualService ê°€ ì–´ëŠ ì„œë¹„ìŠ¤ë¡œ íŠ¸ë˜í”½ì„ ë¼ìš°íŒ…í• ì§€ ê²°ì •í–ˆë‹¤ë©´, DestinationRule ì€ ì–´ë””ë¡œ ë¼ìš°íŒ…í• ì§€ ê²°ì •ëœ ì´í›„ì— íŠ¸ë˜í”½ì— ì ìš©ë˜ëŠ” ì •ì±…ì„ ì •ì˜í•˜ëŠ” ê¸°ëŠ¥ì´ë‹¤. (íŠ¸ë˜í”½ì´ ì–´ë””ë¡œ ê°ˆì§€ ê²°ì •ëœ ì´í›„ì— íŠ¸ë˜í”½ì„ ì–´ë–»ê²Œ ë³´ë‚¼ì§€ ì •ì˜í•œ ê²ƒì´ë¼ê³  ì´í•´í•˜ë©´ ëœë‹¤.) ì´ë ‡ê²Œ ì´ì•¼ê¸° í•˜ë©´ ê°ì´ ì˜ ì˜¤ì§€ ì•ŠëŠ”ë° ê°„ë‹¨í•œ ì˜ˆì‹œë¡œ pods ì˜ ë¼ë²¨ì— ë”°ë¼ì„œ ë¶€í•˜ë¥¼ ë¶„ì‚° ì‹œí‚¬ ë•Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë°”ë¡œ DestinationRule ì´ë‹¤.\në‹¤ìŒì€ bookinfo ì˜ˆì œì—ì„œ ì‚¬ìš©í•˜ëŠ” DestinationRule yml ì´ë‹¤.\napiVersion: networking.istio.io/v1alpha3 kind: DestinationRule metadata: name: productpage spec: host: productpage subsets: - name: v1 labels: version: v1 --- apiVersion: networking.istio.io/v1alpha3 kind: DestinationRule metadata: name: reviews spec: host: reviews subsets: - name: v1 labels: version: v1 - name: v2 labels: version: v2 - name: v3 labels: version: v3 --- apiVersion: networking.istio.io/v1alpha3 kind: DestinationRule metadata: name: ratings spec: host: ratings subsets: - name: v1 labels: version: v1 - name: v2 labels: version: v2 - name: v2-mysql labels: version: v2-mysql - name: v2-mysql-vm labels: version: v2-mysql-vm --- apiVersion: networking.istio.io/v1alpha3 kind: DestinationRule metadata: name: details spec: host: details subsets: - name: v1 labels: version: v1 - name: v2 labels: version: v2 --- ìì„¸íˆ ë³´ë©´ subsets ë¼ê³  ë³´ì´ëŠ”ë° pods ì˜ label ì„ ê·¸ë£¹í•‘í•œ ë‹¨ìœ„ë¼ê³  ë³´ë©´ ëœë‹¤. pods ë¥¼ í•˜ë‚˜ì˜ subset ìœ¼ë¡œ ë¬¶ì€ ë‹¤ìŒì— íŠ¸ë˜í”½ì„ ì œì–´í•˜ëŠ”ë° ë³„ë„ì˜ ì •ì±…ì´ ì§€ì •ë˜ì§€ ì•Šì•˜ìœ¼ë¯€ë¡œ ë¼ìš´ë“œ ë¡œë¹ˆì´ ì§€ì •ëœë‹¤. ì„¤ì • ê°€ëŠ¥í•œ ì˜µì…˜ì€ ë¬¸ì„œë¥¼ ì°¸ê³ í•˜ì. ë‹¤ìŒê³¼ ê°™ì´ ê¸°ë³¸ ì •ì±…ì„ ì§€ì •í•˜ê³  íŠ¹ì • subset ì— ëŒ€í•´ì„œë§Œ ë‹¤ë¥¸ ì •ì±…ì„ ì·¨í•  ìˆ˜ë„ ìˆë‹¤.\napiVersion: networking.istio.io/v1alpha3 kind: DestinationRule metadata: name: bookinfo-ratings spec: host: ratings.prod.svc.cluster.local trafficPolicy: loadBalancer: simple: LEAST_CONN # ì»¤ë„¥ì…˜ì´ ë” ì ì€ ìª½ìœ¼ë¡œ ì—°ê²°í•œë‹¤.  subsets: - name: testversion labels: version: v3 trafficPolicy: loadBalancer: simple: ROUND_ROBIN # ë¼ìš´ë“œ ë¡œë¹ˆìœ¼ë¡œ ì—°ê²°í•œë‹¤(ê¸°ë³¸ê°’) ë‹¤ìŒì€ user ë¼ëŠ” ì¿ í‚¤ê°’ì„ í•´ì‹±í•œ ê²°ê³¼ê°’ì„ ê¸°ë°˜ìœ¼ë¡œ ì—°ê²°ì„ ì„¤ì •í•œë‹¤.\napiVersion: networking.istio.io/v1alpha3 kind: DestinationRule metadata: name: bookinfo-ratings spec: host: ratings.prod.svc.cluster.local trafficPolicy: loadBalancer: consistentHash: httpCookie: name: user ttl: 0s ê¸°íƒ€ ì˜µì…˜ ë‹¤ìŒì€ istio ê³µì‹ ì‚¬ì´íŠ¸ì—ì„œ ì œê³µí•œëŠ” Gateway ì˜ˆì œì´ë‹¤.\napiVersion: networking.istio.io/v1alpha3 kind: Gateway metadata: name: my-gateway namespace: some-config-namespace spec: selector: app: my-gateway-controller servers: - port: number: 80 name: http protocol: HTTP hosts: - uk.bookinfo.com - eu.bookinfo.com tls: httpsRedirect: true # HTTP ë¡œ ì ‘ê·¼ì‹œ 301 ë¦¬ë‹¤ì´ë ‰íŠ¸ ë°˜í™˜ - port: number: 443 name: https-443 protocol: HTTPS hosts: - uk.bookinfo.com - eu.bookinfo.com tls: mode: SIMPLE # ì´ í¬íŠ¸ì— ëŒ€í•´ì„œ HTTPS í™œì„±í™” serverCertificate: /etc/certs/servercert.pem privateKey: /etc/certs/privatekey.pem - port: number: 9443 name: https-9443 protocol: HTTPS hosts: - \u0026#34;bookinfo-namespace/*.bookinfo.com\u0026#34; tls: mode: SIMPLE # ì´ í¬íŠ¸ì— ëŒ€í•´ì„œ HTTPS í™œì„±í™” credentialName: bookinfo-secret # k8s secret ì— ë“±ë¡ëœ ì´ë¦„ - port: number: 9080 name: http-wildcard protocol: HTTP hosts: - \u0026#34;*\u0026#34; - port: number: 2379 # ë‚´ë¶€ ì„œë¹„ìŠ¤ë¥¼ 2379í¬íŠ¸ ë²ˆí˜¸ë¥¼ í†µí•´ì„œ ì™¸ë¶€ì— ë…¸ì¶œí•œë‹¤. name: mongo protocol: MONGO # í”„ë¡œí† ì½œì€ HTTP, HTTPS, GRPC, HTTP2, MONGO, TCP, TLS ì¤‘ í•˜ë‚˜ì—¬ì•¼ í•œë‹¤. hosts: - \u0026#34;*\u0026#34; íŠ¸ë˜í”½ì˜ ì‹¤ì œ ì—°ê²° íë¦„ ìƒˆë¡œìš´ ìš©ì–´ê°€ ê³„ì† ë‚˜ì˜¤ê¸° ë•Œë¬¸ì— ì‹¤ì œ íŠ¸ë˜í”½ì´ ì–´ë–»ê²Œ ì œì–´ë˜ëŠ”ì§€ í—·ê°ˆë ¤ì„œ ì •ë¦¬í•´ë³´ì•˜ë‹¤.\n ë¡œë“œë°¸ëŸ°ì„œë¡œ ë¶€í„° íŠ¸ë˜í”½ì´ ìœ ì…ëœë‹¤. ($ kubectl get svc -n istio-system ê²°ê³¼ê°’ì„ ìƒê°í•´ë³´ì.) ë¡œë“œë°¸ëŸ°ì„œ íƒ€ì…ì˜ ì„œë¹„ìŠ¤(ingressgateway controller)ëŠ” ì‹¤ì œë¡œëŠ” istio-ingressgateway ë¼ëŠ” pods ë¥¼ ì‹¤í–‰ì‹œí‚¨ë‹¤.  k8s ì˜ ingress controller ê°€ ì‹¤ì œë¡œ nginx pods ë¥¼ ë„ìš°ëŠ” ê²ƒê³¼ ë™ì¼í•˜ë‹¤. ë‹¤ë§Œ ë‹¤ë¥¸ì ì€ envoy ë¥¼ ë„ìš´ë‹¤ëŠ”ì    IngressGateway ì˜ pods ëŠ” Gateway ì™€ VirtualService ì— ì˜í•´ì„œ configuration ì´ ê²°ì •ëœë‹¤.  $ istioctl pc routes istio-ingressgateway-67d647b4-b6k84.istio-system ì™€ ê°™ì´ ë“±ë¡ëœ ë¼ìš°íŒ… ì„¤ì •ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤. Gateway ëŠ” í¬íŠ¸, í”„ë¡œí† ì½œ, TLS ë“± ì¸ì¦ì„ ì„¤ì •í•œë‹¤. VirtualService ëŠ” ì–´ë–¤ ì„œë¹„ìŠ¤ë¡œ ì—°ê²°ë  ê²ƒì¸ì§€ ë¼ìš°íŒ…ì„ ì„¤ì •í•œë‹¤.   ì´ê²ƒë§Œìœ¼ë¡œë„ íŠ¸ë˜í”½ì´ ì—°ê²°ë˜ì§€ë§Œ íŠ¸ë˜í”½ ì—°ê²° ì •ì±…ì„ ì¶”ê°€í•˜ê³  ì‹¶ì€ ê²½ìš° DestinationRule ì„ ì§€ì •í•  ìˆ˜ ìˆë‹¤.  ì—¬ê¸°ì„œëŠ” pods ì˜ ë¼ë²¨ì„ í•˜ë‚˜ë¡œ ê·¸ë£¹í•‘í•˜ì—¬ Subset ì´ë¼ê³  í•œë‹¤.     ì°¸ê³   https://istio.io/latest/docs/reference/config/networking/gateway/ https://istio.io/latest/docs/reference/config/networking/virtual-service/ https://istio.io/latest/docs/reference/config/networking/destination-rule/ https://istio.io/latest/docs/ops/diagnostic-tools/proxy-cmd/ https://istio.io/latest/docs/examples/bookinfo/ https://blog.jayway.com/2018/10/22/understanding-istio-ingress-gateway-in-kubernetes/  "
},
{
	"permalink": "https://findstar.pe.kr/tags/kubernetes/",
	"title": "kubernetes",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/traffic-management/",
	"title": "traffic management",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/docker-desktop/",
	"title": "docker desktop",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/2021/03/25/install-istio-on-docker-desktop/",
	"title": "Docker desktop ì—ì„œ istio ì„¤ì¹˜í•˜ê¸°",
	"tags": ["istio", "docker desktop", "kubernetes"],
	"description": "",
	"type": "post",
	"contents": "Docker desktop ì— istio ë¥¼ ì„¤ì¹˜í•˜ëŠ” ë°©ë²• ë°°ê²½ ìµœê·¼ istio ìŠ¤í„°ë””ì— ì°¸ì—¬í•˜ê³  ìˆëŠ”ë° istio ë¥¼ ì„¤ì¹˜í•˜ê¸° ìœ„í•´ì„œ kubernetes í´ëŸ¬ìŠ¤í„° í™˜ê²½ì´ í•„ìš”í–ˆë‹¤. ë¬¸ë“ ë¡œì»¬ docker desktop ì— kubernetes ì§€ì›ì´ ìˆì—ˆë˜ ê¸°ì–µì´ ë‚˜ì„œ ì´ ì˜µì…˜ì„ í™œì„±í™”í•˜ì—¬ docker desktop ì—ì„œ istio ë¥¼ ì„¤ì¹˜í•´ë³´ì•˜ë‹¤.\nì„¤ì¹˜ í™˜ê²½  istio 1.9.1 docker desktop ì„¤ì¹˜ëœ í™˜ê²½ (RAM ì´ ë„‰ë„‰í•´ì•¼í•œë‹¤.)  Docker desktop ì¤€ë¹„ì‚¬í•­   ë¨¼ì € resource ì—ì„œ CPU 4cpu ì´ìƒ, RAM í• ë‹¹ì„ 8G ë¡œ ëŠ˜ë ¤ì£¼ì. \n  ê·¸ ë‹¤ìŒìœ¼ë¡œ kubernetes í´ëŸ¬ìŠ¤í„°ë¥¼ í™œì„±í™” ì‹œì¼œì£¼ì. \n  í´ëŸ¬ìŠ¤í„°ê°€ ì˜ í™œì„±í™” ë˜ì—ˆë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n$ kubectl get nodes NAME STATUS ROLES AGE VERSION docker-desktop Ready master 2h v1.19.3   istioctl ì„¤ì¹˜ brew ë¥¼ ì‚¬ìš©í•´ì„œ istioctl ì„ ì„¤ì¹˜í•´ë‘ì.\n$ brew install istioctl $ istioctl version 1.9.1 istio sample ì˜ˆì œ clone $ git clone https://github.com/istio/istio.git $ cd istio istio ì„¤ì¹˜ istio ë¥¼ í™œì„±í™”í•œ kubenetes cluster ì— ì„¤ì¹˜í•´ë³´ì.\noperator init ì´ì „ ë²„ì „ê³¼ ë‹¤ë¥´ê²Œ ìµœê·¼ istio ì—ì„œëŠ” operator ë¥¼ ì‚¬ìš©í•œ ì„¤ì¹˜ê°€ ê°€ëŠ¥í•˜ë‹¤. í¸ë¦¬í•˜ê²Œ ì‚¬ìš©í•´ì£¼ì. (airflow ë„ operator ë¡œ ì„¤ì¹˜í–ˆë˜ ê¸°ì–µì´..)\n# --tags ë¥¼ ë¶™ì—¬ì„œ ë‹¤ë¥¸ ë²„ì „ì„ ì„¤ì¹˜í•  ìˆ˜ë„ ìˆë‹¤. ê¸°ë³¸ì€ ìµœì‹ ë²„ì „ì´ ì„¤ì¹˜ë¨  # istio-operator controller ì„¤ì¹˜ + IstioOperator CRD(Custom Resource Definition) ì„¤ì¹˜ë¨ $ istioctl operator init Installing operator controller in namespace: istio-operator using image: docker.io/istio/operator:1.9.1 Operator controller will watch namespaces: istio-system âœ” Istio operator installed âœ” Installation complete IstioOperator apply ingress gateway ë¥¼ í™œì„±í™” í•˜ê¸° ìœ„í•´ì„œ demo profile ë¡œ IstioOperator ë¥¼ apply í•˜ì.\n$ kubectl create ns istio-system $ kubectl apply -f - \u0026lt;\u0026lt;EOF apiVersion: install.istio.io/v1alpha1 kind: IstioOperator metadata: namespace: istio-system name: example-istiocontrolplane spec: profile: demo # profile demo ë¡œ í•˜ë©´ ì»´í¬ë„ŒíŠ¸ë¥¼ ì­ˆë£¨ë£© ì„¤ì¹˜í•œë‹¤. components: pilot: k8s: resources: requests: memory: 3072Mi # pilot ì—ëŠ” ë©”ëª¨ë¦¬ë¥¼ ë„‰ë„‰í•˜ê²Œ í• ë‹¹í•˜ì˜€ë‹¤. egressGateways: - name: istio-egressgateway # ì™¸ë¶€ë¡œ ë‚˜ê°€ëŠ” íŠ¸ë˜í”½ì„ egressgateway ë¥¼ í†µí•˜ë„ë¡ í™œì„±í™” í•œë‹¤. enabled: true EOF  profile ì— ë”°ë¼ì„œ ì„¤ì¹˜ë˜ëŠ” ì»´í¬ë„ŒíŠ¸ì˜ ì°¨ì´ê°€ ë‚œë‹¤. ì§€ê¸ˆì€ ë™ì‘ í™•ì¸ì„ ìœ„í•´ì„œ demo profile ë¡œ ì„¤ì¹˜í•˜ì§€ë§Œ production ì—ì„œëŠ” customization ì´ í•„ìš”í•  ìˆ˜ë„ ìˆë‹¤. ìì„¸í•œ í”„ë¡œí•„ ì˜µì…˜ì€ ë§¤ë‰´ì–¼ ë§í¬ë¥¼ ì°¸ê³ í•˜ì. ìœ„ì˜ ì˜ˆì‹œë¡œ ì„¤ì¹˜í•˜ë©´ ë‹¤ìŒì˜ ì»´í¬ë„ŒíŠ¸ê°€ ì„¤ì¹˜ëœë‹¤.  istio-egressgateway istio-ingressgateway istiod    istio-ingressgateway envoy ë¡œ ë˜ì–´ ìˆìœ¼ë©° ë“¤ì–´ì˜¤ëŠ”(ingress) íŠ¸ë˜í”½ì„ ì „ë‹¬í•˜ëŠ” ì—­í• ì„ ìˆ˜í–‰í•œë‹¤. istio ê°€ ì—†ì„ ë•Œ ingress controller (ì£¼ë¡œ nginx ë¡œ êµ¬ë™ë˜ëŠ”)ê°€ ì´ ì—­í• ì„ ìˆ˜í–‰í•œë‹¤. (ê²½ìš°ì— ë”°ë¼ nginx ingress controller + envoy istio ingress gateway ì¡°í•©ìœ¼ë¡œë„ êµ¬ì„±í•˜ê¸°ë„ í•œë‹¤ê³ ..)\nistio-egressgateway ë§ˆì°¬ê°€ì§€ë¡œ envoy ë¡œ ë™ì‘í•˜ë©° ë°–ìœ¼ë¡œ ë‚˜ê°€ëŠ”(egress) íŠ¸ë˜í”½ì„ ì œì–´í•˜ëŠ” ì—­í• ì„ ìˆ˜í–‰í•œë‹¤. ì–´ë–¤ ê²½ìš°ì— ì“°ì´ëƒë©´, í´ëŸ¬ìŠ¤í„° ì™¸ë¶€ì— ìˆëŠ” ì¸í”„ë¼ì—ì„œ ì œí•œëœ ACL ì„ í•„ìš”ë¡œ í•  ë•Œ egress-gateway ê°€ êµ¬ë™ë˜ëŠ” ìœ„ì¹˜ë¥¼ ì¼ë¶€ nodeë“¤ë¡œ ì œí•œí•˜ê³  ì´ Node ë“¤ì— ëŒ€í•´ì„œë§Œ ACL ì„ ì—´ì–´ì£¼ëŠ” ìš©ë„ë¡œ ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤.\nistiod istio ì˜ ì»¨íŠ¸ë¡¤ í”Œëœ (pilot - discovery , citadel - certification, galley - configuration management)\n ì¶”ê°€ ì»´í¬ë„ŒíŠ¸ ì„¤ì¹˜  ì´ì „ ë²„ì „ì—ì„œëŠ” demo í”„ë¡œí•„ë¡œ ì„¤ì¹˜í•˜ë©´ kiali, ë“±ë“±ì˜ ì»´í¬ë„ŒíŠ¸ê°€ ë§ì´ ì„¤ì¹˜ë˜ì—ˆëŠ”ë° ìµœì‹ ë²„ì „ì—ì„œëŠ” ì¶”ê°€ ì»´í¬ë„ŒíŠ¸ëŠ” ë”°ë¡œ ì„¤ì¹˜í•´ì¤˜ì•¼ í•œë‹¤. (ì´ë ‡ê²Œ ë³€ê²½ëœ ì´ìœ ëŠ” kiali, zipkin, Prometheusì™€ ê°™ì€ ì»´í¬ë„ŒíŠ¸ëŠ” istio ì˜ core ì»´í¬ë„ŒíŠ¸ê°€ ì•„ë‹ˆê³  ì´ ë…€ì„ë“¤ë„ ë²„ì „ì—…ì´ ë¹¨ë¼ì„œ demo profile ì— ê°™ì´ í¬í•¨ì‹œì¼°ë”ë‹ˆ ë²„ì „ì—… ëŒ€ì‘í•˜ê¸°ê°€ ì–´ë ¤ì› ë‹¤ê³  í•œë‹¤. ë”°ë¼ì„œ ê·¸ ë•Œê·¸ë•Œ í•„ìš”í•œ ì‚¬ëŒë“¤ì´ add components í•˜ë¼ê³  ì•ˆë‚´í•˜ê³  ìˆë‹¤.)  $ cd istio/samples/addons $ kubectl apply -f prometheus.yml $ kubectl apply -f kiali.yml $ kubectl apply -f grafana.yml $ kubectl apply -f jaeger.yaml ì„¤ì¹˜ í™•ì¸ Service\n$ kubectl get svc -n istio-system NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) grafana ClusterIP 10.96.62.176 \u0026lt;none\u0026gt; 3000/TCP istio-egressgateway ClusterIP 10.97.243.254 \u0026lt;none\u0026gt; 80/TCP,443/TCP,15443/TCP istio-ingressgateway LoadBalancer 10.96.161.146 localhost 15021:30511/TCP,80:30544/TCP,443:31492/TCP,31400:30865/TCP,15443:32030/TCP istiod ClusterIP 10.103.241.162 \u0026lt;none\u0026gt; 15010/TCP,15012/TCP,443/TCP,15014/TCP jaeger-collector ClusterIP 10.106.227.172 \u0026lt;none\u0026gt; 14268/TCP,14250/TCP kiali ClusterIP 10.109.82.172 \u0026lt;none\u0026gt; 20001/TCP,9090/TCP prometheus ClusterIP 10.106.47.148 \u0026lt;none\u0026gt; 9090/TCP tracing ClusterIP 10.99.41.58 \u0026lt;none\u0026gt; 80/TCP zipkin ClusterIP 10.105.51.116 \u0026lt;none\u0026gt; 9411/TCP Pods\nNAME READY STATUS RESTARTS grafana-f766d6c97-5gj64 1/1 Running 0 istio-egressgateway-5d748f86d5-2drv7 1/1 Running 0 istio-ingressgateway-67d647b4-xhjh5 1/1 Running 0 istiod-69ccd7b848-9vwck 1/1 Running 0 jaeger-7f78b6fb65-xp4sm 1/1 Running 0 kiali-59c8574c55-zvlcr 1/1 Running 0 prometheus-69f7f4d689-4cswz 2/2 Running 0 ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì— istio-injection ë¼ë²¨ ì¶”ê°€ ì‚¬ì´ë“œì¹´ë¥¼ í™œì„±í™”í•  default namespace ì— istio-injection=enable ë¼ë²¨ì„ ì ìš©í•œë‹¤.\n$ kubectl label namespace default istio-injection=enabled namespace/default labeled BookInfo ì˜ˆì œ ì‹¤í–‰ sample yml ì˜ˆì œ ì ìš© $ kubectl apply -f samples/bookinfo/platform/kube/bookinfo.yaml service/details created serviceaccount/bookinfo-details created deployment.apps/details-v1 created service/ratings created serviceaccount/bookinfo-ratings created deployment.apps/ratings-v1 created service/reviews created serviceaccount/bookinfo-reviews created deployment.apps/reviews-v1 created deployment.apps/reviews-v2 created deployment.apps/reviews-v3 created service/productpage created serviceaccount/bookinfo-productpage created deployment.apps/productpage-v1 created bookinfo ì„œë¹„ìŠ¤ í™•ì¸ $ kubectl get svc NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE details ClusterIP 10.110.253.197 \u0026lt;none\u0026gt; 9080/TCP 7s kubernetes ClusterIP 10.96.0.1 \u0026lt;none\u0026gt; 443/TCP 2d productpage ClusterIP 10.109.81.216 \u0026lt;none\u0026gt; 9080/TCP 7s ratings ClusterIP 10.109.38.26 \u0026lt;none\u0026gt; 9080/TCP 7s reviews ClusterIP 10.101.176.215 \u0026lt;none\u0026gt; 9080/TCP 7s pods í™•ì¸  pod ìƒíƒœë¥¼ í™•ì¸í•˜ì. docker desktop ì—ì„œ ë„ìš°ë ¤ë‹ˆ ì‚¬ì´ë“œì¹´ ëœ¨ëŠ”ë° ì‹œê°„ì´ ì¢€ ê±¸ë¦°ë‹¤. ready 2/2 ë³´ë ¤ê³  ì¡°ê¸ˆ ê¸°ë‹¤ë ¸ë‹¤.  $ kubectl get pods -w NAME READY STATUS RESTARTS AGE details-v1-79f774bdb9-v7wq7 2/2 Running 0 3m27s productpage-v1-6b746f74dc-sgwxh 2/2 Running 0 3m26s ratings-v1-b6994bb9-mjhkg 2/2 Running 0 3m26s reviews-v1-545db77b95-p9lkm 2/2 Running 0 3m27s reviews-v2-7bf8c9648f-gmckn 2/2 Running 0 3m27s reviews-v3-84779c7bbc-qtrc8 2/2 Running 0 3m27s curl ìš”ì²­ ê²°ê³¼ í™•ì¸ ë‹¤ìŒê³¼ ê°™ì´ Simple Bookstore App ì´ë¼ëŠ” ë¬¸ìì—´ì„ í™•ì¸í•  ìˆ˜ ìˆìœ¼ë©´ ëœë‹¤.\n$ kubectl exec \u0026#34;$(kubectl get pod -l app=ratings -o jsonpath=\u0026#39;{.items[0].metadata.name}\u0026#39;)\u0026#34; -c ratings -- curl -sS productpage:9080/productpage | grep -o \u0026#34;\u0026lt;title\u0026gt;.*\u0026lt;/title\u0026gt;\u0026#34; \u0026lt;title\u0026gt;Simple Bookstore App\u0026lt;/title\u0026gt; ë„¤íŠ¸ì›Œí‚¹ ì„¤ì • ì¶”ê°€ ì•„ì§ ë¸Œë¼ìš°ì €ì—ì„œ í¸í•˜ê²Œ ì ‘ì†í•˜ê¸°ê°€ ì–´ë µë‹¤. ë„¤íŠ¸ì›Œí‚¹ ì„¤ì •ì„ ì¶”ê°€í•˜ì\n$ kubectl apply -f samples/bookinfo/networking/bookinfo-gateway.yaml gateway.networking.istio.io/bookinfo-gateway created virtualservice.networking.istio.io/bookinfo created ì„¤ì¹˜ëœ gateway ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n$ kubectl get gateway NAME AGE bookinfo-gateway 6s ì ‘ì† í™•ì¸ External IP í™•ì¸ í˜„ì¬ Docker desktop í™˜ê²½ì—ì„œëŠ” LoadBalancer ì˜ External IP ê°€ localhost ë¡œ ë‚˜ì˜¨ë‹¤.\n$ kubectl get svc -n istio-system NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE grafana ClusterIP 10.96.62.176 \u0026lt;none\u0026gt; 3000/TCP 12h istio-egressgateway ClusterIP 10.97.243.254 \u0026lt;none\u0026gt; 80/TCP,443/TCP,15443/TCP 3h16m istio-ingressgateway LoadBalancer 10.96.161.146 localhost 15021:30511/TCP,80:30544/TCP,443:31492/TCP,31400:30865/TCP,15443:32030/TCP 3h16m istiod ClusterIP 10.103.241.162 \u0026lt;none\u0026gt; 15010/TCP,15012/TCP,443/TCP,15014/TCP 3h16m jaeger-collector ClusterIP 10.106.227.172 \u0026lt;none\u0026gt; 14268/TCP,14250/TCP 12h kiali ClusterIP 10.109.82.172 \u0026lt;none\u0026gt; 20001/TCP,9090/TCP 12h prometheus ClusterIP 10.106.47.148 \u0026lt;none\u0026gt; 9090/TCP 12h tracing ClusterIP 10.99.41.58 \u0026lt;none\u0026gt; 80/TCP 12h zipkin ClusterIP 10.105.51.116 \u0026lt;none\u0026gt; 9411/TCP 12h ë”°ë¼ì„œ í˜„ì¬ istio-ingressgateway ê°€ LoadBalancer íƒ€ì…ìœ¼ë¡œ í™œì„±í™” ë˜ì–´ localhost ë¥¼ í†µí•´ì„œ ì ‘ì†ì´ ê°€ëŠ¥í•˜ë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤. ë§Œì•½ minikubeì™€ ê°™ì´ ë‹¤ë¥¸ í™˜ê²½ì¸ ê²½ìš°ì—ëŠ” ê°ê°ì˜ external IP ë˜ëŠ” NodePort ë¥¼ í™œìš©í•˜ì—¬ ì ‘ì†í•´ì•¼í•˜ë¯€ë¡œ ì¶”ê°€ ì‘ì—…ì´ í•„ìš”í•˜ë‹¤. ë§¤ë‰´ì–¼ ë§í¬\në¸Œë¼ìš°ì € í™•ì¸ ì •ìƒì ìœ¼ë¡œ ì‘ì—…ì´ ì™„ë£Œë˜ì—ˆë‹¤ë©´\nhttp://localhost/productpage ë¡œ ì ‘ì†ì´ ì˜ ëœë‹¤. ì—¬ëŸ¬ë²ˆ ìƒˆë¡œê³ ì¹¨í•´ë³´ë©´ì„œ rating ì˜ì—­ì´ ë°”ë€ŒëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.\n ì¶”ê°€ ì»´í¬ë„ŒíŠ¸ í™•ì¸ Kiali $ istioctl dashboard kiali  Jaeger $ istioctl dashboard jaeger  garafana $ istioctl dashboard garafana  ì£¼ì˜ì‚¬í•­ ë§Œì•½ ì§„í–‰ì—ì„œ ì˜ ë˜ì§€ ì•ŠëŠ” ë¶€ë¶„ì´ ìˆë‹¤ë©´ istioctl analyze ë¥¼ ì‹¤í–‰í•´ì„œ ë¬¸ì œê°€ ì—†ëŠ”ì§€ ì‚´í´ë³¼ ìˆ˜ ìˆë‹¤.\nistioctl analyze ê¸°íƒ€ ì´ê±´ ìŠ¤í„°ë””ì—ì„œ ì•ˆìŠ¹ê·œë‹˜ì´ ì•Œë ¤ì£¼ì‹  ë‚´ìš©ì´ë‹¤.\n  demo profile ì—ì„œëŠ” jaegerì˜ ë©”íŠ¸ë¦­ ë°ì´í„°ê°€ inmemory ì— ì €ì¥ë˜ì§€ë§Œ ì‹¤ì œ production ì—ì„œëŠ” ë³„ë„ì˜ ìŠ¤í† ë¦¬ì§€(es) ë“±ì— ì ì¬í•  ìˆ˜ ìˆë‹¤.\n  pilot ì´ ì»¨íŠ¸ë¡¤ í”Œëœì—ì„œ ì£¼ìš”í•´ì„œ ë©”ëª¨ë¦¬ë¥¼ ë„‰ë„‰í•˜ê²Œ ì£¼ëŠ”ê²Œ ì¢‹ë‹¤.\n  IstioOperator ë¥¼ ì„¤ì¹˜í•  ë•Œ spec ì— revision ì„ ì§€ì •í•´ì£¼ì–´ì•¼ ë‹¤ìŒë²„ì „ìœ¼ë¡œ ì˜¬ë¼ê°ˆ ë•Œ ìˆ˜ì›”í•˜ë‹¤.\napiVersion: isntall.istio.io/v1alpha1 kind: IstioOperator ... spec: revision: \u0026#34;1-9-1\u0026#34; # ì´ë¶€ë¶„ì´ ë¦¬ë¹„ì „ ì§€ì • profile: default ....   ë¦¬ë¹„ì „ì„ ì§€ì •í•˜ë©´ istio-injection=enabled ì´ ë™ì‘í•˜ì§€ ì•ŠëŠ”ë‹¤.\n# ë‹¤ìŒì²˜ëŸ¼ ì§€ì •í•´ì•¼ëœë‹¤. $ kubectl label ns default istio.io/rev=1-9-1   IstioOperator Kind ë¥¼ ì—¬ëŸ¬ê°œ ì„¤ì¹˜í•´ì„œ (profile : default / profile: empty ì™€ ê°™ì´)\n istiod / ingressgateway / egressgateway ì»´í¬ë„ŒíŠ¸ë¥¼ ê°ê° ë³„ë„ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤.(ê°œë³„ ë¦¬ì†ŒìŠ¤ / HPA ë¥¼ ë”°ë¡œ ì§€ì •)    jager ì™€ kiali ì˜ ë‹¤ë¥¸ì ì€? - jaeger ëŠ” call trace ë¥¼ ë³´ëŠ”ë° ì§‘ì¤‘(Open telemetry), kiali ëŠ” ì„œë¹„ìŠ¤ì˜ graph ë¥¼ ë³´ëŠ”ë° ì¤‘ì ì„ ë‘”ë‹¤\n kial ëŠ” ì›Œí¬ë¡œë“œë¥¼ í™•ì¸í•˜ê³  jaeger ì™€ ì—°ê²°í•´ì„œ trace ì •ë³´ë¥¼ ë³¼ ìˆ˜ë„ ìˆë‹¤.    kubectl get istiooperators.install.istio.io -n istio-system ì„ ì…ë ¥í•˜ë©´ í˜„ì¬ ì„¤ì¹˜ëœ istiod ì»´í¬ë„ŒíŠ¸ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n  ìƒˆë¡œìš´ operator ë²„ì „ì—…ì€ ë‹¤ìŒê³¼ ê°™ì´ ì§„í–‰ëœë‹¤.\n ìƒˆë¡œìš´ ë²„ì „ì˜ istio operator ë¥¼ revision ì§€ì •í•˜ì—¬ í™œì„±í™” í•˜ê³  injection ì„¤ì •ì„ ìƒˆë¡­ê²Œ overwrite kubectl label no default istio.io/rev=1-9-2 ì• í”Œë¦¬ì¼€ì´ì…˜ë“¤ì„ ì „ì²´ restart í•˜ì—¬ ìƒˆë¡œìš´ istio sidecar ê°€ êµ¬ë™ë˜ì–´ ìƒˆë¡œìš´ operator ì— ì—°ê²°ë˜ë„ë¡ í™•ì¸ (istioctl proxy-status) kubectl delete istiooperators.install.istio.io {name} --revision=1-9-1 ë¡œ ê¸°ì¡´ ì»´í¬ë„ŒíŠ¸ ì‚­ì œ    ì°¸ê³   https://istio.io/latest/docs/setup/install/operator/ https://istio.io/latest/docs/examples/bookinfo/ https://istio.io/latest/docs/setup/getting-started/#determining-the-ingress-ip-and-ports https://istio.io/latest/docs/setup/additional-setup/config-profiles/  "
},
{
	"permalink": "https://findstar.pe.kr/2021/03/21/kubernetes-nginx-ingress-controller-regexp-path/",
	"title": "nginx ingress ì—ì„œ ì •ê·œí‘œí˜„ì‹ ê²½ë¡œ ì§€ì •í•˜ê¸°",
	"tags": ["kubernetes", "nginx regexp"],
	"description": "",
	"type": "post",
	"contents": "nginx ingress controller ì—ì„œ regexp location ì§€ì •í•˜ëŠ” ë°©ë²• ë°°ê²½ k8s ì—ì„œ nginx ingress controller ì˜ path ì„ ì§€ì •í•  ë•Œì— ê¸°ë³¸ì ìœ¼ë¡œëŠ” string match ë°©ì‹ìœ¼ë¡œ pathë¥¼ êµ¬ë¶„í•œë‹¤. ëŒ€ë¶€ë¶„ì˜ ê²½ìš°ì—ëŠ” ë³„ ë¬¸ì œê°€ ì—†ì§€ë§Œ íŠ¹ì • ìš”êµ¬ì‚¬í•­ì— ë”°ë¼ì„œ ë”°ë¼ì„œ path ë¥¼ ì‹ë³„í•˜ëŠ”ë° regexp ë¥¼ ì ìš©í•˜ê³  ì‹¶ì€ ê²½ìš°ê°€ ìˆë‹¤. ingress controller ë¡œ ë™ì‘í•˜ëŠ” nginx ì˜ configurationì„ ë°”ë¡œ ìˆ˜ì •í•˜ê¸°ëŠ” ì–´ë ¤ìš°ë‹ˆ ingress controller ì—ì„œ ì§€ì›í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ í•´ë²•ì„ ì°¾ì•„ë³´ì•˜ë‹¤.\në°©ë²• ê°„ë‹¨íˆ ë§í•´ì„œ ë‹¤ìŒê³¼ ê°™ì´ nginx.ingress.kubernetes.io/use-regex annotation ì„ ì ìš©í•˜ë©´ ëœë‹¤.\napiVersion: networking.k8s.io/v1beta1 kind: Ingress metadata: name: test-ingress annotations: nginx.ingress.kubernetes.io/use-regex: \u0026#34;true\u0026#34; annotation ì„ ì§€ì •í•œ ë‹¤ìŒì— ë‹¤ìŒê³¼ ê°™ì´ path ì§€ì •ì„ í–ˆë‹¤ë©´\nspec: rules: - host: test.com http: paths: - path: /foo/.* backend: serviceName: test servicePort: 80 nginx ingress controller ì— ì ìš©ë˜ëŠ” nginx config ëŠ” ë‹¤ìŒê³¼ ê°™ì€ í˜•íƒœê°€ ëœë‹¤.\nlocation ~* \u0026quot;^/foo/.*\u0026quot; { ... } ì£¼ì˜ì‚¬í•­ ì£¼ì˜ í• ì ì€ regexp ê°€ ì ìš©ëœ path ì˜ ê²½ìš°ì— ë§¤ì¹­ë˜ëŠ” íŒ¨í„´ì´ ì—¬ëŸ¬ê°œë¼ë©´ ì²« ë²ˆì§¸ ì¼ì¹˜í•˜ëŠ” íŒ¨í„´ì´ ì ìš©ëœë‹¤ëŠ” ì ì´ë‹¤. íŒ¨í„´ì„ ë“±ë¡í•  ë•Œ ì£¼ì˜í•˜ì.\nì°¸ê³   https://kubernetes.github.io/ingress-nginx/user-guide/ingress-path-matching/  "
},
{
	"permalink": "https://findstar.pe.kr/tags/nginx-regexp/",
	"title": "nginx regexp",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/2021/03/15/curl-cnd-lookup-time/",
	"title": "curl ë¡œ ì¸¡ì •í•˜ëŠ” dns lookup time",
	"tags": ["curl"],
	"description": "",
	"type": "post",
	"contents": "curl ë¡œ dns lookup time ê¹Œì§€ ì–¼ë§ˆë‚˜ ê±¸ë¦¬ëŠ”ì§€ í™•ì¸í•˜ê¸° ë°°ê²½ k8s í´ëŸ¬ìŠ¤í„° ì„œë¹„ìŠ¤ë“¤ ì‚¬ì´ì— dns lookup time ì´ ì–¼ë§ˆë‚˜ ë˜ëŠ”ì§€ í™•ì¸í•´ì•¼ë  ì¼ì´ ìˆì—ˆë‹¤. curl ì´ ê°€ì¥ ìµìˆ™í•´ì„œ curl ë¡œ dns lookup time ì„ í™•ì¸í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì•Œì•„ë³´ì•˜ë‹¤.\në°©ë²• curlì€ --write-out ì˜µì…˜ì„ ê°€ì§€ê³  ìˆëŠ”ë° ì´ ì˜µì…˜ì„ ì‚¬ìš©í•˜ë©´ http ìš”ì²­ì˜ ë‹¤ì–‘í•œ ê²°ê³¼ê°’ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\nhttp_code http ì‘ë‹µì˜ ìƒíƒœ ì½”ë“œ time_appconnect ìš”ì²­ì´ ì‹œì‘ë˜ì–´ SSL/SSH/etc ì—°ê²° ë˜ëŠ” í•¸ë“œì‰ì´í¬ê°€ ì™„ë£Œë˜ì—ˆì„ ë•Œê¹Œì§€ì˜ ì‹œê°„ (ì´ˆë‹¨ìœ„) time_connect ìš”ì²­ì´ ì‹œì‘ë˜ì–´ TCP ì—°ê²°ì´ ë˜ì—ˆì„ë•Œê¹Œì§€ì˜ ì‹œê°„ (ì´ˆë‹¨ìœ„) time_namelookup DNS ì¡°íšŒê°€ ì™„ë£Œë˜ì—ˆì„ ë•Œê¹Œì§€ì˜ ì‹œê°„ (ì´ˆë‹¨ìœ„) time_pretransfer íŒŒì¼ ì „ì†¡ì´ ì‹œì‘ë˜ì—ˆì„ë•Œê¹Œì§€ì˜ ì‹œê°„(ì´ˆë‹¨ìœ„) time_starttransfer ì²«ë²ˆì§¸ ë°”ì´íŠ¸ê°€ ì „ì†¡ë˜ì—ˆì„ ë•Œê¹Œì§€ì˜ ì‹œê°„(ì´ˆë‹¨ìœ„) time_total ì „ì²´ ì‘ì—…ì´ ì™„ë£Œë˜ì—ˆì„ ë•Œê¹Œì§€ì˜ ì‹œê°„(ì´ˆë‹¨ìœ„) ì´ ì¤‘ì—ì„œ dns lookup time ê¹Œì§€ì˜ ì‹œê°„ì„ ì¸¡ì •í•˜ë ¤ë©´ time_namelookup ì„ ì‚¬ìš©í•˜ë©´ ëœë‹¤.\në‹¤ìŒê³¼ ê°™ì´ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤.\ncurl --write-out '%{time_namelookup}' https://google.com \u0026lt;HTML\u0026gt;\u0026lt;HEAD\u0026gt;\u0026lt;meta http-equiv=\u0026quot;content-type\u0026quot; content=\u0026quot;text/html;charset=utf-8\u0026quot;\u0026gt; \u0026lt;TITLE\u0026gt;301 Moved\u0026lt;/TITLE\u0026gt;\u0026lt;/HEAD\u0026gt;\u0026lt;BODY\u0026gt; \u0026lt;H1\u0026gt;301 Moved\u0026lt;/H1\u0026gt; The document has moved \u0026lt;A HREF=\u0026quot;https://www.google.co.kr/\u0026quot;\u0026gt;here\u0026lt;/A\u0026gt;. \u0026lt;/BODY\u0026gt;\u0026lt;/HTML\u0026gt; 0.001519% ìš”ì²­ ê²°ê³¼ë¡œ í™•ì¸ë˜ëŠ” ì‘ë‹µì€ ë³´ê³  ì‹¶ì§€ ì•Šìœ¼ë‹ˆ ë‹¤ìŒê³¼ ê°™ì´ ê²°ê³¼ ê°’ì„ í‘œì‹œí•˜ì§€ ì•Šë„ë¡ ë³€ê²½í•œë‹¤. -o /dev/null ì„ ì¶”ê°€í•œë‹¤.\ncurl -o /dev/null --write-out '%{time_namelookup}' https://google.com % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed 100 220 100 220 0 0 814 0 --:--:-- --:--:-- --:--:-- 814 0.002023% ì‘ë‹µ ê²°ê³¼ë¥¼ ì œê±°í•˜ì˜€ì§€ë§Œ ì§„í–‰ ìƒí™©ì„ ë‚˜íƒ€ë‚´ëŠ” í”„ë¡œê·¸ë ˆìŠ¤ê°€ ì•„ì§ ì¶œë ¥ë˜ì–´ ì§€ì €ë¶„í•˜ë‹¤. ì´ê²ƒë„ ì¤„ì—¬ë³´ì. -s ì„ ì¶”ê°€í•œë‹¤. (silent)\ncurl -o /dev/null -s --write-out '%{time_namelookup}' https://google.com 0.001426% ë‹¨ í•œë²ˆì˜ ì‘ë‹µ ê°’ìœ¼ë¡œëŠ” í™•ì¸í•˜ê¸° ì–´ë ¤ìš°ë‹ˆ ì—¬ëŸ¬ë²ˆ ìˆ˜í–‰í•œ ê²°ê³¼ë¥¼ í™•ì¸í•´ë³´ì. ê°„ë‹¨í•˜ê²Œ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‘ì„±í–ˆë‹¤.\n#!/bin/sh  URL=${1} LIMIT=${2:-1000} if [[ -z \u0026#34;$URL\u0026#34; ]]; then echo \u0026#34;ERROR: Useage : {url} {times} \u0026#34; exit 1 fi echo \u0026#34;$LIMITtimes dns_time check for $URL\u0026#34; function get_time() { url=$1 t=$(curl -s -o /dev/null -w \u0026#39;%{time_namelookup}\u0026#39; $url) echo $t } sum=.0 count=0 while [ \u0026#34;$count\u0026#34; -le \u0026#34;$LIMIT\u0026#34; ] do t=$(get_time $URL) count=$((count + 1)) sum=$(echo \u0026#34;$sum+ $t\u0026#34; | bc| sed \u0026#39;s/^\\\\./0./;s/0*$//;s/\\\\.$//\u0026#39;) if [ \u0026#34;$count\u0026#34; -ge $LIMIT ] then break fi done total_time=$(echo \u0026#34;scale=10; $sum* 1000\u0026#34; | bc | sed \u0026#39;s/^\\\\./0./;s/0*$//;s/\\\\.$//\u0026#39;) avg_time=$(echo \u0026#34;scale=10; $total_time/ $count\u0026#34; | bc | sed \u0026#39;s/^\\\\./0./;s/0*$//;s/\\\\.$//\u0026#39;) echo \u0026#34;total taken: $total_timems, avg_time : $avg_timems\u0026#34; ì»¤ë§¨ë“œë¼ì¸ì—ì„œ ë‹¤ìŒê³¼ ê°™ì´ ì…ë ¥í•˜ë©´ ê²°ê³¼ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n./time.sh http://google.co.kr 10 10 times dns_time check for http://google.co.kr total taken: 16.338 ms, avg_time : 1.6338 ms dns lookup timeë§Œì„ í™•ì¸í•˜ê¸° ìœ„í•´ì„œëŠ” ë‹¤ë¥¸ ì¢‹ì€ ë°©ë²•ì´ ìˆê² ì§€ë§Œ ë‚˜ì˜ ê²½ìš°ì—ëŠ” k8s í´ëŸ¬ìŠ¤í„° ë‚´ë¶€ì—ì„œ ê° ì„œë¹„ìŠ¤ë“¤ ì‚¬ì´ì˜ http ìš”ì²­ì— ëŒ€í•´ì„œ dnsë¥¼ ë³€ê²½í–ˆì„ ë•Œ ë‚´ë¶€ì—ì„œ ì†Œìš”ë˜ëŠ” ì‹œê°„ì„ ì¸¡ì •í•˜ëŠ”ê²Œ ëª©í‘œë¼ì„œ ìœ„ì™€ ê°™ì´ curl ë¡œ ê°„ë‹¨í•˜ê²Œ í™•ì¸í•´ ë³´ì•˜ë‹¤. ê²Œë‹¤ê°€ alpine ë¦¬ëˆ…ìŠ¤ë¼ ì´ê²ƒì €ê²ƒ í•´ë³¼ ì—¬ì§€ê°€ ì—†ì—ˆë‹¤.\nì°¸ê³   https://ops.tips/gists/measuring-http-response-times-curl/  "
},
{
	"permalink": "https://findstar.pe.kr/tags/haproxy/",
	"title": "haproxy",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/haproxy-acl-logging/",
	"title": "haproxy acl logging",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/haproxy-custom-variable-logging/",
	"title": "haproxy custom variable logging",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/2019/09/08/haproxy-acl-logging/",
	"title": "Haproxyì—ì„œ aclì„ logì— ê¸°ë¡í•˜ê¸°",
	"tags": ["haproxy", "haproxy acl logging", "haproxy custom variable logging"],
	"description": "",
	"type": "post",
	"contents": "Haproxy ì˜ ACL ì„¤ì • reverse proxy ë¡œ í™œìš©í•˜ë©´ì„œ header ì˜ ê°’ì„ íŒë‹¨í•˜ê±°ë‚˜, source ì˜ IP ëŒ€ì—­ì„ í™•ì¸í•˜ê±°ë‚˜, ë˜ëŠ” ê¸°íƒ€ íŠ¹ì • backend ì—°ê²°ì„ ìœ„í•´ì„œ aclì„ ì •ì˜í•œë‹¤.\n # ACL \u0026quot;vpc-network\u0026quot; ì„ ì–¸ acl vpc-network src 10.10.1.0/16 # ACL \u0026quot;allow_url\u0026quot; ì„ ì–¸ # whitelist url ëª©ë¡ íŒŒì¼ ì§€ì • acl accept_url url_beg -i -f /etc/haproxy/accept_url.list # ACL \u0026quot;found-header\u0026quot; ì„ ì–¸ acl found-header req.hdr_val(my_custom_header) -m found ì¡°ê±´ì— ë”°ë¥¸ ë¶„ê¸° ì²˜ë¦¬ë¥¼ ìœ„í•œ ë³€ìˆ˜ íšë“ ì˜ˆë¥¼ë“¤ì–´ header ì˜ íŠ¹ì • ê°’ì„ ë³€ìˆ˜ë¡œ íšë“í•˜ì—¬ ì¡°ê±´ì— ë”°ë¼ ë‹¤ë¥¸ ë°±ì—”ë“œ ì„œë²„ë¡œ ìš”ì²­ì„ ì²˜ë¦¬ë¥¼ í•˜ê³  ì‹¶ë‹¤ê³  ê°€ì •í•´ë³´ì. ì´ ê°’ì„ ë‚´ë¶€ ë³€ìˆ˜ë¡œ íšë“í•˜ê¸° ìœ„í•´ì„œëŠ” ëª‡ê°€ì§€ ì„¤ì •ì„ í†µí•´ì„œ ì²˜ë¦¬í•  ìˆë‹¤.\napache ì—ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.\n#apache # my_custom_header ë¼ëŠ” ê°’ì´ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸í•˜ê³  ì´ ê°’ì„ # CUSTOM_HEADER ë¼ëŠ” ë³€ìˆ˜ì— í• ë‹¹í•œë‹¤. SetEnvIf my_custom_header (.+) CUSTOM_HEADER=$1 # ë¡œê·¸ì— CUSTOM_HEADER ë¼ëŠ” ë³€ìˆ˜ê°’ì„ ê¸°ë¡í•œë‹¤. LogFormat \u0026quot;%{CUSTOM_HEADER}e %{Host}i %D [%{%FT%T%z}t] \\\u0026quot;%r\\\u0026quot; %\u0026gt;s %b \\\u0026quot;%{Referer}i\\\u0026quot; \\\u0026quot;%{User-Agent}i\\\u0026quot;\u0026quot; combined nginx ì—ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.\n#nginx # http_my_custom_header ë¼ëŠ” ê°’ì„ ì°¾ì•„ custom_header ë¼ëŠ” ë³€ìˆ˜ì— í• ë‹¹í•œë‹¤ # ê°’ì´ ì—†ë‹¤ë©´ ê³µë°±ìœ¼ë¡œ ì§€ì • # ê°’ì§€ ì¡´ì¬í•œë‹¤ë©´ í•´ë‹¹ê°’ì„ ë³€ìˆ˜ì— ì €ì¥í•œë‹¤. map $http_my_custom_header $custom_header { \u0026quot;-\u0026quot; \u0026quot;\u0026quot;; default $http_my_custom_header; } # custom_header ë¼ëŠ” ë³€ìˆ˜ê°’ì„ ë¡œê·¸ì— ê¸°ë¡í•œë‹¤. log_format main '$custom_header $forward_ip $http_host $request_time [$time_iso8601] '; haproxy document ë¥¼ í™•ì¸í•˜ë©´ ì• ì„í•˜ê²Œë„ acl ì„ ê³§ë°”ë¡œ ë¡œê·¸ì— ë‚¨ê¸°ëŠ” ë°©ë²•ì´ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤. apache ë‚˜ nginx ë³´ë‹¤ëŠ” ì¡°ê¸ˆ ë¶ˆí¸í•œ ë°©ë²•ì„ ê±°ì³ì•¼ í•œë‹¤. ë‹¤ìŒê³¼ ê°™ì´ í•´ë³´ì.\n#haproxy # request header ì— ë“¤ì–´ ìˆëŠ” my_custom_header ë¼ëŠ” ë³€ìˆ˜ê°’ì„ ì°¾ì•„ ì´ë¥¼ # req.my_custom_variable ì´ë¼ëŠ” ê°’ìœ¼ë¡œ ì§€ì •í•œë‹¤. http-request set-var(req.my_custom_variable) req.hdr(my_custom_header) # íŠ¹ì • acl ì— ë”°ë¼ì„œ string ê°’ìœ¼ë¡œ ì§€ì •í•  ìˆ˜ ìˆë‹¤. http-request set-var(req.my_custom_variable) str(\u0026quot;other_value\u0026quot;) if my_acl # ê¸¸ì´ ì œí•œ 10ìœ¼ë¡œ ì´ ê°’ì„ capture í•˜ì. http-request capture var(req.my_custom_variable) len 10 # ìœ„ì—ì„œ ìº¡ì²˜í•œ ê°’ì„ ë¡œê·¸ì— ê¸°ë¡í•œë‹¤. # ìº¡ì³í•œ ê°’ì´ ì—¬ëŸ¬ê°œë¼ë©´ index ë²ˆí˜¸ëŠ” 0, 1, 2.. ìˆœìœ¼ë¡œ ëŠ˜ì–´ë‚œë‹¤. log-format \u0026quot;%[capture.req.hdr(0)]\\ %Tt [%trl]\\ \\\u0026quot;%HM\\ %HU\\ %HV\\\u0026quot;\\ %ST\\ %B\\\u0026quot; ì´ë ‡ê²Œ í•˜ë©´ ì›í•˜ëŠ” ê°’ì„ acl ì— ë”°ë¼ì„œ ì§€ì •í•  ìˆ˜ ìˆê³ , ì´ë¥¼ ë¡œê·¸ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ë‚˜ì˜ ê²½ìš°ì—ëŠ” ë‚´ë¶€ ë‚´íŠ¸ì›Œí¬ ì—ì„œ ì ‘ì†ì¸ì§€ ì•„ë‹Œì§€ ë¡œê·¸ì—ì„œ ë°”ë¡œ í™•ì¸í•˜ëŠ” ìš©ë„ë¡œ ì‚¬ìš©í•œë‹¤. í…ŒìŠ¤íŠ¸ëŠ” haproxy 1.9 ë²„ì „ì—ì„œ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•˜ëŠ” ê²ƒì„ í™•ì¸í–ˆë‹¤.\nìš”ì•½ haproxy ì—ì„œ acl ê°’ì„ log ì— ë°”ë¡œ ë‚¨ê¸°ëŠ” ë°©ë²•ì„ ì•Œì•„ë³´ì•˜ë‹¤. apache ì²˜ëŸ¼ ë°”ë¡œ acl ì„ ë³€ìˆ˜ê°’ìœ¼ë¡œ í™•ì¸í•´ì„œ ê¸°ë¡í•˜ëŠ” ë°©ë²•ì´ ìˆìœ¼ë©´ í¸í•˜ê² ì§€ë§Œ. ì¡°ê¸ˆ ë¶ˆí¸í•œ ë°©ë²•ì„ ê±°ì³ì•¼ í•œë‹¤. ë˜í•œ capture í•œ ê°’ì„ index ê°’ì²˜ëŸ¼ 0, 1, 2.. ë¡œ í™•ì¸í•˜ë ¤ë‹ˆ ì„¤ì •ì´ ì§€ì €ë¶„í•´ì§€ëŠ” ë‹¨ì ì´ ìˆë‹¤.\nì°¸ê³   í¬ë¡¬ ë¸Œë¼ìš°ì €ì—ì„œ header ì— íŠ¹ì • ê°’ì„ ì¶”ê°€í•˜ëŠ” extension : https://chrome.google.com/webstore/detail/modheader/idgpnmonknjnojddfkpgkljpfnnfcklj stat haproxy ë§¤ë‰´ì–¼ : https://cbonte.github.io/haproxy-dconv/1.8/management.html#9 socket ìœ¼ë¡œ haproxy stat íšë“í•˜ê¸° : https://makandracards.com/makandra/36727-get-haproxy-stats-informations-via-socat stat ìˆ˜ì§‘ script : https://gist.github.com/bpaquet/7153979 stat ì„¤ëª… : https://gist.github.com/alq666/20a464665a1086de0c9ddf1754a9b7fb  "
},
{
	"permalink": "https://findstar.pe.kr/2019/04/21/kmooc-review-microservice-design-and-implementation/",
	"title": "[ë¦¬ë·°] Kmooc-Microservice ì„¤ê³„ ë° êµ¬í˜„ ìˆ˜ê°• í›„ê¸°",
	"tags": ["kmooc", "Microservice ì„¤ê³„ ë° êµ¬í˜„"],
	"description": "",
	"type": "post",
	"contents": "[kmooc] Microservice ì„¤ê³„ ë° êµ¬í˜„ ìˆ˜ê°• í›„ê¸° ë°°ê²½ ìš°ì—°ì°®ê²Œ [kmooc] Microservice ì„¤ê³„ ë° êµ¬í˜„ ê°•ì˜ë¥¼ ì‹ ì²­í•´ì„œ ë“£ê²Œ ë˜ì—ˆë‹¤. í° ê¸°ëŒ€ë¥¼ í•˜ì§€ ì•Šê³  ì‹œì‘í–ˆëŠ”ë° ì˜ˆìƒë³´ë‹¤ ê°œë…ì„ ì •ë¦¬í•˜ëŠ”ë° ë„ì›€ì´ ë˜ì—ˆë‹¤.\nkmooc? kmoocëŠ” Korean MOOC(Massive, Open, Online, Courseì˜ ì¤„ì„ë§ë¡œ \u0026lsquo;ì˜¤í”ˆí˜• ì˜¨ë¼ì¸ í•™ìŠµ ê³¼ì •\u0026rsquo;) ì˜ ì•½ì–´ì´ë‹¤. 2015ë…„ë„ ë¶€í„° ì‹œì‘í–ˆë‹¤ê³  í•˜ëŠ”ë°, ì£¼ìš” ê°•ì¢Œë“¤ì€ ëŒ€í•™ê³¼ ì—°ê³„í•œ ë‚´ìš©ì´ ë§ì•„ ë³´ì˜€ë‹¤. ì£¼ë¡œ êµìˆ˜ë‹˜ë“¤ì˜ ì˜¨ë¼ì¸ ê°•ì˜ë¥¼ ìˆ˜ê°•í•  ìˆ˜ ìˆë„ë¡ ì •ë¦¬ë˜ì–´ ìˆì—ˆë‹¤. í•´ì™¸ì˜ coursera í•œêµ­ì–´íŒ ì´ë¼ê³  ìƒê°í•˜ë©´ ëœë‹¤. ë‚˜ë„ ì´ë²ˆì— ì²˜ìŒ ì•Œê²Œë˜ì—ˆë‹¤.\n\u0026lsquo;Micronservice ì„¤ê³„ ë° êµ¬í˜„\u0026rsquo; ê°•ì˜ ë‚˜ëŠ” kmooc ì‚¬ì´íŠ¸ì— ê´€ì‹¬ì„ ê°€ì§€ê³  ìˆì—ˆë˜ ê²ƒë„ ì•„ë‹ˆì˜€ê³ , í˜ì´ìŠ¤ë¶ì—ì„œ ìš°ì—°íˆ \u0026ldquo;Microservice ì„¤ê³„ ë° êµ¬í˜„\u0026rdquo; ê°•ì˜ë¥¼ ì˜¤í”ˆí•œë‹¤ëŠ” ê´‘ê³ (?)ë¥¼ ë³´ê³ ë‚˜ì„œ ìµœê·¼ì— ë§ˆì´í¬ë¡œ ì„œë¹„ìŠ¤ ì„¤ê³„ì˜ ê³ ë¯¼ì„ í•´ê²°í•˜ëŠ”ë° ë„ì›€ì´ ë ê¹Œ í•´ì„œ ì‹ ì²­í•˜ê²Œ ë˜ì—ˆë‹¤. ê¸°ê°„ì€ 19.02.18. ~ 19.04.28. ê°•ì˜ 8ì£¼ + OT + ê¸°ë§ì‹œí—˜ì˜ êµ¬ì„±ì´ì—ˆë‹¤. ì •í•´ì§„ ê¸°ê°„ì•ˆì— ìˆ˜ê°•ì„ ì™„ë£Œí•˜ë©´ ìˆ˜ê°•ì¦ì„ ì¤€ë‹¤ëŠ”ë°, ì°¨í›„ì—ë„ ì²­ê°•í˜•íƒœë¡œ ì˜ìƒì„ ë³¼ ìˆ˜ ìˆëŠ” ì‹œìŠ¤í…œì´ì—ˆë‹¤. ìˆ˜ê°•ì¦ ë³´ë‹¤ëŠ” ë‚´ìš©ì´ ë„ì›€ì´ ë˜ê¸°ë¥¼ ë°”ë¼ë©´ì„œ ìˆ˜ê°•ì„ ì‹œì‘í–ˆë‹¤.\nì‹œì‘í•˜ê¸° ì „ì—   ì‚¬ì‹¤, ê°•ì˜ ì‹œì‘ì „ì— ì•½ê°„ì˜ ë¶ˆì•ˆê°(?)ì´ ìˆì—ˆë‹¤. ì™œëƒí•˜ë©´, kmoocì˜ ëŒ€ìƒ ìœ ì €ê°€ ê¸€ë¡œë²Œ(?)ì´ ì•„ë‹Œ í•œêµ­ì–´ ê°€ëŠ¥ìë§Œì„ ëŒ€ìƒìœ¼ë¡œ í•˜ë‹¤ë³´ë‹ˆ, ì½˜í…ì¸ ì˜ ë‚´ìš©ì´ ì¶©ë¶„íˆ í€„ë¦¬í‹°ê°€ ì¢‹ì„ê¹Œ? ë‚´ìš©ì´ ë§Œì¡±ìŠ¤ëŸ¬ìš¸ê¹Œ í•˜ëŠ” ìš°ë ¤ê°€ ìˆì—ˆê¸° ë•Œë¬¸ì´ë‹¤. íŠ¹íˆë‚˜ ë‚´ê°€ ê´€ì‹¬ìˆëŠ” IT ì£¼ì œë“¤ì€ ì˜ì–´ë¡œëœ ìë£Œê°€ ë‚˜ì˜¤ê³  ë‚˜ì„œ í•œ~~~ì°¸ ë’¤ì—ì„œì•¼ í•œêµ­ì–´ë¡œ ë²ˆì—­ë˜ì–´ì„œ ì „íŒŒë˜ê¸° ë§ˆë ¨ì´ë¼, ë„ˆë¬´ ë’¤ì³ì§„ ì´ì•¼ê¸°ë‚˜ ìˆ˜ë°• ê²‰í•¥ê¸° ë‚´ìš©ë§Œ ë‚˜ì˜¤ì§€ ì•Šì„ê¹Œ ê±±ì •ìŠ¤ëŸ¬ì› ë‹¤. ê·¸ë ‡ì§€ë§Œ ë˜ í•œí¸ìœ¼ë¡œëŠ” ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ë¼ëŠ” í‚¤ì›Œë“œëŠ” ì´ë¯¸ ë§ì€ ê³³ì—ì„œ ì´ì•¼ê¸° ë˜ê³  ìˆì—ˆê¸°ì— ë‚´ìš© ê´œì°®ê¸°ë¥¼ ë°”ë¬ì—ˆë‹¤.\n  ê°•ì¢ŒëŠ” ë¬´ë£Œì´ê¸° ë•Œë¬¸ì— ë¶€ë‹´ì—†ì´ ì‹ ì²­ì´ ê°€ëŠ¥í–ˆì§€ë§Œ, ë¬´ë£Œì¸ë§Œí¼ ë™ê¸°ë¶€ì—¬ê°€ ì˜ ë˜ì§€ ì•Šìœ¼ë©´ ì–´ë–»í•˜ì§€ í•˜ëŠ” ê±±ì •ë„ ìˆì—ˆë‹¤. (ìœ ë£Œë¼.. ëˆì´ ì•„ê¹ì§€ ì•Šìœ¼ë©´ ì•ˆë“£ê²Œ ë˜ë”ë¼.. í•˜ëŠ”..ê±±ì •)\n  ì‹œì‘í•˜ê³  ë‚˜ì„œ.   ê°•ì¢Œë¥¼ ì‹œì‘í•˜ê³  ë‚˜ì„œ ì•½ê°„ ë†€ë€ ê²ƒì€ ê°•ì¢Œë¥¼ ì§„í–‰í•˜ì‹œëŠ” ë¶„ì´ êµìˆ˜ë‹˜ì´ ì•„ë‹ˆë¼, SKì—ì„œ ì‹¤ë¬´ì— ì¢…ì‚¬í•˜ëŠ” ë¶„ë“¤(!) ì´ë¼ëŠ” ê²ƒì´ì—ˆëŠ”ë°, ë‘ëª…ì˜ ìˆ˜ì„ or ì±…ì„ ì—°êµ¬ì›(?)ì •ë„ì˜ ì§ì±…ì— ê³„ì‹ ë¶„ë“¤ì´ ì „ë°˜/í›„ë°˜ì„ ë‚˜ëˆ ì„œ ì§„í–‰ì„ í•˜ì…¨ë‹¤. ë‘ë¶„ì˜ ëª©ì†Œë¦¬ë¿ë§Œ ì•„ë‹ˆë¼, ì–¼êµ´(!)ë„ ë³¼ ìˆ˜ ìˆëŠ”ë°, ì•½ê°„ êµ³ì–´ ìˆëŠ” í‘œì •ì—ì„œ, (ë°œí‘œë„ ì–´ë ¤ìš´ë°, ì˜ìƒì—ì„œ ì–¼êµ´ì´ ë‚˜ì˜¨ë‹¤ë‹ˆ..) ë¬˜í•˜ê²Œ ì•ˆì“°ëŸ¬ì›€ì´\u0026hellip;.\n  ê°•ì˜ëŠ” í›„ë°˜ì˜ ì•½ê°„ì˜ ì½”ë“œë¥¼ ë³´ì—¬ì£¼ëŠ” ë¶€ë¶„ ì´ì™¸ì—ëŠ” ì´ë¡ ì  ê°œë…ì„¤ëª…ì´ ì£¼ë¥¼ ì´ë£¬ë‹¤. \u0026ldquo;ì„¤ê³„ ë° êµ¬í˜„\u0026ldquo;ì—ì„œ êµ¬í˜„ ì½”ë“œ ë”°ë¼í•˜ê¸°ë¥¼ ê¸°ëŒ€í–ˆë˜ ë‚˜ëŠ” ì˜ëª» ìƒê°í•œ ê²ƒì´ì—ˆë‹¤(ì³‡..)\n  ê°•ì˜ ì´ˆë°˜ì—ëŠ” ì†”ì§íˆ ì§€ë£¨í•œ ëŠë‚Œì´ì—ˆë‹¤. ë»”í•œ ì´ì•¼ê¸°ë¥¼ ê·¸ëŒ€ë¡œ ë‹µìŠµí•˜ëŠ” ëŠë‚Œì´ë„ê¹Œ.. ì†”ì§íˆ êµì¬ë§Œ ë³´ê³  í›„ë‹¤ë‹¥ ë„˜ê²¨ ë²„ë¦´ê¹Œ í–ˆì—ˆì§€ë§Œ, ë¶„ëŸ‰ ìì²´ê°€ ê·¸ë ‡ê²Œ ê¸¸ì§€ ì•Šì•„ì„œ ë°”ë¡œë°”ë¡œ í•´ì¹˜ì›Œ ë²„ë¦°ë‹¤(!)ë¼ëŠ” ìƒê°ìœ¼ë¡œ ë‹¤ ë´¤ë‹¤. ê°•ì˜ í›„ ì£¼ì°¨ë³„ë¡œ ë‚˜ì˜¤ëŠ” í€´ì¦ˆëŠ” ë‚œì´ë„ê°€ ë†’ì§€ ì•Šì•„ ê°•ì˜ë¥¼ ë“£ì§€ ì•Šê³ ë„ í’€ ìˆ˜ ìˆëŠ” ì •ë„ì´ë‹¤. ì´ˆë°˜ì˜ ì§€ë£¨í•¨ì„ ì´ê²¨ë‚´ê³  ë§¤ì£¼ ìˆ˜ê°•ì„ ì´ì–´ê°ˆ ìˆ˜ ìˆì—ˆë˜ê±´. ê¼¬ë°•ê¼¬ë°• ì›”ìš”ì¼ ë§ˆë‹¤ ë‚ ì•„ì˜¤ëŠ” ê°•ì˜ ì£¼ì°¨ ì•Œë¦¼ ì´ë©”ì¼ ë•ë¶„ì´ ì•„ë‹ˆì˜€ì„ê¹Œ..\n  8ì£¼ì°¨ ì¤‘ì—ì„œ 4~5 ì£¼ì°¨ ì •ë„ ì§€ë‚˜ì„œ ì–´ëŠì •ë„ ì ì‘í•˜ê³  ë‚˜ë‹ˆ, ë‚´ìš©ì´ ì œë²• ë„ì›€ì´ ëœë‹¤ëŠ” ìƒê°ì´ ì§™ì–´ì¡Œë‹¤. ì•ˆê·¸ë˜ë„ ì—…ë¬´ì—ì„œ DDD, Event Drivenì— ê³ ë¯¼ì´ ìˆì—ˆëŠ”ë° ê°•ì˜ì˜ ë‚´ìš©ì´ ë”± ê·¸ëŸ° ë‚´ìš©ë“¤ì´ì—ˆë‹¤. ê·¸ë™ì•ˆì— ëª¸ìœ¼ë¡œ ëŠë¼ê³  ìˆì—ˆë˜ ê²ƒë“¤ì˜ ì´ë¡ ì  ë°°ê²½ì„ ë˜ì§šì–´ë³´ëŠ” ëŠë‚Œì´ë„ê¹Œ. ê°œë…ë“¤ì˜ í•µì‹¬ í‚¤ì›Œë“œë¥¼ ë¹ ë¥´ê²Œ ì¸ì§€ í•  ìˆ˜ ìˆê³ , ìƒê°ë“¤ì„ í™˜ê¸° ì‹œí‚¬ ìˆ˜ ìˆì–´ ê´œì°®ì•˜ë‹¤.\n  ìš©ì–´ ì„¤ëª…ì€ ë„ˆë¬´ ê°œê´„ì ì¸ í•œê³„ê°€ ìˆì—ˆë‹¤. ì§§ì€ ì‹œê°„ì— ë¬´ì–¸ê°€ ê¹Šì´ë¥¼ ê¸°ëŒ€í•˜ê¸° ì–´ë ¤ìš´ê²Œ ì‚¬ì‹¤ì´ê³ , í•µì‹¬ í‚¤ì›Œë“œ ë˜í•œ í•œë²ˆë” ê²€ìƒ‰ì„ í•´ë³´ëŠ”ê²Œ ë„ì›€ì´ ë˜ì—ˆë‹¤.\n  í›„ê¸°   kmooc ì— ëŒ€í•œ ê±±ì •ë°˜ ê¸°ëŒ€ë°˜ìœ¼ë¡œ ì‹œì‘í•œ ê°•ì¢Œì˜€ì§€ë§Œ, ë‚˜ë¦„ ë§Œì¡±ìŠ¤ëŸ¬ì› ë‹¤. ê²°êµ­ ì´ëŸ° ì œë„ë“¤ì€ ì½˜í…ì¸ ê°€ í•µì‹¬ì¸ë°, ì ì–´ë„ ë‚˜ì—ê²ŒëŠ” ë„ì›€ì´ ë˜ì—ˆë‹¤. ì•ìœ¼ë¡œë„ ê´œì°®ì€ ê°•ì¢Œê°€ ê°œì„¤ë˜ë©´ ë” ì°¾ì•„ì„œ ë“¤ì–´ë³¼ ìƒê°ì´ë‹¤. ì¼ë‹¨ ë¶€ë‹´ì´ ì—†ìœ¼ë‹ˆê¹Œ. ê·¸ë ‡ì§€ë§Œ ë” ì¬ë¯¸ìˆëŠ” ë‚´ìš©ì´ ë§ì•˜ìœ¼ë©´ ì¢‹ê² ë‹¤.\n  ì‹¤ì œ ê°•ì¢Œì—ëŠ” DDD ê°€ ì ˆë°˜, ë‚˜ë¨¸ì§€ ì ˆë°˜ì€ ë§ˆì´í¬ë¡œ ì„œë¹„ìŠ¤ ì„¤ê³„ì¸ê²ƒ ê°™ë‹¤. ë§ˆì´í¬ë¡œ ì„œë¹„ìŠ¤ ë³´ë‹¤ DDD ì˜ ê°œë… ì •ë¦¬í•˜ëŠ”ë° ë„ì›€ì´ ë˜ì—ˆë‹¤.\n  DDDì™€ ê´€ë ¨ëœ ë³µì¡í•œ ìš©ì–´ë“¤ì´ ë§ì´ ë‚˜ì˜¤ì§€ë§Œ, ê²°êµ­ ìì„¸íˆ ìƒê°í•´ ë³´ë©´, ë‹¹ì—°í•œ ì´ì•¼ê¸°ë¥¼ ì–´ë µê²Œ í•œë‹¤ëŠ” ëŠë‚Œì´ ë“¤ì—ˆë‹¤. ìš©ì–´ì— ë§¤ëª°ë˜ê¸° ë³´ë‹¤, í˜„ì¥ì—ì„œì˜ ì ìš©ì„ ìƒê°í•˜ë©´ ì¢€ ë” ì‰½ê²Œ ì´í•´ëœë‹¤. í•œí¸ìœ¼ë¡œëŠ” ê³¼ê±° ë””ìì¸ íŒ¨í„´ë„ ìµíˆê³  ë‚˜ë‹ˆ ê²°êµ­ \u0026ldquo;ì½”ë“œì˜ íŒ¨í„´ì— ì´ë¦„ì„ ë¶™ì¸ê²ƒ\u0026rdquo; ì´ë¼ëŠ” ìƒê°ì´ ë“¤ì—ˆë“¯ì´, DDD ë„ ì–´ë–»ê²Œ ì„¤ê³„í•  ê²ƒì¸ê°€ ì´ë¯¸ ì‹¤ë¬´ì—ì„œ ì§„í–‰ì¤‘ì¸ ë°©ë²•ì— ì´ë¦„ì„ ë¶™ì¸ê±°ë¼ëŠ” ìƒê°ì´ ë“ ë‹¤. ë”°ì§€ê³  ë³´ë‹ˆ, ì´ë¯¸ ë‚˜ëŠ” ìœ ë¹„ì¿¼í„°ìŠ¤ ì–¸ì–´ë¡œ ì„œë¡œ ëŒ€í™”í•˜ê³  ìˆì—ˆê³ , ê¸°íš, ê°œë°œ, ë””ìì¸, Product Owner ê°€ ëª¨ë‘ ëª¨ì—¬ í•¨ê»˜ ì„¤ê³„í•˜ê³  ì´ì•¼ê¸° í–ˆì—ˆë‹¤. ê¸°íšì´ ê¸°íšë§Œ í•˜ê³  ê°œë°œì´ ê°œë°œí•œ í•˜ëŠ”ê±´ ë‚˜ì—ê²ŒëŠ” ì´ë¯¸ ì•„ë‹Œ ì´ì•¼ê¸°.\n  ì „ì²´ ëŸ¬ë‹ íƒ€ì„ì´ 5ì‹œê°„ì´ ì¡°ê¸ˆ ëª» ë¯¸ì¹˜ëŠ”ë°, ì´ ì •ë„ ì‹œê°„ì„ íˆ¬ìí•´ì„œ ì£¼ìš” ìš©ì–´ë“¤ì„ ë¹ ë¥´ê²Œ ì •ë¦¬í•´ì„œ í›‘ì–´ ë³¼ ìˆ˜ ìˆì—ˆë‹¤ëŠ” ë° ë§Œì¡±ìŠ¤ëŸ½ë‹¤. ë‹¤ë§Œ DDD, ë§ˆì´í¬ë¡œ ì„œë¹„ìŠ¤ì— ëŒ€í•´ì„œ ì•„ë¬´ê²ƒë„ ëª¨ë¥´ëŠ” ì‚¬ëŒì´ë¼ë©´, í¬ê²Œ ë„ì›€ì´ ë˜ì§€ ì•Šì„ê²ƒ ê°™ë‹¤.\n  ìš”ì•½  kmooc ìƒê°ë³´ë‹¤ ë‚˜ì˜ì§€ ì•Šì•˜ë‹¤. ì½”ë“œ ì‹¤ìŠµì€ ì—†ë‹¤. ì´ë¯¸ ì–´ëŠì •ë„ ì•Œê³  ìˆëŠ” ì‚¬ëŒì´ ë“£ëŠ”ë‹¤ë©´, ê°œë…ê³¼ ìš©ì–´ ì •ë¦¬ì— ì í•©í•˜ë‹¤. 5ì‹œê°„ ì •ë„ íˆ¬ìí•´ì„œ ë¹ ë¥´ê²Œ í›‘ì–´ ë³¼ ìˆ˜ ìˆëŠ” ì‹œê°„ì´ ê´œì°®ìŒ DDD, ë§ˆì´í¬ë¡œ ì„œë¹„ìŠ¤ ì²˜ìŒ ìµíˆëŠ” ì‚¬ëŒì´ë¼ë©´ ë„ì›€ë˜ì§€ ì•Šì„ ë“¯.  ì°¸ê³   Microservice ì„¤ê³„ ë° êµ¬í˜„ ê°•ì¢Œ ë§í¬ : http://www.kmooc.kr/courses/course-v1:KAISTk+2018_K14+CS490/course/  "
},
{
	"permalink": "https://findstar.pe.kr/tags/kmooc/",
	"title": "kmooc",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/microservice-%EC%84%A4%EA%B3%84-%EB%B0%8F-%EA%B5%AC%ED%98%84/",
	"title": "Microservice ì„¤ê³„ ë° êµ¬í˜„",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/2019/03/03/book-review-kubernetes-up-running/",
	"title": "[ë¶ ë¦¬ë·°] ì¿ ë²„ë„¤í‹°ìŠ¤ ì‹œì‘í•˜ê¸°(kubernetes up &amp; running)",
	"tags": ["book", "ì¿ ë²„ë„¤í‹°ìŠ¤ ì‹œì‘í•˜ê¸°", "kubernetes"],
	"description": "",
	"type": "post",
	"contents": "[ë¶ ë¦¬ë·°] ì¿ ë²„ë„¤í‹°ìŠ¤ ì‹œì‘í•˜ê¸°(kubernetes up \u0026amp; running) ì±… ì†Œê°œ ì›ì„œëŠ” ì˜¤ë¼ì¼ë¦¬ì—ì„œ ì¶œê°„í•œ Kubernetes Up \u0026amp; Running ë¼ëŠ” ì œëª©ì´ë‹¤. ì—ì´ì½˜ ì¶œíŒì‚¬ì—ì„œ ë²ˆì—­í•´ì„œ ë‚´ë†“ì€ ì±…ì¸ë°, ë²ˆì—­ì„œ íŠ¹ìœ ì˜ ë²ˆì—­ì²´(?)ê°€ ì¢€ ê±°ìŠ¬ë¦°ë‹¤. ê°€ê²©ì€ 2ë§Œì›ìœ¼ë¡œ ì €ë ´í•œ í¸ì´ë¼ê³  ìƒê°ëœë‹¤. ì±…ì„ êµ¬ë§¤ë‹¹ì‹œì—ëŠ” í‰ì  í™•ì¸ì´ í˜ë“¤ì—ˆëŠ”ë°, ì§€ê¸ˆ ë³´ë‹ˆ yes24 í‰ì ì´ 4ì ì´ë‹¤. í‰ì ì´ ë‚®ì„ë§Œí•œ ì´ìœ ëŠ” ì•„ë˜ì—ì„œ ì„¤ëª…í•˜ê² ë‹¤.\n ì±… êµ¬ë§¤ ì´ìœ  ë„ì»¤ì™€ í•¨ê»˜ ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ ì‹¤ë¬´ì—ì„œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œ ê³µë¶€ê°€ í•„ìš”í–ˆë‹¤. ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ ì£¼ì œë¡œí•œ ì™¸ë¶€ ìŠ¤í„°ë””ì—ì„œ ì°¸ì„í–ˆì—ˆë˜ ê²½í—˜ì´ ìˆì—ˆëŠ”ë° ì—…ë¬´ê°€ ë°”ë¹ ì ¸ ì™„ë£Œë¥¼ í•˜ì§€ ëª»í–ˆì—ˆë‹¤. ì•„ì‰¬ì›€ì— íŒ€ ë™ë£Œë“¤ì´ ì¿ ë²„ë„¤í‹°ìŠ¤ ìŠ¤í„°ë””ë¥¼ ì§„í–‰í•˜ê¸°ë¡œ í•˜ì—¬ ì´ ì±…ì„ ì„ ì •í•´ì„œ í•¨ê»˜ ìš”ì•½ë°œí‘œí•˜ê¸°ë¡œ í–ˆë‹¤. ë‹¤ìŒì€ ì„ ì • ê¸°ì¤€.\n ìµœëŒ€í•œ ìµœì‹  ë²„ì „ì˜ ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ ì´ì•¼ê¸° í• ê²ƒ! ìƒëŒ€ì ìœ¼ë¡œ ì±…ì´ ì–‡ì„ê²ƒ.(ìµìˆ™í•´ ì§€ëŠ” ë‹¨ê³„ë¼ëŠ” ì ì„ ê³ ë ¤í–ˆë‹¤.) ëŒ€ìƒ ë…ìê°€ ì¿ ë²„ë„¤í‹°ìŠ¤ ì…ë¬¸ìì¼ê²ƒ.  ì†Œê° ì±…ì„ ë‹¤ ì½ê¸° ê¹Œì§€ëŠ” 1ì£¼ì— 2~3ì‹œê°„ì”© ì•½ 5ì£¼ì •ë„ ì†Œìš”ë˜ì—ˆë‹¤. ì´ˆë°˜ì—ëŠ” ê·¸ëƒ¥ ë¬´ë‚œí–ˆëŠ”ë°, ë’¤ë¡œ ê°€ë©´ ê°ˆìˆ˜ë¡ ë²ˆì—­ì²´ íŠ¹ìœ ì˜ ê±°ìŠ¬ë¦¼(?)ì´ ìˆë‹¤. íŠ¹íˆë‚˜ ì±•í„° 7ì¥ì˜ ì„œë¹„ìŠ¤ íƒìƒ‰ ì´ë¼ëŠ” ìš©ì–´ëŠ” ì •ë§ì´ì§€ ëê¹Œì§€ ì ì‘ì•ˆë˜ëŠ” ìš©ì–´ì˜€ëŠ”ë°, ê·¸ëƒ¥ ì›ë¬¸ Service discovery ë¼ê³  ì“°ëŠ”ê²Œ ë‚˜ì•˜ë‹¤ê³  ìƒê°í•œë‹¤. í›„ë°˜ë¶€ì˜ ê¸‰ê²©í•œ ë²ˆì—­ì˜ í€„ë¦¬í‹° ì €í•˜ëŠ” ê·¸ë ‡ë‹¤ ì¹˜ê³ , ì›ì €ìê°€ ì˜ë„í•œ ê²ƒì¸ì§€ëŠ” ëª¨ë¥´ê² ì§€ë§Œ Deployment ê°œë…ì„ 12ì¥ì— ê°€ì„œì•¼ ì„¤ëª…í•œë‹¤. ê·¸ëŸ°ë° ì •ì‘ 12ì¥ ì´ì „ì— êµ°ë°êµ°ë° ê³„ì† ê°œë…ì ìœ¼ë¡œ ì—°ê²°ëœ ë‚´ìš©ë“¤ì´ ë‚˜ì˜¨ë‹¤. ë”°ë¼ì„œ 12ì¥ì— ë„ë‹¬í•˜ê¸°ë„ ì „ì— ì´ë¯¸ DeploymentëŠ” êµ¬ê¸€ë§ì„ í†µí•´ì„œ ì•Œê²Œëœ ìƒíƒœê°€ ëœë‹¤.\në§ˆì§€ë§‰ìœ¼ë¡œ ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” ê·¸ ê°œë…ì´ ìš”ì†Œìš”ì†Œ ë§ˆë‹¤ ë°©ëŒ€í•œë°, ì±…ì—ì„œ ì±•í„°ë³„ë¡œ ì´ë¥¼ ì¶•ì•½í•˜ë‹¤ë³´ë‹ˆ, ìƒëµëœ ë¶€ë¶„ì´ ë§ê³ , ì•„ë¬´ë¦¬ ê°€ë³ê²Œ ë³´ë ¤ê³  í•´ë„ í•µì‹¬ì ì¸ ê°œë…ì „ë‹¬ ë³´ë‹¤, ì¥í™©í•˜ê²Œ í’€ì–´ì“´ ëŠë‚Œì´ ë“¤ì—ˆë‹¤. ê·¸ë˜ì„œ ì±…ì„ ë‹¤ ì½ì€ ë’¤ì—ë„ ë­”ê°€ ì‹œê°„ë‚­ë¹„í•œ ëŠë‚Œì´ ë“¤ì—ˆë‹¤. ì±…ì—ì„œ ê·¸ë‚˜ë§ˆ ë‚˜ì€ì ì„ ê¼½ìœ¼ë¼ë©´ ì‹¤ìŠµì„ ìœ„í•œ yml íŒŒì¼ ëª¨ìŒ ì„ ì œê³µí•œë‹¤ëŠ” ì ì´ë‹¤.\nì°¨ë¼ë¦¬ ì´ì „ì— ì½ì—ˆë˜ ì›ì„œ : The DevOps 2.3 Toolkit: Kubernetesê°€ ë”ë‚«ë‹¤.\ní•œì¤„ ìš”ì•½  \u0026ldquo;ì¿ ë²„ë„¤í‹°ìŠ¤ ì…ë¬¸ìš©ìœ¼ë¡œ ì•„ì‰¬ìš´ ì±…. ë¹„ì¶”ì²œ\u0026rdquo;  ì°¸ê³   ì—ì´ì½˜ ë§í¬ : http://acornpub.co.kr/book/kubernetes-up-and-running  "
},
{
	"permalink": "https://findstar.pe.kr/tags/book/",
	"title": "book",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/%EC%BF%A0%EB%B2%84%EB%84%A4%ED%8B%B0%EC%8A%A4-%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0/",
	"title": "ì¿ ë²„ë„¤í‹°ìŠ¤ ì‹œì‘í•˜ê¸°",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/2019/01/27/learning-in-2019/",
	"title": "2019ë…„ì— ë°°ìš°ê³ ì í•˜ëŠ” ê²ƒë“¤",
	"tags": ["learning in 2019"],
	"description": "",
	"type": "post",
	"contents": "2019ë…„ì— ë°°ìš°ê³ ì í•˜ëŠ” ê²ƒë“¤ ì£¼ì œ ì •í•˜ê¸° ì¬ë¯¸ìˆì–´ ë³´ì´ê³ , í‰ì†Œì— ìƒê°ë§Œ í–ˆë˜ê²ƒë“¤, ë˜ í•´ë´ì•¼ì§€ í•˜ê³  ìƒê°í–ˆë˜ ì¼ë“¤ì€ ì°¸ ë§ë‹¤. ê·¸ë ‡ì§€ë§Œ ë‚˜ ìŠ¤ìŠ¤ë¡œì—ê²Œ ê¼­ í•„ìš”í•˜ê³ , ì‰½ê²Œ ì ‘ê·¼í•  ìˆ˜ ìˆìœ¼ë©°, ëª©í‘œê°€ ëšœë ·í•œ ì¼ë“¤ì„ ì •í•´ë³´ì•˜ë‹¤.\n1. ì˜ì–´ ë§¤ë…„ ê³ ì •ì ìœ¼ë¡œ ë‚˜ì˜ \u0026quot;wish list\u0026quot; ì— ë“±ì¥í•˜ëŠ” ë‹¨ì–´! ê·¸ë ‡ë‹¤ ì˜ì–´ë‹¤. í•˜ì§€ë§Œ ì˜¬í•´ëŠ” ì•¼ì‹¬ì°¨ê²Œ ì˜ì–´ ìŠ¤í„°ë””ë¥¼ ê°€ì…í•´ì„œ ë…„ì´ˆë¶€í„° ê³ êµ°ë¶„íˆ¬ í•˜ê³  ìˆë‹¤. ì§€ê¸ˆì€ ê°ëª… ê¹Šì—ˆë˜ TED ì˜ í•œ ì˜ìƒ ìŠ¤í¬ë¦½íŠ¸ë¥¼ 3ì£¼ì§¸ ì™¸ìš°ëŠ” ì¤‘ì¸ë° ì²˜ìŒë³´ë‹¤ëŠ” ì¡°ê¸ˆ ë‚˜ì•„ì§„ê±¸ ëŠë¼ê³  ìˆë‹¤. ìŠ¤ìŠ¤ë¡œê°€ ì¡°ê¸ˆ ë‚˜ì•„ì§„ê±¸ ëŠê»´ì§€ë‹ˆ ì˜ì–´ê°€ ì¬ë¯¸ìˆì–´ ì§€ê¸° ì‹œì‘í–ˆë‹¤!(ì´ê±´ ì •ë§ ìŠ¤ìŠ¤ë¡œì—ê²Œ ëŒ€ê²¬í•œ ì¼ì´ë‹¤) ë§ˆì§€ë§‰ ê¹Œì§€ ì˜ ë§ˆë¬´ë¦¬ í•´ë³´ë„ë¡ ìŠ¤ìŠ¤ë¡œì—ê²Œ ì‘ì› ì¤‘ì´ë‹¤.\në°”ë¨ : ì˜ì–´ì— ëŒ€í•œ ê±°ë¶€ê°ì„ ì§€ê¸ˆë³´ë‹¤ ë‚®ì¶”ê¸° ëª©í‘œ : 10ë¶„ê°„ ì˜ì–´ë¡œ ìê¸°ì†Œê°œ ë§‰í˜ì—†ì´ ë§í•  ìˆ˜ ìˆê¸° ê³„íš : ì˜ì–´ì™€ ì¹œìˆ™í•´ ì§€ê¸° ìœ„í•´ì„œ ìŠ¤í„°ë”” ì°¸ì„, ë‹¨ì–´ëŠ” ì¶œí‡´ê·¼ ì‹œê°„ì— ì™¸ìš°ê¸°, ìŠ¤í¬ë¦½íŠ¸ ì™¸ìš°ê¸° 2. Spring Framework Java ê·¸ë¦¬ê³  Spring Framework ëŠ” ì–¸ì œë‚˜ ë‚˜ì—ê²ŒëŠ” í° ìˆ™ì œê°™ì€ ëŠë‚Œì´ì—ˆë‹¤. ì½”ë“œë¥¼ ìˆ˜ì •í•˜ê³ , ì´ìŠˆë¥¼ ì¹˜ëŠ” ìˆœê°„ìˆœê°„ì—ë„ ë¬´ì–¸ê°€ ë‚´ê²Œ ë§ì§€ ì•ŠëŠ” ì˜·ê°™ì€ ëŠë‚Œì´ë„ê¹Œ. ì˜¬í•´ëŠ” ì—…ë¬´ì ìœ¼ë¡œ ì•„í‚¤í…ì²˜ ê°œì„ ì´ ì˜ˆìƒë˜ê³  ìˆì–´ ë”ì´ìƒ ì–•ê²Œ ì•Œì•„ì„œëŠ” ì•ˆë˜ëŠ” ìŠ¤í‚¬ì´ ë¬ë‹¤. ë‹¤í–‰íˆë„ Spring Boot ë¼ëŠ” ì¢‹ì€ ì†Œì¬ê°€ ìˆì–´ì„œ ì°¨ê·¼ì°¨ê·¼ í•˜ë‚˜ì”© ì´í•´í•˜ë ¤ê³  ë…¸ë ¥ì¤‘ì´ë‹¤.\në°”ë¨ : ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ì— ëŒ€í•œ ë‘ë ¤ì›€ ì—†ì• ê¸° ëª©í‘œ : ìŠ¤í”„ë§ìœ¼ë¡œ micro service ì½”ë“œ ì²˜ìŒë¶€í„° ëê¹Œì§€ ì™„ì„±í•˜ê¸° ê³„íš : ì±… í•˜ë‚˜ ì™„ë…, ë™ì˜ìƒ ê°•ì¢Œ ìˆ˜ê°•, í† ì´ í”„ë¡œì íŠ¸ ì™„ì„± 3. Kotlin ì•„ì§ ì—…ë¬´ì—ì„œ ì ìš©í• ì§€ ì•ˆí• ì§€ ëª¨ë¥´ê² ì§€ë§Œ, ì´ì™•ì´ë©´ ìƒˆë¡œìš´ ì–¸ì–´ë¡œ í”„ë¡œì íŠ¸ë¥¼ ì‹œì‘í•´ë³´ê³  ì‹¶ì€ ë§ˆìŒì— ì„ ì •í•´ë´¤ë‹¤. ì£¼ë³€ì—ì„œë„ ì œë²• ì½”í‹€ë¦° ì´ì•¼ê¸°ê°€ ë§ì´ ë“¤ë ¤ì˜¤ëŠ” ê±¸ ë´ì„œëŠ” ì˜¬í•´ì—ëŠ” ìƒˆë¡­ê²Œ ë°°ì›Œì•¼ í•  ì–¸ì–´ë¡œ ì½”í‹€ë¦°ì„ ê¼½ì•„ ë´¤ë‹¤. ì‘ë…„ì—ëŠ” golangì„ ì¨ë´¤ì§€ë§Œ ì•„ì§ ë‚´ê°€ ì“°ê¸°ì—ëŠ” ì¡°ê¸ˆ ë” ì‹œê°„ì´ í•„ìš”í•˜ë‹¤ëŠ” ëŠë‚Œì´ì—ˆê¸°ì— ì˜¬í•´ì—ëŠ” ì½”í‹€ë¦°ì„ ì¢€ ë” ì˜ ì‚´í´ë³´ê³  ì‹¶ë‹¤.\në°”ë¨ : ì½”í‹€ë¦° ì–¸ì–´ ìƒˆë¡­ê²Œ ì¹œìˆ™í•´ì§€ê¸° ëª©í‘œ : ì‹ ê·œ í”„ë¡œì íŠ¸ ì½”í‹€ë¦°ìœ¼ë¡œ ì§„í–‰í•˜ê¸° ê³„íš : ì±… ì„¸ê¶Œì´ìƒ ë…íŒŒ, ë™ì˜ìƒ ê°•ì¢Œ ìˆ˜ê°•, ì‹¤ë¬´ì—ì„œ í™œìš©. 4. ìš”ë¦¬ ëŒ€í•™êµ ì…í•™í•˜ê³  ìì·¨ë¥¼ ëª‡ë…„ì´ë‚˜ í–ˆì—ˆì§€ë§Œ, ë¨¹ëŠ”ë° ì·¨ë¯¸ê°€ ì—†ì–´ì„œì¸ì§€, ìš”ë¦¬ëŠ” í•­ìƒ ë‚˜ì—ê²Œ ë¨¼ë‚˜ë¼ ì´ì•¼ê¸°ì˜€ë‹¤. ê·¸ë ‡ì§€ë§Œ ê²°í˜¼ì„ í•˜ê³ , ì•„ì´ê°€ ìƒê¸°ê³  ì£¼ë§ì— ê°€ì¡±ê³¼ í•¨ê»˜ ì‹ì‚¬í•˜ëŠ” ì‹œê°„ì— ë§¤ë²ˆ ì•„ë‚´ì—ê²Œ ìš”ë¦¬ë¥¼ ë§¡ê¸°ëŠ”ê²Œ ë¯¸ì•ˆí–ˆì—ˆë‹¤. ë­”ê°€ ì¡°ê¸ˆì”©ì´ë‚˜ë§ˆ ë‚´ê°€ ë§Œë“  ìš”ë¦¬ë¥¼ ì•„ë‚´ì™€ ì•„ì´ì—ê²Œ í•´ì¤„ ìˆ˜ ìˆëŠ” ë©‹ì§„ ì•„ë¹ ê°€ ë˜ê³  ì‹¶ë‹¤.\në°”ë¨ : ìš”ë¦¬ í• ì¤„ ì•„ëŠ” ì•„ë¹ ë˜ê¸° ëª©í‘œ : ì£¼ë§ì— í•œë¼ëŠ” ë‚´ê°€ ë§Œë“¤ì–´ ê°€ì¡±ì—ê²Œ ëŒ€ì ‘í•˜ê¸°. ê³„íš : ì§‘ë°¥ ë°±ì„ ìƒ ë…íŒŒ, ì£¼ë§ì— ìš”ë¦¬ ì—°ìŠµ í•´ë³´ê¸°, ì¥ë³¼ ë•Œ ìŒì‹ ì¬ë£Œ ê´€ì‹¬ ê°€ì§€ê¸°. ê·¸ ë°–ì— ê²ƒë“¤ ì•„ì§ ì •í™•í•˜ê²Œ ì–´ë–»ê²Œ í•´ì•¼ í• ì§€ ê³„íšì„ ì„¸ìš°ì§€ëŠ” ëª»í–ˆì§€ë§Œ ê·¸ë˜ë„ í¬ë§ì‚¬í•­ìœ¼ë¡œ ë°°ì›Œë³´ì•˜ìœ¼ë©´ í•˜ëŠ” ê²ƒë“¤ë„ ìˆë‹¤.\n Data Flow(Pipeline) ì— ëŒ€í•œ ë…¸í•˜ìš° : ì—…ë¬´ì—ì„œ kafkaë¥¼ ì‚¬ìš©í•˜ë©´ì„œ data ì˜ íë¦„ì— ëŒ€í•œ ê´€ì‹¬, kafka messageë¥¼ ì˜ ë§Œë“¤ë ¤ë©´ ì–´ë–»ê²Œ í•´ì•¼í•˜ëŠ”ì§€ ê³ ë¯¼ì´ ë§ë‹¤. ì´ëŸ°ê±´ ì–´ë–»ê²Œ ë…¸í•˜ìš°ë¥¼ ìŠµë“í•  ìˆ˜ ìˆì„ê¹Œ? (nifi?) GraphQL \u0026amp; Micro service architecture : entity model ì˜ relation ê³¼ API ì˜ ì—°ê´€ê´€ê³„ë¥¼ ê³ ë¯¼í•˜ë‹¤ë³´ë‹ˆ GraphQL ì´ ëˆˆì— ë“¤ì–´ì™”ë‹¤. micro service architecture ë¥¼ ì„¤ê³„í•˜ëŠ”ë° ë„ì›€ì´ ë˜ì§€ ì•Šì„ê¹Œ?  ë‹¤ì§  ì‹œì‘ì´ ë°˜ì´ë‹¤. ê¸°ë¡ìœ¼ë¡œ ë‚¨ê²¼ìœ¼ë‹ˆ, ì˜¬í•´ ë§ì— ìŠ¤ìŠ¤ë¡œì—ê²Œ ë¶€ë„ëŸ½ì§€ ë§ì.  "
},
{
	"permalink": "https://findstar.pe.kr/tags/learning-in-2019/",
	"title": "learning in 2019",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/brew-cask/",
	"title": "brew cask",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/2019/01/20/install-openjdk-by-homebrew/",
	"title": "homebrewë¡œ openjdk ì„¤ì¹˜í•˜ê¸° ",
	"tags": ["openjdk", "brew cask"],
	"description": "",
	"type": "post",
	"contents": "homebrewë¡œ openjdk ì„¤ì¹˜í•˜ê¸° OpenJDK OpenJDK(Open Java Development Kit)ëŠ” ìë°” í”Œë«í¼, ìŠ¤íƒ ë”ë“œ ì—ë””ì…˜ (ìë°” SE)ì˜ ììœ -ì˜¤í”ˆ ì†ŒìŠ¤ êµ¬í˜„ì²´ì´ë‹¤. ìµœê·¼ ìë°”ê°€ ìœ ë£Œí™” ë˜ë©´ì„œ í•œì¸µ ì£¼ëª©ë°›ê³  ìˆëŠ”ë°, (ìë°”ê°€ ìœ ë£Œë¼ë‹ˆ..) ìœ ë£Œí™”ì— ëŒ€í•œ ë°˜ë°œ(?)ë¡œ ì£¼ë³€ì˜ ë§ì€ ì‚¬ëŒë“¤ì´ OpenJDKë¥¼ ì„¤ì¹˜í•˜ëŠ” ëª¨ìŠµì„ ë³¼ ìˆ˜ ìˆì—ˆë‹¤. ë‚˜ëŠ” ìƒˆë¡­ê²Œ ê°œë°œ í™˜ê²½ì„ êµ¬ì„±í•˜ë©´ì„œ OpenJDKë¥¼ ì„¤ì¹˜í•´ë³´ê³ ì í•˜ì˜€ëŠ”ë°, ì²˜ìŒì—ëŠ” ìƒê°ì—†ì´ brew ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í–ˆì—ˆë‹¤.\nbrew install openjdk í•˜ì§€ë§Œ ë³´ê¸° ì¢‹ê²Œ ì‹¤íŒ¨í–ˆë‹¤.(!!!)\nì°¾ì•„ë³´ë‹ˆ ì•„ì§ì€ ê³µì‹ì ìœ¼ë¡œ brew ë¥¼ í†µí•´ì„œ ì„¤ì¹˜ê°€ ë¶ˆê°€ëŠ¥í•˜ë‹¤. brew issue link\në”°ë¼ì„œ OpenJDK ë¥¼ brewë¡œ ì„¤ì¹˜í•˜ë ¤ë©´ ê³µì‹ì´ ì•„ë‹Œ ë¹„ê³µì‹(?) ê²½ë¡œë¥¼ í†µí•´ì„œ ì„¤ì¹˜í•´ì•¼ í•œë‹¤.\nAdoptOpenJDK AdoptOpenJDKëŠ” ì‚¬ì „ì— prebuild í˜•íƒœë¡œ java binaryë¥¼ ì œê³µí•˜ëŠ” ì»¤ë®¤ë‹ˆí‹° ê·¸ë£¹ì´ë‹¤. í™ˆí˜ì´ì§€ Mac ë¿ë§Œ ì•„ë‹ˆë¼ ìœˆë„ìš°, ë¦¬ëˆ…ìŠ¤ í™˜ê²½ë„ ì œê³µí•˜ê³  ìˆë‹¤. ê³µì‹ì ìœ¼ë¡œ OpenJDKë¥¼ ì„¤ì¹˜í•˜ëŠ”ê±´ ì§ì ‘ ë¹Œë“œí•´ì„œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì´ ìˆì§€ë§Œ, ë¹Œë“œ ì´ì™¸ì—ë„ ìì˜í•œ JAVA_HOME (ë¹Œë“œí•´ì„œ ì‚¬ìš©í–ˆë”ë‹ˆ \u0026ldquo;/usr/libexec/java_home\u0026rdquo; ì´ ë™ì‘í•˜ì§€ ì•Šì•˜ë‹¤..) ì„¤ì • ë¬¸ì œë¼ë˜ê°€ ë²„ì „ì—…ì„ í¸í•˜ê²Œ í•˜ê¸° ìœ„í•´ì„œ homebrewë¥¼ ì‚¬ìš©í•´ì„œ AdoptOpenJDKë¥¼ ì„¤ì¹˜í•˜ë„ë¡ í–ˆë‹¤.\në‹¤ìŒ Github ì—ì„œ ì„¤ì¹˜ë°©ë²•ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\nbrew tap AdoptOpenJDK/openjdk brew cask install \u0026lt;version\u0026gt; OpenJDK ë²„ì „ì€ ë‹¤ìŒì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•˜ë©´ ëœë‹¤.\n OpenJDK8 - adoptopenjdk8 OpenJDK9 - adoptopenjdk9 OpenJDK10 - adoptopenjdk10 OpenJDK11 - adoptopenjdk11 OpenJDK11 w/ OpenJ9 JVM - adoptopenjdk11-openj9  ë‚˜ëŠ” JDK8ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œ ë‹¤ìŒê³¼ ê°™ì´ ì§„í–‰í–ˆë‹¤.\nbrew tap AdoptOpenJDK/openjdk brew cask install adoptopenjdk8 ì´í›„ ë¹Œë“œí–ˆì„ ë•Œì™€ ë‹¤ë¥´ê²Œ JAVA_HOME ë¬¸ì œë„ ì—†ê³ , ë‹¤ë¥¸ ê²½ë¡œ ë¬¸ì œë„ ì—†ì´ ì˜ ë™ì‘í•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤.\n ì°¸ê³   openjdkë€ ìœ„í‚¤ : https://ko.wikipedia.org/wiki/OpenJDK OpenJDK í™ˆí˜ì´ì§€ : https://openjdk.java.net/ AdoptOpenJDK í™ˆí˜ì´ì§€ : https://adoptopenjdk.net/  "
},
{
	"permalink": "https://findstar.pe.kr/tags/openjdk/",
	"title": "openjdk",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/2019/01/13/book-report-begining-docker/",
	"title": "[ë¶ ë¦¬ë·°] ì‹œì‘í•˜ì„¸ìš” ë„ì»¤",
	"tags": ["book", "ì‹œì‘í•˜ì„¸ìš” ë„ì»¤", "begining docker"],
	"description": "",
	"type": "post",
	"contents": "ë„ì»¤ ê³µë¶€ë¥¼ ì‹œì‘ í•œì§€ëŠ” ì˜¤ë˜ë˜ì—ˆì§€ë§Œ, ì œëŒ€ë¡œ í•œê¶Œì„ ëê¹Œì§€ ì½ì€ê±´ ì´ì±…ì´ ì²˜ìŒì´ì—ˆë‹¤. ìœ„í‚¤ë¶ìŠ¤ì—ì„œ ì¶œê°„í•œ \u0026ldquo;ì‹œì‘í•˜ì„¸ìš” ë„ì»¤\u0026rdquo; ì±…ì˜ ê°„ëµí•œ ì†Œê°ì´ë‹¤.\nì±… ì†Œê°œ ìœ„í‚¤ë¶ìŠ¤ì—ì„œ ì¶œíŒí•œ ì„œì . 2017ë…„ 04ì›” 07ì¼ ì¶œíŒí–ˆëŠ”ë° ë¹ ë¥¸ ë²„ì „ì—…ì„ ê³ ë ¤í•´ë„ ê¸°ë³¸ì ì¸ ë‚´ìš©ì„ ì˜ ë‹¤ë£¬ì±…ì´ë‹¤. ì €ìì¸ \u0026ldquo;ìš©ì°¬í˜¸\u0026quot;ë‹˜ê»˜ì„œëŠ” ê²½ì˜ëŒ€ ëŒ€í•™ì›ì—ì„œ ì„ì‚¬ê³¼ì •ì„ ì§„í–‰ì¤‘ì´ë¼ê³  í•œë‹¤. (blog.naver.com/alice_k106) ê°€ê²©ì€ 2ë§Œ 8ì²œì›ìœ¼ë¡œ ë¬´ë‚œí•œí¸. yes24 í‰ì ë„ 8ì ëŒ€ë¡œ ê´œì°®ì€ í‰ì„ ë°›ê³  ìˆë‹¤.\n ì±… êµ¬ë§¤ ì´ìœ  ë„ì»¤ëŠ” ì‹¤ì œ ì—…ë¬´ í™˜ê²½ì—ì„œ ì‚¬ìš©í•˜ê³  ìˆê¸°ë„ í•˜ê³ , ëª‡ì°¨ë¡€ ìŠ¤í„°ë””ì—ì„œ ê³µë¶€í•˜ê¸°ë„ í–ˆì—ˆì§€ë§Œ, ì±…ì„ í•˜ë‚˜ ì¡ê³  ì§„ë“í•˜ë‹ˆ ë…íŒŒí•´ë³¸ì ì€ ì—†ì—ˆë‹¤. ë§ˆì¹¨ íŒ€ë‚´ì—ì„œ ì§„í–‰í•˜ëŠ” ìŠ¤í„°ë””ì—ì„œ ì±…ì„ í•˜ë‚˜ ì„ ì •í•´ì„œ í•¨ê»˜ ì •ë¦¬í•´ê°€ëŠ” ë°©ì‹ìœ¼ë¡œ ì§„í–‰í•´ë³´ìëŠ” ì´ì•¼ê¸°ê°€ ë‚˜ì™€ì„œ ì´ ì±…ì„ êµ¬ë§¤í•˜ê²Œ ë˜ì—ˆë‹¤. ë‹¤ìŒì€ ì„ ì • ê¸°ì¤€.\n ìµœëŒ€í•œ ìµœì‹  ë²„ì „ì˜ ë„ì»¤ë¥¼ ì´ì•¼ê¸° í• ê²ƒ!(ë„ì»¤ CE/EE êµ¬ë¶„ëœ ì´í›„ ë²„ì „ì„ ë‹´ì€ ì±…ì„ ê¸°ì¤€ìœ¼ë¡œ ì •í–ˆë‹¤.) ë²ˆì—­ì„œì ì´ ì•„ë‹Œ ì§‘í•„ ì„œì ì¼ê²ƒ!(ë²ˆì—­ì€ í˜¸ë¶ˆí˜¸ê°€ ê°ˆë¦¬ëŠ” í¸ì´ë¼ì„œ..) ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ ë‚´ìš©ì€ ê°€ë³ê²Œ ë‹´ê³  ìˆœìˆ˜ ë„ì»¤ì—ë§Œ ì§‘ì¤‘í•œ ì±… ê¸°íƒ€ ì£¼ë³€ë¶„ë“¤ì˜ ì¶”ì²œì„ ê³ ë ¤  ì†Œê° ì±…ì„ ë‹¤ ì½ê¸° ê¹Œì§€ëŠ” 1ì£¼ì— 2~3ì‹œê°„ì”© ì•½ 3ì£¼ì •ë„ ì†Œìš”ë˜ì—ˆì—ˆëŠ”, ì „ì²´ì ìœ¼ë¡œ ì´í•´í•˜ê¸° ì‰½ê²Œ ì„¤ëª…ë˜ì–´ ìˆì–´ì„œ ì¢‹ì•˜ë‹¤. 3ì¥ \u0026ldquo;ë„ì»¤ ìŠ¤ì›œ\u0026quot;ì˜ ê²½ìš°ì—ëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ ë°”ë¡œ ê³µë¶€í•  ì˜ˆì •ì´ë¼ì„œ ìƒëµ í–ˆì—ˆê³ , 6ì¥ \u0026ldquo;í”ŒëŸ¬ê·¸ì¸\u0026rdquo; ë„ í¬ê²Œ ì§‘ì¤‘í•´ì„œ ì½ì§€ëŠ” ì•Šì•˜ë‹¤. 7ì¥ì—ì„œ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ íˆ´ì„ ì†Œê°œí•´ì¤€ê±´ ê´œì°®ì•˜ë‹¤.(ë¬¼ë¡  ë‚´ìš©ì€ ê±°ì˜ ì—†ëŠ”ê²Œ ë‹¹ì—°) ì´ˆë°˜ì— 2ì¥ì´ ì¢€ ë¶„ëŸ‰ì´ ë§ë‹¤ê³  ìƒê°ì´ ë“¤ì—ˆëŠ”ë°, ì½ê³  ë³´ë‹ˆ 2ì¥ì´ ì œì¼ í•µì‹¬ì ì¸ ë‚´ìš©ì´ì, ì´ ì±…ì˜ ì´ìœ (?!)ì¸ ì±•í„°ì´ë‹¤. ì‹¬ì§€ì–´ ë‚˜ì¤‘ì— ëŠë‚€ ì†Œê°ìœ¼ë¡œëŠ” 2ì¥ë§Œ ì½ì–´ë„ ê´œì°®ì•˜ì—ˆê² ë‹¤ë¼ëŠ” ëŠë‚Œì´ ë“¤ì—ˆë‹¤. ì¢…ì¢… ëª…ë ¹ì–´ê°€ ìƒê°ì•ˆë‚  ë•Œ ë‹¤ì‹œ 2ì¥ ì±•í„°ë¥¼ ëª‡ë²ˆ ë” ì°¾ì•„ë³´ê²Œë˜ì—ˆë‹¤. ë§ ê·¸ëŒ€ë¡œ ê¸°ë³¸ê¸°ë¥¼ \u0026ldquo;ìµíˆê¸° ì¢‹ì€ ì±…\u0026rdquo;.\ní•œì¤„ ìš”ì•½  \u0026ldquo;ë„ì»¤ì˜ ê¸°ë³¸ê¸°ë¥¼ ìµíˆê¸° ì¢‹ì€ ì±…. ì‹œê°„ì´ ì—†ë‹¤ë©´ 2ì¥ë§Œ ì½ìœ¼ì„¸ìš”!\u0026rdquo;  ì°¸ê³   yes24 ë§í¬ : http://www.yes24.com/24/goods/38261523 ìš©ì°¬í˜¸ ì €ìì˜ ë¸”ë¡œê·¸ : blog.naver.com/alice_k106 "
},
{
	"permalink": "https://findstar.pe.kr/tags/begining-docker/",
	"title": "begining docker",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/%EC%8B%9C%EC%9E%91%ED%95%98%EC%84%B8%EC%9A%94-%EB%8F%84%EC%BB%A4/",
	"title": "ì‹œì‘í•˜ì„¸ìš” ë„ì»¤",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/haproxy-metric/",
	"title": "haproxy metric",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/haproxy-stat/",
	"title": "haproxy stat",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/2019/01/05/haproxy-stat-metric/",
	"title": "Haproxy ì˜ Statistics ì •ë³´ ëª¨ë‹ˆí„°ë§ í•˜ê¸°",
	"tags": ["haproxy", "haproxy stat", "haproxy metric"],
	"description": "",
	"type": "post",
	"contents": "Haproxyë¥¼ ì‚¬ìš©í•œ ì‹œìŠ¤í…œì„ ìš´ì˜ì¤‘ì¸ë°, ì—¬ê¸°ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆëŠ” ë‹¤ì–‘í•œ ìƒíƒœê°’ì„ ëª¨ë‹ˆí„°ë§ í•´ë³´ê³  ì‹¶ì—ˆë‹¤. ê°„ë‹¨í•˜ê²ŒëŠ” Haproxyê°€ ì‚´ì•„ ìˆëŠ”ì§€ì—ì„œ ë¶€í„° í˜„ì¬ ì—°ê²°ëœ ì»¤ë„¥ì…˜ ê°¯ìˆ˜ë¥¼ í™•ì¸í•˜ëŠ” ê²ƒ ê¹Œì§€ ì‘ì—…ì„ ìˆ˜í–‰í•´ë³´ì•˜ë‹¤.\nHaproxy ì˜ statistics ë¥¼ ì–»ì„ ìˆ˜ ìˆëŠ” ë°©ë²• Haproxy ì˜ statisticsë¥¼ í™•ì¸í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì€ ë‹¤ìŒì˜ 2ê°€ì§€ ë°©ë²•ì„ í™•ì¸ê°€ëŠ¥í•˜ë‹¤.\n1. HTTP ìƒì—ì„œ í™•ì¸í•  ìˆ˜ ìˆëŠ” ë°©ë²• haproxy.cfg ì— ë‹¤ìŒê³¼ ê°™ì´ stats ì„¤ì •ì„ ì§€ì •í•˜ë©´ http ë¥¼ í†µí•´ì„œ í™•ì¸ì´ ê°€ëŠ¥í•˜ë‹¤\nlisten stats # \u0026quot;stats\u0026quot;ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ listen ì§€ì • bind :9000 # ì ‘ì† í¬íŠ¸ ì§€ì • stats enable stats realm Haproxy\\ Statistics # ë¸Œë¼ìš°ì € íƒ€ì´í‹€ stats uri /haproxy_stats # stat ë¥¼ ì œê³µí•  URI stats auth Username:Password # ì¸ì¦ì´ í•„ìš”í•˜ë©´ ì¶”ê°€í•œë‹¤ ì´ë ‡ê²Œ ì„¤ì •í•œ ë’¤ì— http://haproxy_host:9000 ìœ¼ë¡œ ì ‘ì†í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ í™”ë©´ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n í™”ë©´ìœ¼ë¡œë§Œ ë³´ëŠ” ê²ƒë„ ì˜ë¯¸ê°€ ìˆì§€ë§Œ ëª¨ë‹ˆí„°ë§ì„ ìœ„í•´ì„œëŠ” metric ì •ë³´ë§Œ í•„ìš”í•  ìˆ˜ë„ ìˆë‹¤. ì£¼ë¡œ CSV í¬ë§·ìœ¼ë¡œ ë³´ê²Œ ë˜ëŠ”ë° URI ë’¤ì— ;csvë¥¼ ë¶™ì´ë©´ ëœë‹¤.\nìœ„ì™€ ê°™ì€ ì„¤ì •ì´ë¼ë©´ stats URI ë¥¼ /haproxy_stats;csv ë¼ê³  ì ‘ê·¼í•˜ë©´ ëœë‹¤.\n2. unix socket ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²• http ë¥¼ ì‚¬ìš©í•  ìˆ˜ë„ ìˆì§€ë§Œ unix socket ì„ ì‚¬ìš©í•  ìˆ˜ë„ ìˆë‹¤. ë¨¼ì € haproxy.cfg ì— ë‹¤ìŒê³¼ ê°™ì´ ì„¤ì •ë˜ì–´ ìˆì–´ì•¼ í•œë‹¤.\nstats socket /var/run/haproxy.sock ê·¸ë¦¬ê³  socat ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤. ëª…ë ¹ì–´ê°€ ì„¤ì¹˜ë˜ì–´ ìˆì§€ ì•Šë‹¤ë©´ yum ë˜ëŠ” apt ë¥¼ ì‚¬ìš©í•´ì„œ ì„¤ì¹˜í•´ì•¼í•œë‹¤.\nì´ì œ ë‹¤ìŒ ëª…ë ¹ì–´ë¡œ stat ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\necho \u0026quot;show stat\u0026quot; | socat unix-connect:/var/run/haproxy.sock stdio http-in,FRONTEND,,,0,85,2000,4655,380562,991165,0,0,14,,,,,OPEN,,,,,,,,,1,2,0,,,,0,0,0,3305,,,,0,0,0,14,4641,0,,0,3305,4655,,,0,0,0,0,,,,,,,, appname,lamp1,0,0,0,0,,0,0,0,,0,,0,0,0,0,DOWN,1,1,0,1,1,134,134,,1,3,1,,0,,2,0,,0,L4TOUT,,2002,0,0,0,0,0,0,0,,,,0,0,,,,,-1,,,0,0,0,0, appname,lamp2,0,0,0,0,,0,0,0,,0,,0,0,0,0,DOWN,1,1,0,1,1,133,133,,1,3,2,,0,,2,0,,0,L4TOUT,,2002,0,0,0,0,0,0,0,,,,0,0,,,,,-1,,,0,0,0,0, appname,BACKEND,0,0,0,77,200,4641,380562,988533,0,0,,4641,0,0,0,DOWN,0,0,0,,1,133,133,,1,3,0,,0,,1,0,,3292,,,,0,0,0,0,4641,0,,,,,0,0,0,0,0,0,-1,,,0,0,0,0, ì—¬ê¸°ì„œ ì¶œë ¥ë˜ëŠ” ì •ë³´ëŠ” haproxy.cfg ì— ì„¤ì •ëœ backend, frontend ì— ë”°ë¼ì„œ ì¡°ê¸ˆì”© ë‹¬ë¼ì§„ë‹¤. ê·¸ë¦¬ê³  ì—¬ê¸°ì„œ í™•ì¸ë˜ëŠ” ì •ë³´ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.\n 0. pxname [LFBS]: proxy name 1. svname [LFBS]: service name (FRONTEND for frontend, BACKEND for backend, any name for server/listener) 2. qcur [..BS]: current queued requests. For the backend this reports the number queued without a server assigned. 3. qmax [..BS]: max value of qcur 4. scur [LFBS]: current sessions 5. smax [LFBS]: max sessions 6. slim [LFBS]: configured session limit 7. stot [LFBS]: cumulative number of connections 8. bin [LFBS]: bytes in 9. bout [LFBS]: bytes out 10. dreq [LFB.]: requests denied because of security concerns. - For tcp this is because of a matched tcp-request content rule. - For http this is because of a matched http-request or tarpit rule. 11. dresp [LFBS]: responses denied because of security concerns. - For http this is because of a matched http-request rule, or \u0026quot;option checkcache\u0026quot;. 12. ereq [LF..]: request errors. Some of the possible causes are: - early termination from the client, before the request has been sent. - read error from the client - client timeout - client closed connection - various bad requests from the client. - request was tarpitted. 13. econ [..BS]: number of requests that encountered an error trying to connect to a backend server. The backend stat is the sum of the stat for all servers of that backend, plus any connection errors not associated with a particular server (such as the backend having no active servers). 14. eresp [..BS]: response errors. srv_abrt will be counted here also. Some other errors are: - write error on the client socket (won't be counted for the server stat) - failure applying filters to the response. 15. wretr [..BS]: number of times a connection to a server was retried. 16. wredis [..BS]: number of times a request was redispatched to another server. The server value counts the number of times that server was switched away from. 17. status [LFBS]: status (UP/DOWN/NOLB/MAINT/MAINT(via)...) 18. weight [..BS]: total weight (backend), server weight (server) 19. act [..BS]: number of active servers (backend), server is active (server) 20. bck [..BS]: number of backup servers (backend), server is backup (server) 21. chkfail [...S]: number of failed checks. (Only counts checks failed when the server is up.) 22. chkdown [..BS]: number of UP-\u0026gt;DOWN transitions. The backend counter counts transitions to the whole backend being down, rather than the sum of the counters for each server. 23. lastchg [..BS]: number of seconds since the last UP\u0026lt;-\u0026gt;DOWN transition 24. downtime [..BS]: total downtime (in seconds). The value for the backend is the downtime for the whole backend, not the sum of the server downtime. 25. qlimit [...S]: configured maxqueue for the server, or nothing in the value is 0 (default, meaning no limit) 26. pid [LFBS]: process id (0 for first instance, 1 for second, ...) 27. iid [LFBS]: unique proxy id 28. sid [L..S]: server id (unique inside a proxy) 29. throttle [...S]: current throttle percentage for the server, when slowstart is active, or no value if not in slowstart. 30. lbtot [..BS]: total number of times a server was selected, either for new sessions, or when re-dispatching. The server counter is the number of times that server was selected. 31. tracked [...S]: id of proxy/server if tracking is enabled. 32. type [LFBS]: (0=frontend, 1=backend, 2=server, 3=socket/listener) 33. rate [.FBS]: number of sessions per second over last elapsed second 34. rate_lim [.F..]: configured limit on new sessions per second 35. rate_max [.FBS]: max number of new sessions per second 36. check_status [...S]: status of last health check, one of: UNK -\u0026gt; unknown INI -\u0026gt; initializing SOCKERR -\u0026gt; socket error L4OK -\u0026gt; check passed on layer 4, no upper layers testing enabled L4TOUT -\u0026gt; layer 1-4 timeout L4CON -\u0026gt; layer 1-4 connection problem, for example \u0026quot;Connection refused\u0026quot; (tcp rst) or \u0026quot;No route to host\u0026quot; (icmp) L6OK -\u0026gt; check passed on layer 6 L6TOUT -\u0026gt; layer 6 (SSL) timeout L6RSP -\u0026gt; layer 6 invalid response - protocol error L7OK -\u0026gt; check passed on layer 7 L7OKC -\u0026gt; check conditionally passed on layer 7, for example 404 with disable-on-404 L7TOUT -\u0026gt; layer 7 (HTTP/SMTP) timeout L7RSP -\u0026gt; layer 7 invalid response - protocol error L7STS -\u0026gt; layer 7 response error, for example HTTP 5xx 37. check_code [...S]: layer5-7 code, if available 38. check_duration [...S]: time in ms took to finish last health check 39. hrsp_1xx [.FBS]: http responses with 1xx code 40. hrsp_2xx [.FBS]: http responses with 2xx code 41. hrsp_3xx [.FBS]: http responses with 3xx code 42. hrsp_4xx [.FBS]: http responses with 4xx code 43. hrsp_5xx [.FBS]: http responses with 5xx code 44. hrsp_other [.FBS]: http responses with other codes (protocol error) 45. hanafail [...S]: failed health checks details 46. req_rate [.F..]: HTTP requests per second over last elapsed second 47. req_rate_max [.F..]: max number of HTTP requests per second observed 48. req_tot [.F..]: total number of HTTP requests received 49. cli_abrt [..BS]: number of data transfers aborted by the client 50. srv_abrt [..BS]: number of data transfers aborted by the server (inc. in eresp) 51. comp_in [.FB.]: number of HTTP response bytes fed to the compressor 52. comp_out [.FB.]: number of HTTP response bytes emitted by the compressor 53. comp_byp [.FB.]: number of bytes that bypassed the HTTP compressor (CPU/BW limit) 54. comp_rsp [.FB.]: number of HTTP responses that were compressed 55. lastsess [..BS]: number of seconds since last session assigned to server/backend 56. last_chk [...S]: last health check contents or textual error 57. last_agt [...S]: last agent check contents or textual error 58. qtime [..BS]: the average queue time in ms over the 1024 last requests 59. ctime [..BS]: the average connect time in ms over the 1024 last requests 60. rtime [..BS]: the average response time in ms over the 1024 last requests (0 for TCP) 61. ttime [..BS]: the average total session time in ms over the 1024 last requests ì´ì œ stat ë¥¼ í™•ì¸í•˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ë¥¼ êµ¬ì„±í•œë‹¤. wwwë¼ëŠ” frontend ì˜ scur(current sessions)ë¥¼ ì¶œë ¥í•˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ë¡œ êµ¬ì„±í–ˆë‹¤.\n#!/bin/sh sock='/var/run/haproxy.sock' host=\u0026quot;$(hostname -f)\u0026quot; pause=1 time=\u0026quot;$(date +%s)\u0026quot; echo 'show stat' | socat - UNIX-CLIENT:$sock \\ |while IFS=',' read pxname svname qcur qmax scur smax slim stot bin bout dreq dresp ereq econ eresp wretr wredis status weight act bck chkfail chkdown lastchg downtime qlimit pid iid sid throttle lbtot tracked type rate rate_lim rate_max check_status check_code check_duration hrsp_1xx hrsp_2xx hrsp_3xx hrsp_4xx hrsp_5xx hrsp_other hanafail req_rate req_rate_max req_tot cli_abrt srv_abrt comp_in comp_out comp_byp comp_rsp; do if [ \u0026quot;$svname\u0026quot; = 'FRONTEND' ]; then if [ \u0026quot;$pxname\u0026quot; = 'www' ]; then name=$(echo $svname | tr '[:upper:]' '[:lower:]') echo \u0026quot;${scur:-0}\u0026quot; fi fi done ì´ ê²°ê³¼ë¥¼ ì´ì œ collectd ì— ì—°ê²°í•´ì„œ ê·¸ë˜í”„ë¡œ ê·¸ë¦¬ë©´ ëœë‹¤.\nLoadPlugin \u0026quot;exec\u0026quot; \u0026lt;Plugin \u0026quot;exec\u0026quot;\u0026gt; Exec \u0026quot;haproxy:haproxy\u0026quot; \u0026quot;/usr/local/bin/haproxy-stats\u0026quot; \u0026lt;/Plugin\u0026gt;  ë‘ê°€ì§€ ë°©ë²•ì¤‘ì— ë‚˜ì˜ ê²½ìš°ëŠ” unix socket ì„ ì‚¬ìš©í–ˆë‹¤.\nìš”ì•½ haproxy ì˜ statë¥¼ í™•ì¸í•˜ì—¬ ëª¨ë‹ˆí„°ë§í•˜ëŠ” ë°©ë²•ì€ unix socket ì„ í™œìš©í•´ì„œ í•„ìš”í•œ ì •ë³´(ì—¬ê¸°ì„œëŠ” current session)ë¥¼ ì–»ëŠ” ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‘ì„±í•˜ê³  ì´ë¥¼ ì£¼ê¸°ì ìœ¼ë¡œ ì‹¤í–‰í•´ì„œ (collectd ë˜ëŠ” ë³„ë„ì˜ ë°©ë²•ì„ ì‚¬ìš©í•´ë„ ëœë‹¤.) ìˆ˜ì§‘ëœ ë°ì´í„°ë¥¼ ì „ë‹¬í•˜ì—¬ ê·¸ë˜í”„ë¡œ ê·¸ë¦¬ëŠ” ê²ƒì´ë‹¤. ê·¸ë˜í”„ëŠ” grafana ê°™ì€ ê·¸ë˜í”„ë¡œ ì—°ê²°í•´ ë†“ìœ¼ë©´ ë³´ê¸°ë„ í¸í•˜ê³  ì´ìƒì´ ìˆì„ ë•Œ ì•Œë¦¼ì„ ê±¸ ìˆ˜ë„ ìˆì–´ì„œ í¸ë¦¬í•˜ë‹¤.\nì°¸ê³   stat ìˆ˜ì§‘ íšë“í•˜ëŠ” ë°©ë²• : https://www.datadoghq.com/blog/how-to-collect-haproxy-metrics/ stat haproxy ë§¤ë‰´ì–¼ : https://cbonte.github.io/haproxy-dconv/1.8/management.html#9 socket ìœ¼ë¡œ haproxy stat íšë“í•˜ê¸° : https://makandracards.com/makandra/36727-get-haproxy-stats-informations-via-socat stat ìˆ˜ì§‘ script : https://gist.github.com/bpaquet/7153979 stat ì„¤ëª… : https://gist.github.com/alq666/20a464665a1086de0c9ddf1754a9b7fb "
},
{
	"permalink": "https://findstar.pe.kr/2019/01/01/2019-new-year/",
	"title": "2019ë…„ ìƒˆí•´ ëª©í‘œ",
	"tags": ["happy new year"],
	"description": "",
	"type": "post",
	"contents": "2019ë…„ ìƒˆí•´ê°€ ë°ì•˜ë‹¤, ì‘ë…„ ì¤‘ë°˜ ì´í›„ì—ëŠ” ëœ¸í•´ì§„ ë¸”ë¡œê·¸ì— ê°„ë§Œì— ë”°ëœ»í•œ(?) ì˜¨ê¸°ë¥¼ ë¶ˆì–´ë„£ì–´ë³´ê³ ì, 2019ë…„ í•œí•´ì˜ ë‹¤ì§ì„ ê¸°ë¡í•´ ë³¸ë‹¤.\në§¤ë…„ ìƒˆí•´ê°€ ë˜ë©´, ìƒˆë¡­ê²Œ ë¬´ì–¸ê°€ ì‹œì‘í•´ë³´ê³ ì í•˜ì–€ ë°±ì§€ ìœ„ì— ì´ê²ƒì €ê²ƒ ëª©í‘œë“¤ì„ ì±„ì›Œë„£ëŠ”ë‹¤. ì‘ë…„ì—ë„, ê·¸ ì „í•´ì—ë„ ê·¸ë¬ì§€ë§Œ, ì´ë²ˆì—ëŠ” \u0026ldquo;ëë‚´~ ì´ë£¨ë¦¬ë¼!\u0026rdquo; ë¼ê³  ì˜ì§€ë¥¼ ë¶ˆì‚´ë¼ ë³¸ë‹¤.\nì œì¼ë¨¼ì €, ì˜ì§€ ì¶©ë§Œí•˜ê²Œ ì‹œì‘í•˜ì§€ë§Œ ì¤‘ê°„ì— íì§€ë¶€ì§€ ë˜ê³ ë§ˆëŠ” ëª©í‘œë“¤(ì˜ì–´ë¼ë˜ê°€..ì˜ì–´ë¼ë˜ê°€..ì˜ì–´ë¼ë˜ê°€..), í•´ê°€ ê°ˆìˆ˜ë¡ ê±´ê°•ì— ì‹ ê²½ì¨ì•¼ì§€ í–ˆë˜ ìƒê°ë“¤ì´ ë– ì˜¤ë¥¸ë‹¤. ê°€ì¡±ê³¼ì˜ ì‹œê°„ë„ ì¤‘ìš”í•˜ê³ , ë˜ ê¸°ìˆ ì„ ê°ˆê³  ë‹¦ëŠ” ì‹œê°„ë„ ì¤‘ìš”í•˜ë‹¤.\në­”ê°€ íšŒì‚¬ ì—…ë¬´ ì´ì™¸ì— ê°œì¸ì ì¸ ì„±ì·¨ë„ ë„ì „í•´ë³´ê³  ì‹¶ê³ , ê·¸ëŸ¬ê³  ë³´ë‹ˆ ëŒ€ì¶œê¸ˆì„ ì¤„ì´ê¸° ìœ„í•´ì„œ ì ˆì•½ë„ í•´ì•¼í•œë‹¤. ë‘ì„œì—†ì´ ì ë‹¤ë³´ë‹ˆ ëì´ ì—†ì„ê²ƒ ê°™ì•„, ìš”ì•½ì— ìš”ì•½ì— ìš”ì•½ì„ ë”í•´ ê°„ì¶”ë ¤ ë³´ì•˜ë‹¤.\nìš•ì‹¬ë‚´ì§€ ë§ê³ , í•˜ë‚˜ì”© í•´ë‚˜ê°€ìëŠ” ë‹¤ì§ì„ í•´ë³¸ë‹¤.\nê±´ê°•  ì¹˜ë£Œ : ë§¤ë²ˆ ì•…ìˆœí™˜ë˜ëŠ” ì†ëª© ë¶€ìƒ, ì•Œë ˆë¥´ê¸°ì„± ì§ˆí™˜ ê´€ë¦¬ (1, 2ì›”ì€ ì¹˜ë£Œ) ìš´ë™ : ì•”ë²½ë“±ë°˜ ê¾¸ì¤€íˆ í•˜ê¸° (ë¶€ìƒ ì¹˜ë£Œí›„ 3ì›” ë¶€í„°) ì²´ë ¥ : ì§‘ì—ì„œ ê¾¸ì¤€íˆ ë§¨ì† ìš´ë™ í•˜ê¸° ë‹¤ì´ì–´íŠ¸ : ë” ì°Œì§€ë§Œ ë§ì.(ë¹¼ëŠ”ê±´ ã… ) ìˆ˜ë©´ : 12ì‹œ ì´ì „ì— ì·¨ì¹¨í•˜ê¸°.  ì˜ì–´  ìŠ¤í„°ë”” : ì˜ì–´ ìŠ¤í„°ë”” ì°¸ê°€ (2019.01.03 ì‹œì‘!) ë„ì „ : \u0026ldquo;ì˜ì–´ì±… í•œê¶Œ ì™¸ì›Œ ë´¤ì–´?\u0026rdquo; ì±…ì„ ì½ê³  ë”°ë¼í•˜ê¸°  ê¸°ìˆ   spring boot ìµìˆ™í•´ì§€ê¸° ë§¤ì£¼ ê¸°ìˆ  ìŠ¤í„°ë”” : java, spring boot ì¤€ë¹„ì¤‘ (2019.01.07 ì‹œì‘!) kafka data pipeline ì„¤ê³„ MSA êµ¬ì¡° êµ¬í˜„ ë„ì „  ê°€ì¡±  ì£¼ë§ì— í•œë¼ëŠ” ìŠ¤ìŠ¤ë¡œ ìš”ë¦¬í•´ì„œ ë°¥ ì¤€ë¹„í•˜ê¸° í•˜ë°˜ê¸° ê°€ì¡±ê³¼ í•¨ê»˜ ë¯¸êµ­ í•œë‹¬ ì—¬í–‰  ì—…ì   ê°•ì˜ ë§Œë“¤ê¸° ë„ì „! ë§¤ì£¼ 1ê°œì˜ ë¸”ë¡œê¹… 1ë‹¬ì— 1ê¶Œ ì±… ë…í›„ê° ì‘ì„±í•˜ê¸°  ì´ë ‡ê²Œ ì •ë¦¬í•´ë†“ìœ¼ë‹ˆ í•œê²° ë³´ê¸° í¸í•˜ê¸´ í•œë°, ì˜ í•  ìˆ˜ ìˆì„ê¹Œ ë¼ëŠ” ê±±ì •ì´ ì•ì„ ë‹¤. ë¬¼ë¡  ì‹œì‘ì´ ë°˜ì´ë‹ˆê¹Œ ì´ë¯¸ ë°˜ì€ í•œì…ˆì¸ê°€. ë§¤ë…„ ë‹¤ì§í•˜ëŠ” ìƒˆí•´ ëª©í‘œì§€ë§Œ, ì˜¬í•´ëŠ” ì¢€ ë” ì˜ í•´ë³´ê³  ì‹¶ë‹¤. ìŠ¤í„°ë””ë„ ë²Œë ¤ë†¨ê³ , ì‹¤ì²œ ê³„íšì„ í•˜ë‚˜ì”© ì„¸ìš°ê³  ì°¨ê·¼ì°¨ê·¼ í•´ë‚˜ê°€ëŠ”ê²Œ ì¤‘ìš”í•˜ì§€ë§Œ ë„ˆë¬´ ì¡°ë°”ì‹¬ ë‚´ì„œ ìŠ¤ìŠ¤ë¡œ ìŠ¤íŠ¸ë ˆìŠ¤ ë°›ì§€ëŠ” ì•Šê¸°ë¡œ í–ˆë‹¤. ì–´ì°Œë˜ì—ˆë“  ì˜¬ í•œí•´ë„ í™”ì´íŒ…!\n"
},
{
	"permalink": "https://findstar.pe.kr/tags/happy-new-year/",
	"title": "happy new year",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/lets-encrypt/",
	"title": "let&#39;s encrypt",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/2018/09/08/lets-encrypt-certificates-rate-limit/",
	"title": "Let&#39;s encrypt ì˜ ì¸ì¦ì„œë¥¼ ìƒì„±í•  ë•Œ ì£¼ì˜ì‚¬í•­",
	"tags": ["let&#39;s encrypt", "letsencrypt"],
	"description": "",
	"type": "post",
	"contents": "Let\u0026rsquo;s encryptë¥¼ í™œìš©í•´ì„œ SSL ì¸ì¦ì„œë¥¼ ìƒì„±í•  ë•Œì—ëŠ” ëª‡ê°€ì§€ ì£¼ì˜í•´ì•¼í•  ì‚¬í•­ì´ ìˆë‹¤. ì¸ì¦ì„œë¥¼ ë¬´í•œëŒ€ë¡œ ìƒì„±í• ìˆ˜ ì—†ëŠ” ê²ƒì´ ë‹¹ì—°í•˜ê³ , ìƒì„±ì— ëŒ€í•œ ì œì•½ì‚¬í•­ì„ ì •ë¦¬í•´ë³´ì•˜ë‹¤.\nLet\u0026rsquo;s encrypt? Let\u0026rsquo;s encrypt ëŠ” https ì ‘ì†ì„ ì§€ì›í•˜ê¸° ìœ„í•œ ì¸ì¦ì„œë¥¼ ë¬´ë£Œë¡œ ìƒì„±í•  ìˆ˜ ìˆëŠ” ì„œë¹„ìŠ¤ë¼ê³  ìƒê°í•˜ë©´ ì´í•´í•˜ê¸° ì‰½ë‹¤. ê°œì¸ ë¸”ë¡œê·¸ì˜ ê²½ìš° ì¸ì¦ì„œë¥¼ ì§ì ‘ êµ¬ë§¤í•˜ê¸° ì–´ë ¤ìš´ë°, let\u0026rsquo;s encryptë¥¼ ì‚¬ìš©í•˜ë©´ ë¬´ë£Œë¡œ ì¸ì¦ì„œë¥¼ ë°œê¸‰ ë°›ì„ ìˆ˜ ìˆë‹¤. ëª¨ì§ˆë¼, ì•„ì¹´ë§ˆì´, ì‹œìŠ¤ì½”, í¬ë¡¬, í˜ì´ìŠ¤ë¶, automattic ê³¼ ê°™ì€ íšŒì‚¬ë“¤ì´ ìŠ¤í°ì„œë¡œ ìˆì–´ì„œ ì„œë¹„ìŠ¤ê°€ ì§€ì›ì„ ì¤‘ë‹¨í•  ê±±ì •ë„ ì—†ë‹¤ê³  í•  ìˆ˜ ìˆë‹¤. ì´ ë¸”ë¡œê·¸ì˜ ê²½ìš°ì—ëŠ” github page ì—ì„œ ì œê³µí•´ì£¼ëŠ” ssl ì„œë¹„ìŠ¤ë¥¼ ì‚¬ìš©í•˜ê³  ìˆëŠ”ë° ì—¬ê¸°ì—ì„œ ì‚¬ìš©í•˜ëŠ” ì¸ì¦ì„œë„ let\u0026rsquo;s encryptë¥¼ ì‚¬ìš©í•œ ê²ƒì´ë‹¤. êµ­ë‚´ì—ì„œëŠ” í‹°ìŠ¤í† ë¦¬ì—ì„œ ê°œì¸ë„ë©”ì¸ì— ëŒ€í•œ ssl ì¸ì¦ì„œë¥¼ let\u0026rsquo;s encryptë¥¼ ì‚¬ìš©í•´ì„œ ì§€ì›í•˜ê³  ìˆë‹¤.\nì¸ì¦ë°œê¸‰ì˜ ê° ë‹¨ê³„ ì¸ì¦ì„œëŠ” ë°œê¸‰/ê°±ì‹ /ì·¨ì†Œ ì˜ ì„¸ê°€ì§€ ë‹¨ê³„ê°€ ìˆë‹¤. ë°œê¸‰ì€ ìƒˆë¡œìš´ ì¸ì¦ì„œ íŒŒì¼ì„ ìƒì„±í•˜ëŠ” ê²ƒ, ê°±ì‹ ì€ ìƒì„±ëœ ì¸ì¦ì„œì˜ ìœ íš¨ê¸°ê°„ì´ 30ì¼ ì´í•˜ë¡œ ë‚¨ì€ ê²½ìš° ì´ë¥¼ ìƒˆë¡­ê²Œ 90ì´ìƒ ì‚¬ìš©ê°€ëŠ¥í•˜ë„ë¡ í•˜ëŠ” ê²ƒ, ë§ˆì§€ë§‰ìœ¼ë¡œ ì·¨ì†ŒëŠ” ìƒì„±í•œ ì¸ì¦ì„œ íŒŒì¼ì„ ìœ íš¨í•˜ì§€ ì•Šê²Œ í•˜ëŠ” ë™ì‘ì´ë‹¤.\nìƒì„±ëœ ì¸ì¦ì„œì˜ ìœ íš¨ê¸°ê°„ let\u0026rsquo;s encryptë¥¼ í†µí•´ì„œ ìƒì„±í•œ ì¸ì¦ì„œëŠ” ê¸°ë³¸ì ìœ¼ë¡œ 3ê°œì›”(90ì¼)ë™ì•ˆ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ì„¤ ì—…ì²´ë¥¼ í†µí•´ì„œ êµ¬ë§¤í•œ ì¸ì¦ì„œê°€ ìµœì†Œ 1ë…„ì´ë¼ëŠ” ê²ƒì„ ê°ì•ˆí•˜ë©´ ê¸°ê°„ì´ ì§§ë‹¤ê³  í•  ìˆ˜ ìˆë‹¤. ê·¸ë ‡ì§€ë§Œ ì¬ê°±ì‹  ë˜í•œ ë¬´ë£Œë¡œ ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì—, ì œ ë•Œì— ê°±ì‹ í•˜ëŠ” ê²ƒì„ ê¹œë¹¡í•˜ì§€(?) ì•Šë‹¤ë©´, ì¸ì¦ì„œë¥¼ ê³„ì† ê°±ì‹ í•´ì„œ https ì ‘ì†ì„ ìœ ì§€í•  ìˆ˜ ìˆë‹¤.\nì¸ì¦ì„œë¥¼ ë°œê¸‰ í•  ë•Œ ì œì•½ì‚¬í•­ ì¸ì¦ì„œë¥¼ ë°œê¸‰í•˜ëŠ” ë°©ë²•ì€ ìë£Œê°€ ë§ìœ¼ë‹ˆ, ì¸ì¦ì„œë¥¼ ë°œê¸‰í•  ë•Œ ì œì•½ì‚¬í•­ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ì. ì¼ë‹¨ ê³µì‹ ì‚¬ì´íŠ¸ ì—ì„œ ìì„¸í•˜ê²Œ ë‚˜ì™€ ìˆê¸´ í•œë° ì²˜ìŒì—ëŠ” ë­ê°€ë­”ì§€ í—·ê°ˆë¦°ë‹¤. ì´ë¥¼ ì •ë¦¬í•´ ë³´ì•˜ë‹¤.\n  ì¸ì¦ì„œëŠ” í•˜ë‚˜ì˜ Registered Domain ê¸°ì¤€ìœ¼ë¡œ 1ì£¼ì— 50ê°œê¹Œì§€ ì¸ì¦ì„œ ë°œê¸‰ì´ ê°€ëŠ¥í•˜ë‹¤.\nRegistered Domain ì´ë¼ëŠ” ê²ƒì€ ì¼ë°˜ì ìœ¼ë¡œ ìš°ë¦¬ê°€ ë„ë©”ì¸ì„ ì‹ ê·œë¡œ êµ¬ë§¤í•  ë•Œ ê²°ì •ë˜ëŠ” ë„ë©”ì¸ì´ë¼ê³  ìƒê°í•˜ë©´ ëœë‹¤. \u0026ldquo;www.example.com\u0026rdquo; ì—ì„œ Registered Domain ë„ë©”ì¸ì€ \u0026ldquo;example.com\u0026rdquo; ë¶€ë¶„ì„ ë§í•œë‹¤. ë§Œì•½ ì„œë¸Œ ë„ë©”ì¸ì´ \u0026ldquo;new.blog.example.co.kr\u0026rdquo; ì´ë¼ë©´ Registered Domain ì€ \u0026ldquo;example.co.kr\u0026rdquo; ì´ ëœë‹¤. Registered Domain ì— ëŒ€í•œ íŒë‹¨ì€ Public Suffix ë¥¼ ì‚¬ìš©í•´ì„œ íŒë‹¨ëœë‹¤.\n  í•˜ë‚˜ì˜ ì¸ì¦ì„œëŠ” ìµœëŒ€ 100ê°œì˜ ì„œë¸Œ ë„ë©”ì¸ ì¸ì¦ ì •ë³´ë¥¼ í¬í•¨ì‹œí‚¬ ìˆ˜ ìˆë‹¤.\ní•˜ë‚˜ì˜ ì¸ì¦ì„œì—ëŠ” ë‹¨ í•˜ë‚˜ì˜ ë„ë©”ì¸ ì¸ì¦ ì •ë³´ë§Œ ë‹´ì„ ìˆ˜ ìˆëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤. ë‘ê°œ ì´ìƒì˜ ë„ë©”ì¸ ì¸ì¦ ì •ë³´ë¥¼ ë‹´ì„ ìˆ˜ ìˆëŠ”ë°, (ì´ëŸ¬í•œ ì¸ì¦ì„œë¥¼ ë©€í‹° ë„ë©”ì¸ ì¸ì¦ì„œ ë¼ê³  í•œë‹¤) let\u0026rsquo;s encryptë¥¼ ì‚¬ìš©í•´ì„œ ë°œê¸‰í•˜ëŠ” ì¸ì¦ì„œ íŒŒì¼ í•˜ë‚˜ì— ë‹´ì„ ìˆ˜ ìˆëŠ” ë„ë©”ì¸ ì¸ì¦ì •ë³´ëŠ” íŒŒì¼ë‹¹ ìµœëŒ€ 100ê°œì˜ ì œí•œì´ ìˆë‹¤. ë”°ë¼ì„œ ì•ì„œ ì²«ë²ˆì§¸ ì œí•œì‚¬í•­ê³¼ í•¨ê»˜ ê³ ë ¤í•œë‹¤ë©´, ì¼ì£¼ì¼ì— ìµœëŒ€ 5000ê°œì˜ ì„œë¸Œ ë„ë©”ì¸ì— ëŒ€í•œ ì¸ì¦ì •ë³´ë¥¼ ìƒì„±í•  ìˆ˜ ìˆë‹¤.\n  ë™ì¼í•œ ë„ë©”ì¸ì— ëŒ€í•œ ì¸ì¦ì •ë³´ ê·¸ë£¹(domain set)ì€ ì¼ì£¼ì¼ì— ìµœëŒ€ 5ê°œê¹Œì§€ ë°œê¸‰ì´ ê°€ëŠ¥í•˜ë‹¤.\nì¸ì¦ì„œë¥¼ ìƒì„±í•  ë•Œì—ëŠ” ë™ì¼í•œ ë„ë©”ì¸ ì¸ì¦ì •ë³´ ê·¸ë£¹(domain set)ì— ëŒ€í•´ì„œëŠ” ì¼ì£¼ì¼ì— ìµœëŒ€ 5ê°œê¹Œì§€ ë°œê¸‰ì´ ê°€ëŠ¥í•˜ë‹¤. ì¸ì¦ì •ë³´ ê·¸ë£¹(domain set)ì´ë¼ëŠ” ê²ƒì€ [\u0026ldquo;www.example.com\u0026rdquo;, \u0026ldquo;example.com\u0026rdquo;] ì™€ ê°™ì´ í•œë²ˆì— ì¸ì¦ì„œ ë°œê¸‰ì„ ìœ„í•´ì„œ ìš”ì²­í•˜ëŠ” ë„ë©”ì¸ë“¤(í•˜ë‚˜ ë˜ëŠ” ê·¸ì´ìƒ)ì˜ ì§‘í•©ì´ë¼ê³  í•  ìˆ˜ ìˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œëŠ” í•˜ë‚˜ì˜ ë„ë©”ì¸ì— ëŒ€í•´ì„œ ì¸ì¦ì„œë¥¼ ë°œê¸‰ ìš”ì²­í•˜ê¸° ë•Œë¬¸ì— ì´ ì œì•½ì‚¬í•­ì€ ê·¸ëƒ¥ ë™ì¼í•œ ë„ë©”ì¸ì— ëŒ€í•´ì„œëŠ” ì¸ì¦ì„œ ë°œê¸‰ì€ ì¼ì£¼ì¼ì— 5ë²ˆìœ¼ë¡œ ì œí•œëœë‹¤ê³  ì´í•´í•˜ë©´ ëœë‹¤. ë§Œì•½ ì¸ì¦ì •ë³´ ê·¸ë£¹(ì—¬ëŸ¬ê°œì˜ ë„ë©”ì¸ì— ëŒ€í•œ ì¸ì¦ì„œ)ì´ ë™ì¼í•œ ì¸ì¦ì„œ ë°œê¸‰ ìš”ì²­ì„ í•œë‹¤ë©´, ì¼ì£¼ì¼ ë™ì•ˆì—ëŠ” ìµœëŒ€ 5ê°œê¹Œì§€ë§Œ ê°€ëŠ¥í•˜ë‹¤ëŠ” ì˜ë¯¸ë‹¤. ë‹¨, ì¸ì¦ì •ë³´ ê·¸ë£¹ì„ ì¶”ê°€í•œë‹¤ë©´ ì¶”ê°€ì ìœ¼ë¡œ ì¸ì¦ì„œ ë°œê¸‰ì´ ê°€ëŠ¥í•˜ë‹¤ ì¼ì£¼ì¼ ì‚¬ì´ì— [\u0026ldquo;www.example.com\u0026rdquo;, \u0026ldquo;example.com\u0026rdquo;] ìœ¼ë¡œ 5ë²ˆ ì¸ì¦ì„œë¥¼ ìƒì„±í–ˆë”ë¼ë„, [\u0026ldquo;www.example.com\u0026rdquo;, \u0026ldquo;example.com\u0026rdquo;, \u0026ldquo;blog.example\u0026rdquo;] ìœ¼ë¡œ ì¸ì¦ì„œë¥¼ ì¶”ê°€ì ìœ¼ë¡œ ìƒì„±í•  ìˆ˜ ìˆë‹¤.\n  ì¸ì¦ì„œë¥¼ ê°±ì‹ í•  ë•Œ ì œì•½ì‚¬í•­ ì¸ì¦ì„œë¥¼ ìƒì„±í•  ë•Œë§Œ ì œì•½ì´ ìˆëŠ” ê²ƒì€ ì•„ë‹ˆê³ , ì¸ì¦ì„œë¥¼ ê°±ì‹ í•  ë•Œì—ë„ ì œì•½ì‚¬í•­ì´ ìˆë‹¤.\n  ìƒì„± limit ì— í•´ë‹¹ë˜ë”ë¼ë„, ê°±ì‹ ì€ ê°€ëŠ¥í•˜ë‹¤.\në§Œì•½ ì¼ì£¼ì¼ì— 50ê°œì˜ ì¸ì¦ì„œë¥¼ ë°œê¸‰í•˜ì—¬, ìƒì„± limitì— í•´ë‹¹ë˜ë”ë¼ë„, ê¸°ì¡´ì— ìƒì„±í•œ ì¸ì¦ì„œì˜ ê°±ì‹ (renewal)ì€ ê°€ëŠ¥í•˜ë‹¤. ë”°ë¼ì„œ ì¼ë‹¨ ì¸ì¦ì„œë¥¼ ìƒì„±í–ˆë‹¤ë©´, ê°±ì‹ í•˜ëŠ”ë°ëŠ” ë¬¸ì œê°€ ì—†ë‹¤. (ê·¸ë ‡ì§€ë§Œ, ì–¸ì œë‚˜\u0026hellip; ìœ ì € ë¶ˆëŸ‰ì´ ë°œìƒí•œë‹¤.)\n  ê°±ì‹ ì„ í•˜ê¸° ì „ì— ë§Œë£Œ ê¸°ê°„ì— í•´ë‹¹í•˜ëŠ”ì§€ í™•ì¸í•´ì•¼í•œë‹¤.\nìƒì„±ëœ ì¸ì¦ì„œëŠ” 90ì¼ ë™ì•ˆ ìœ íš¨í•˜ê³ , 30ì¼ì´ ë‚¨ì€ ì‹œê°„ ë¶€í„° ê°±ì‹ ì´ ê°€ëŠ¥í•˜ë‹¤, ë§Œì•½ ê·¸ ì´ì „ì— ë™ì¼í•œ ì¸ì¦ì •ë³´ ê·¸ë£¹(domain set)ìœ¼ë¡œ ê°±ì‹  ìš”ì²­ì„ í•œë‹¤ë©´, ì´ë•ŒëŠ” ë™ì¼í•œ ë„ë©”ì¸ ì¸ì¦ì„œ ë°œê¸‰ ìš”ì²­ìœ¼ë¡œ ì·¨ê¸‰ë˜ì–´, ë™ì¼í•œ ë„ë©”ì¸ ì¸ì¦ì •ë³´ ë°œê¸‰ì˜ ì œì•½ì„ ë°›ëŠ”ë‹¤. ê·¸ëŸ¬ë‹ˆ, ê°±ì‹ ì„ í•˜ê¸°ì „ì—. ë§Œë£Œê¸°ê°„ì— í•´ë‹¹í•˜ëŠ”ì§€ í™•ì¸í•˜ê³  ìš”ì²­ì„ í•˜ë„ë¡ í•˜ì.\n  ì¸ì¦ì„œ ê°±ì‹ ì„ í™œìš©í•˜ë©´ ì‚¬ìš©ê°€ëŠ¥í•œ í•˜ë‚˜ì˜ ë„ë©”ì¸ì˜ ì„œë¸Œ ë„ë©”ì¸ë³„ ì¸ì¦ì„œëŠ” ê³„ì† ëŠ˜ì–´ë‚  ìˆ˜ ìˆë‹¤.\nì¸ì¦ì„œëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ìƒì„±ì— ì œì•½ì´ ìˆê³ , ê°±ì‹ ì—ëŠ” ì œì•½ì´ ì—†ê¸° ë•Œë¬¸ì— ì´ë¥¼ ì˜ í™œìš©í•œë‹¤ë©´, 1ì£¼ì— 50ê°œì”© (í•˜ë‚˜ì˜ ë„ë©”ì¸ì”© ëŠ˜ë ¤ê°„ë‹¤ê³  ê°€ì •í•  ë•Œ) ê³„ì† ì‚¬ìš©ê°€ëŠ¥í•œ ì¸ì¦ì„œë¥¼ ëŠ˜ë ¤ê°ˆ ìˆ˜ ìˆë‹¤. ë§Œì•½ í•˜ë‚˜ì˜ ë„ë©”ì¸ì— ì—¬ëŸ¬ê°œì˜ ì„œë¸Œë„ë©”ì¸ì„ ëª¨ë‘ ì¸ì¦ì„œë¥¼ ë°œê¸‰í•´ì•¼ í•œë‹¤ë©´, ì´ ì •ì±…ì„ ì‚¬ìš©í•˜ë©´ ì‹œê°„ì´ ê±¸ë¦´ì§€ì–¸ì •, ì–¸ì  ê°€ëŠ” ëª¨ë‘ ì¸ì¦ì„œ ë°œê¸‰ì´ ê°€ëŠ¥í•˜ë‹¤.\n  ì¸ì¦ì„œ ì·¨ì†Œì˜ ì°¸ê³ ì‚¬í•­   ì¸ì¦ì„œ ì·¨ì†Œ(revoke)ëŠ” ì¸ì¦ì„œ ìƒì„± limit ì„ ì´ˆê¸°í™” ì‹œí‚¤ì§€ ì•ŠëŠ”ë‹¤\nì¸ì¦ì„œ ìƒì„±ë‹¨ê³„ì—ì„œ ì–´ë– í•œ ì œì•½ì‚¬í•­ì— í•´ë‹¹ë˜ì–´(ì£¼ë¡œ ë™ì¼í•œ ë„ë©”ì¸ ì¸ì¦ì„œë¥¼ ê³„ì†í•´ì„œ ìƒì„±í•˜ëŠ” ê²½ìš°) ê¸°ì¡´ ì¸ì¦ì„œë¥¼ ì·¨ì†Œ(revoke)í•˜ë©´ limit countê°€ ì´ˆê¸°í™”ë˜ê±°ë‚˜, ê°ì†Œë˜ì§€ ì•ŠëŠ”ì§€ ê¶ê¸ˆí•  ìˆ˜ë„ ìˆë‹¤. ê³µì‹ ì‚¬ì´íŠ¸ì—ì„œëŠ” ëª…ì‹œì ìœ¼ë¡œ ì¸ì¦ì„œ ì·¨ì†ŒëŠ” limit countë¥¼ ì´ˆê¸°í™” ì‹œí‚¤ì§€ ì•ŠëŠ”ë‹¤ê³  ì•Œë ¤ì£¼ê³  ìˆë‹¤. ê·¸ëŸ¬ë‹ˆ, ëŒ€ë¶€ë¶„ì€ ê·¸ëƒ¥ ê¸°ë‹¤ë¦¬ëŠ”ê²Œ ìƒì±…ì´ë‹¤.\n  ì¸ì¦ì„œ ë°œê¸‰ ì‹¤íŒ¨ì™€ ê´€ë ¨ëœ ì œì•½ì‚¬í•­  ê³„ì •ë³„, í˜¸ìŠ¤íŠ¸ë³„, ì‹œê°„ë‹¹ 5ë²ˆì˜ ì‹¤íŒ¨ê¹Œì§€ë§Œ í—ˆìš©ëœë‹¤.  í˜¸ìŠ¤íŒ… ì—…ì²´, ëŒ€ê·œëª¨ ë„ë©”ì¸ ë“±ë¡ ì„œë¹„ìŠ¤ë¥¼ ì§„í–‰í•˜ëŠ” ê²½ìš°, ë˜ëŠ” ê°œì¸ ì´ë”ë¼ë„ ì¸ì¦ì„œ ë°œê¸‰ì„ ìë™í™”í•˜ë„ë¡ êµ¬í˜„í•˜ëŠ” ê³¼ì •ì—ì„œ ì—¬ëŸ¬ê°€ì§€ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•˜ê²Œ ëœë‹¤. ì´ ë•Œ, ì˜ëª»í•˜ë©´ fail vadliation ì œì•½ì— í•´ë‹¹ë˜ì–´ì„œ í•œ ì‹œê°„ ë™ì•ˆ ê¸°ë‹¤ë ¤ì•¼ ë˜ëŠ” ë¶ˆí–‰í•œ(!) ì‚¬íƒœê°€ ë°œìƒí•œë‹¤. ê·¸ëŸ¬ë‹ˆ, ì¸ì¦ì„œ ë°œê¸‰ì„ ìš”ì²­í•˜ê¸° ì „ì—, DNS ì„¤ì •ì€ ì˜ ë˜ì—ˆëŠ”ì§€, \u0026ldquo;/.well-known/acme-challenge/\u0026rdquo; ê²½ë¡œëŠ” ì˜ í—ˆìš©ë˜ì—ˆëŠ”ì§€(ë°œê¸‰ì„ ìœ„í•œ validation ê³¼ì •ì€ ë°©ì‹ì— ë”°ë¼ ì°¨ì´ê°€ ìˆì„ ìˆ˜ ìˆë‹¤) í™•ì¸ì„ ì˜ í•˜ê³  ë°œê¸‰ ìš”ì²­ì„ ì§„í–‰í•´ì•¼ í•œë‹¤.\n \u0026ldquo;new-reg\u0026rdquo;, \u0026ldquo;new-authz\u0026rdquo;, \u0026ldquo;new-cert\u0026rdquo; APIëŠ” ì´ˆë‹¹ ìµœëŒ€ 20ê°œê¹Œì§€ í—ˆìš©ëœë‹¤.\nì¼ë°˜ ì‚¬ìš©ìëŠ” ëŒ€ë¶€ë¶„ ê³ ë ¤í•  í•„ìš”ê°€ ì—†ëŠ” ì‚¬í•­ì¸ë°, ëŒ€ê·œëª¨ ì¸ì¦ì„œ ë°œê¸‰ì´ í•„ìš”í•œ ê²½ìš°ì—ëŠ” í•´ë‹¹ APIëŠ” ì´ˆë‹¹ 20ê°œê¹Œì§€ ê°€ëŠ¥í•˜ë‹¤ëŠ” ì ì„ ì—¼ë‘í•´ë‘¬ì•¼ í•œë‹¤. (ê·¸ë ‡ì§€ë§Œ ì´ë ‡ê²Œ ê¹Œì§€ ë§ì€ APIë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ì–¼ë§ˆë‚˜ ë§ì€ ë„ë©”ì¸ì„ ê´€ë¦¬í•´ì•¼ í•˜ëŠ”ê±¸ê¹Œ..)\n  \u0026ldquo;/directory\u0026rdquo; \u0026ldquo;/acme\u0026rdquo; APIëŠ” ì´ˆë‹¹ ìµœëŒ€ 40ê°œê¹Œì§€ í—ˆìš©ëœë‹¤.\nìœ„ì™€ ë§ˆì°¬ê°€ì§€ë¡œ í•´ë‹¹ APIëŠ” ì´ˆë‹¹ ìµœëŒ€ 40ê°œê¹Œì§€ ê°€ëŠ¥í•˜ë‹¤\n  IPë³„ ìƒì„± ì œí•œ ì¸ì¦ì„œë¥¼ ë°œê¸‰í•˜ëŠ”ë°ëŠ” IPì— ëŒ€í•œ ì œì•½ì‚¬í•­ë„ ì¡´ì¬í•œë‹¤.(ì´ë ‡ê²Œ ë†“ê³ ë³´ë‹ˆ, ì°¸ ë§ì€ê²ƒ ê°™ë‹¤.)\n  IPë³„ë¡œ ì¸ì¦ì„œ ìƒì„±ì„ ìœ„í•œ ê³„ì •ì„ 3ì‹œê°„ì— 10ê°œê¹Œì§€ ìƒì„±ì´ ê°€ëŠ¥í•˜ë‹¤\nlet\u0026rsquo;s encryptë¥¼ í†µí•´ì„œ ì¸ì¦ì„œë¥¼ ìƒì„±í•˜ë ¤ë©´ ê³„ì •ì´ í•„ìš”í•œë° ì´ ê³„ì •ì€ í•˜ë‚˜ì˜ IPì—ì„œ 3ì‹œê°„ì— 10ê°œê¹Œì§€ ìƒì„±ì´ ê°€ëŠ¥í•˜ë‹¤\n  IPë³„ë¡œ ì¸ì¦ì„œ ìƒì„±ì€ 3ì‹œê°„ì— 500ê°œê¹Œì§€ ê°€ëŠ¥í•˜ë‹¤\ní•˜ë‚˜ì˜ IPì—ì„œ ì¸ì¦ì„œ ìƒì„±ì€ 3ì‹œê°„ì— 500ê°œê¹Œì§€ ê°€ëŠ¥í•˜ë‹¤. ì´ê±¸ ë„˜ëŠ” ê²½ìš°ëŠ” ì•„ë§ˆ ëŒ€ê·œëª¨ í˜¸ìŠ¤íŒ… ì—…ì²´ì˜ ê²½ìš°ì¼ ê²ƒì´ë‹¤.\n  ì œì•½ì— ëŒ€í•œ ê°œì¸ ê²½í—˜ ë‚˜ì˜ ê²½ìš°ì—ëŠ” ëŒ€ë¶€ë¶„ ì¸ì¦ì„œ ë°œê¸‰ ìë™í™”ë¥¼ í…ŒìŠ¤íŠ¸ í•˜ë‹¤ê°€ ì‹¤íŒ¨ ì œí•œ(fail validation)ì— í•´ë‹¹ë˜ì–´ì„œ í•œì‹œê°„ ê¸°ë‹¤ë ¤ì•¼ ë˜ëŠ” ê²½ìš°ë¥¼ ë¹ˆë²ˆí•˜ê²Œ ê²½í—˜í–ˆë‹¤. ë˜í•œ ëŒ€ê·œëª¨ ì¸ì¦ì„œ ë°œê¸‰ì„ í•´ë³¸ ê²½í—˜ìœ¼ë¡œëŠ” let\u0026rsquo;s encrypt clientë¥¼ ê°œë°œí•˜ë‹¤ê°€(ìë™í™” ê³¼ì •ì—ì„œ) IP ë‹¹ ë°œê¸‰ ì œí•œ(3ì‹œê°„ì— 500ê°œ)ì— í•´ë‹¹ë˜ëŠ” ê²½ìš°ê°€ ë§ì•˜ë‹¤. ë”°ë¼ì„œ let\u0026rsquo;s encryptë¥¼ í†µí•´ì„œ ëŒ€ê·œëª¨ë¡œ ì‚¬ìš©í•˜ê±´/ê°œì¸ìš©ìœ¼ë¡œ ì‚¬ìš©í•˜ê±´ ì œì•½ì‚¬í•­ì„ ì˜ ì•Œê³ ë‚˜ì„œ ì‚¬ìš©í•´ì•¼ í•œë‹¤. ë‹¤í–‰íˆë„ ìš”ì¦˜ì—” ì§ì ‘ let\u0026rsquo;s encryptë¥¼ ì‚¬ìš©í•˜ê¸° ë³´ë‹¤ëŠ” ë‹¤ì–‘í•œ íˆ´ë“¤ì„ í†µí•´ì„œ ì´ëŸ¬í•œ ì œì•½ì— í•´ë‹¹ë˜ì§€ ì•Šê³ ë„ í…ŒìŠ¤íŠ¸ë¥¼ í•  ìˆ˜ ìˆê²Œ ì˜ êµ¬ì„±ë˜ì–´ ìˆëŠ” í¸ì´ë‹¤(stage environmentë¥¼ ì˜ í™œìš©í•˜ì). ê·¸ë¦¬ê³  ì œë°œ ê°™ì€ ë„ë©”ì¸ìœ¼ë¡œ ì¸ì¦ì„œ ì‹ ê·œ ë°œê¸‰ ê³„ì†í•˜ì§€ ë§ì. (ì˜¤ëŠ˜ë„ ì—¬ì „íˆ RTFM)\nì°¸ê³   https://letsencrypt.org/docs/rate-limits/ "
},
{
	"permalink": "https://findstar.pe.kr/tags/letsencrypt/",
	"title": "letsencrypt",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/haproxy-1.8/",
	"title": "haproxy 1.8",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/2018/08/15/seamless-reload-haproxy/",
	"title": "Haproxyë¥¼ ë‹¤ìš´íƒ€ì„ ì—†ì´ ì¬ì‹œì‘(reload)í•˜ê¸°",
	"tags": ["haproxy", "seamless reload", "zero downtime", "haproxy 1.8"],
	"description": "",
	"type": "post",
	"contents": "ì•ì„œ Haproxyë¥¼ reload fail í•´ê²°í•˜ê¸°ì„ ì‚´í´ë³´ì•˜ë‹¤. ì´ ê³¼ì •ì—ì„œ Haproxyê°€ ì‹¤ì œë¡œ reload ë  ë•Œ seamless í•˜ê²Œ ì‘ë™í•  ìˆ˜ ìˆëŠ”ê°€ì— ëŒ€í•œ í™•ì¸ì„ í•´ë³´ì•˜ë‹¤.\nSeamless reload? Haproxy ë¥¼ êµ¬ì„±í•œ ë’¤ì— ì„œë¹„ìŠ¤ë¥¼ ì¬ì‹œì‘(restart) í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ë‹¤ì‹œ ë¡œë“œ(reload) í•˜ëŠ” ìˆœê°„ì´ ìˆë‹¤. ë‹¨ìˆœíˆ ì„¤ì •íŒŒì¼ì˜ ì¼ë¶€ ê°’ì„ ë³€ê²½í•˜ê³  ì´ë¥¼ ë‹¤ì‹œ ì½ì–´ ë“¤ì´ê±°ë‚˜, ì—°ê²°í•œ ì¸ì¦ì„œ íŒŒì¼ì„ ê°±ì‹ /ì¶”ê°€/ì‚­ì œ í•˜ê³  ë‹¤ì‹œ ë¡œë“œí•˜ê¸° ìœ„í•¨ ë¿ë§Œ ì•„ë‹ˆë¼, ìµœê·¼ì˜ ë„ì»¤ ê¸°ë°˜ì˜ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ ì‹œìŠ¤í…œì„ ì‚¬ìš©í•œë‹¤ë©´, ì„œë¹„ìŠ¤ëŠ” ë” ë¹ˆë²ˆí•˜ê²Œ ëŠê¹€ì—†ì´ ë‹¤ì‹œ ë¡œë”©ë˜ì–´ì•¼í•  í•„ìš”ê°€ ìˆëŠ” ê²ƒì´ë‹¤. ì´ë¥¼ seamless reload ë¼ê³  í•˜ê³  (ë‹¤ë¥´ê²ŒëŠ” gracefully restart ë¼ê³ ë„ í•˜ëŠ” ê²ƒ ê°™ë‹¤) Haproxy ì—ì„œ ì ìš©í•œ ë°©ë²•ì´ë‹¤.\në¦¬ì„œì¹˜  ì´ ì£¼ì œëŠ” ë…¼ì˜ê°€ ì œë²• ì´ì „ë¶€í„° ì´ë£¨ì–´ ì ¸ì™”ì—ˆê³  ë©”ì¼ë§ ë¦¬ìŠ¤íŠ¸ ì°¸ì¡°, ì‘ë…„(2017.05)ì— ê³µì‹ì‚¬ì´íŠ¸ì˜ ë¸”ë¡œê·¸ì—ì„œ ì†Œê°œë˜ë©´ì„œ ì •ë¦¬ê°€ ë˜ì—ˆë‹¤.  Haproxy ì˜ ì¬ê¸°ë™ ì ˆì°¨ ê³µì‹ ë¸”ë¡œê·¸ì— ë”°ë¥´ë©´ Haproxy ê°€ ë‹¤ì‹œ ì‹œì‘í•˜ê¸° ìœ„í•´ì„œëŠ” ë‹¤ìŒì˜ ê³¼ì •ì„ ê±°ì¹œë‹¤ê³  í•œë‹¤.\n ìƒˆë¡œìš´ í”„ë¡œì„¸ìŠ¤ê°€ í•„ìš”í•œ ì „ì²´ í¬íŠ¸(port)ë¥¼ ìˆ˜ì‹ í•  ìˆ˜ ìˆëŠ”ì§€(listen) í™•ì¸í•œë‹¤. ë§Œì•½ ê·¸ë ‡ì§€ ì•Šë‹¤ë©´ ì´ì „ í”„ë¡œì„¸ìŠ¤(old process)ì—ê²Œ ì„ì‹œì ìœ¼ë¡œ(temporarily) í¬íŠ¸ ìˆ˜ì‹ ì€ í•´ì œí•˜ë¼ëŠ” ì‹ í˜¸ë¥¼ ë³´ë‚¸ë‹¤. ìƒˆë¡œìš´ í”„ë¡œì„¸ìŠ¤ëŠ” ê³„ì†í•´ì„œ ë‹¤ì‹œ í™•ì¸í•œë‹¤. í¬íŠ¸ ìˆ˜ì‹ ì´ ê°€ëŠ¥í•œì§€ í™•ì¸í•˜ëŠ” ê³¼ì •ì´ ê³„ì†ëœë‹¤ë©´ ì¼ì • íšŸìˆ˜ ì´í›„ì—ëŠ” ìƒˆë¡œìš´ í”„ë¡œì„¸ìŠ¤ê°€ êµ¬ë™í•˜ê¸°ë¥¼ í¬ê¸°í•˜ê³ (give up) ì´ì „ í”„ë¡œì„¸ìŠ¤(old process)ì—ê²Œ ìœ ì…ë˜ëŠ” ì»¤ë„¥ì…˜ì„ ê³„ì† ë‹´ë‹¹í•˜ë¼ê³  ì‹ í˜¸ë¥¼ ë³´ë‚¸ë‹¤. ë§Œì•½ ìƒˆë¡œìš´ í”„ë¡œì„¸ìŠ¤ê°€ í•„ìš”í•œ ì „ì²´ í¬íŠ¸ë¥¼ ìˆ˜ì‹ í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤ë©´ ì´ì „ í”„ë¡œì„¸ìŠ¤(old process)ì—ê²Œ í˜„ì¬ì˜ ì»¤ë„¥ì…˜ì— ëŒ€í•œ ì²˜ë¦¬ê°€ ì¢…ë£Œë˜ê³  ë‚˜ì„œ í”„ë¡œì„¸ìŠ¤ë¥¼ ì¢…ë£Œí•˜ë¼ê³  ì‹ í˜¸ë¥¼ ë³´ë‚¸ë‹¤.  ì—¬ê¸°ì„œ ë¬¸ì œê°€ ë˜ëŠ” ë¶€ë¶„ì€ 2ë²ˆê³¼ 3ë²ˆ ì‚¬ì´ì¸ë°, ì‹¤ì œë¡œ í¬íŠ¸ê°€ í•´ì œëœ í›„ì—(release) ì‹ ê·œ í”„ë¡œì„¸ìŠ¤ê°€ ìˆ˜ì‹ ëŒ€ê¸°(listen)í•˜ê¸° ê¹Œì§€ ì•„ì£¼ ì•½ê°„ì˜ ì‹œê°„ì´ í•„ìš”í•˜ë©° ì´ ê³¼ì •ì—ì„œ ìœ ì…ë˜ëŠ” ì»¤ë„¥ì…˜ì— ëŒ€í•œ ì²˜ë¦¬ê°€ ë¶ˆê°€ëŠ¥í•´ì§„ë‹¤ëŠ” ì ì´ë‹¤.\në¸”ë¡œê·¸ì—ì„œëŠ” ì´ ë¬¸ì œë¥¼ ìˆ˜ì •í•˜ê¸° ìœ„í•´ì„œ ì–´ë– í•œ ë³€ê²½ì‚¬í•­ì´ ìˆì—ˆëŠ”ì§€ ë¦¬ëˆ…ìŠ¤ ì»¤ë„ íŒ¨ì¹˜ ì´ì•¼ê¸° ê¹Œì§€ í•˜ë©´ì„œ ì„¤ëª…í•´ ë†“ì•˜ë‹¤. í•˜ë‚˜í•˜ë‚˜ ì½ì–´ ë³´ëŠ” ê²ƒë„ ì¬ë¯¸ë‚˜ì§€ë§Œ, ê°„ëµí•˜ê²Œ ì •ë¦¬í•˜ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.\nHaproxy ì˜ Seamless reload ë¥¼ ìœ„í•œ ê¸°ìˆ ì  ë‚´ìš©  ì´ì „ í”„ë¡œì„¸ìŠ¤ì—ì„œ file descriptor ë¥¼ ê¸°ë°˜ìœ¼ë¡œí•œ socket ì„ í†µí•´ì„œ í˜„ì¬ ê´€ë¦¬ë˜ê³  ìˆëŠ” ì»¤ë„¥ì…˜ì„ ìƒˆë¡œìš´ í”„ë¡œì„¸ìŠ¤ë¡œ ì „ë‹¬í•œë‹¤. ì´ê³¼ì •ì—ì„œ file socket(unix socket) ì—ì„œ í™•ì¸ë˜ëŠ” ì»¤ë„¥ì…˜ì€ ëŠê¸°ì§€ ì•ŠëŠ”ë‹¤. í”„ë¡œì„¸ìŠ¤ëŠ” master-worker ë¡œ ë™ì‘í•˜ë©´ì„œ ì´ ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤.  ìš”ì•½í•˜ìë©´ unix socketì„ ì‚¬ìš©í•´ì„œ ì»¤ë„¥ì…˜ ìƒíƒœë¥¼ ìœ ì§€í•˜ê³ , ì´ë¥¼ ì´ì „ í”„ë¡œì„¸ìŠ¤ì™€ ìƒˆë¡œìš´ í”„ë¡œì„¸ìŠ¤ê°„ì— ì „ë‹¬í•¨ìœ¼ë¡œì¨, ì»¤ë„¥ì…˜ì˜ ìœ ì‹¤ì„ ë§‰ëŠ”ë‹¤ëŠ” ê²ƒì´ë‹¤.\nì°¸ê³ ë¡œ haproxy ì˜ ë™ì‘ëª¨ë“œëŠ” ë‹¤ìŒê³¼ ê°™ê³  Systemd ë¥¼ ì‚¬ìš©í•´ì„œ reload ë¥¼ í•˜ë ¤ë©´ -Ws ëª¨ë“œë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤. (ë˜í•œ ë¹Œë“œí•  ë•Œ USE_SYSTEMD ê°€ í™œì„±í™” ë˜ì–´ ìˆì–´ì•¼ í•œë‹¤)\n -D : start as a daemon. The process detaches from the current terminal after forking, and errors are not reported anymore in the terminal. It is equivalent to the \u0026quot;daemon\u0026quot; keyword in the \u0026quot;global\u0026quot; section of the configuration. It is recommended to always force it in any init script so that a faulty configuration doesn't prevent the system from booting. -W : master-worker mode. It is equivalent to the \u0026quot;master-worker\u0026quot; keyword in the \u0026quot;global\u0026quot; section of the configuration. This mode will launch a \u0026quot;master\u0026quot; which will monitor the \u0026quot;workers\u0026quot;. Using this mode, you can reload HAProxy directly by sending a SIGUSR2 signal to the master. The master-worker mode is compatible either with the foreground or daemon mode. It is recommended to use this mode with multiprocess and systemd. -Ws : master-worker mode with support of `notify` type of systemd service. This option is only available when HAProxy was built with `USE_SYSTEMD` build option enabled. ì„¤ì • íŒŒì¼ì˜ ë³€ê²½ ì´ ê¸°ëŠ¥ì€ Haproxy 1.8 ë²„ì „ì—ì„œ ì •ì‹ìœ¼ë¡œ ì ìš©ë˜ì—ˆê³ , ì´ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” expose-fd listeners ì„¤ì •ì„ ì¶”ê°€í•´ì£¼ì–´ì•¼ í•œë‹¤. ì´ ì˜µì…˜ì˜ ì˜ë¯¸í•˜ëŠ” ê²ƒì€ file descriptor ë¥¼ í†µí•´ì„œ connection listener í•˜ëŠ” ê²ƒì„ ë…¸ì¶œ(expose)í•˜ê² ë‹¤ë¼ëŠ” ëœ»ì´ë‹¤.\n# seamless reload ë¥¼ ìœ„í•œ status socket ìš´ì˜ stats socket /var/lock/subsys/haproxy mode 777 level admin expose-fd listeners ì´ì œ sudo systemd reload haproxy ë¥¼ ì‹¤í–‰í•˜ë©´ ì •ìƒì ìœ¼ë¡œ reload ê°€ ìˆ˜í–‰ëœë‹¤.\ní…ŒìŠ¤íŠ¸ ê·¸ë ‡ë‹¤ë©´ ì´ë ‡ê²Œ seamless reload ë¥¼ êµ¬ì„±í–ˆìœ¼ë‹ˆ, ì •ë§ ì»¤ë„¥ì…˜ ì†ì‹¤ì´ ì—†ëŠ”ê°€ ê²°ê³¼ë¥¼ í™•ì¸í•´ ë³´ì•„ì•¼ í•œë‹¤. ab(apache bench) íˆ´ì„ ì‚¬ìš©í•´ì„œ í™•ì¸í•´ë³´ì•˜ë‹¤.\n  ë¨¼ì € ì •ìƒì ìœ¼ë¡œ ì„œë¹„ìŠ¤ê°€ ë™ì‘í•˜ê³  ìˆëŠ” ìƒíƒœì—ì„œ ì•„ë¬´ëŸ° ì•¡ì…˜ì„ ì·¨í•˜ì§€ ì•Šì•˜ì„ ë•Œ\n$ ab -r -c 100 -n 100000 -l http://haproxy-lb.host/ ab: illegal option -- l This is ApacheBench, Version 2.3 \u0026lt;$Revision: 1430300 $\u0026gt; Copyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/ Licensed to The Apache Software Foundation, http://www.apache.org/ Benchmarking haproxy-lb.host (be patient) Completed 10000 requests Completed 20000 requests Completed 30000 requests Completed 40000 requests Completed 50000 requests Completed 60000 requests Completed 70000 requests Completed 80000 requests Completed 90000 requests Completed 100000 requests Finished 100000 requests Server Software: Apache Server Hostname: haproxy-lb.host Server Port: 80 Document Path: / Document Length: 32987 bytes Concurrency Level: 100 Time taken for tests: 35.472 seconds Complete requests: 100000 Failed requests: 0 Write errors: 0 Total transferred: 3340500000 bytes HTML transferred: 3298700000 bytes Requests per second: 2819.15 [#/sec] (mean) Time per request: 35.472 [ms] (mean) Time per request: 0.355 [ms] (mean, across all concurrent requests) Transfer rate: 91966.57 [Kbytes/sec] received Connection Times (ms) min mean[+/-sd] median max Connect: 0 1 0.9 1 6 Processing: 22 34 11.2 34 1052 Waiting: 19 33 11.1 32 1051 Total: 22 35 11.2 35 1053 Percentage of the requests served within a certain time (ms) 50% 35 66% 37 75% 39 80% 39 90% 42 95% 44 98% 47 99% 50 100% 1053 (longest request)   systemd restart haproxy.service ì‹¤í–‰í•œ ê²½ìš°\n$ ab -r -c 100 -n 100000 -l http://haproxy-lb.host/ ab: illegal option -- l This is ApacheBench, Version 2.3 \u0026lt;$Revision: 1430300 $\u0026gt; Copyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/ Licensed to The Apache Software Foundation, http://www.apache.org/ Benchmarking haproxy-lb.host (be patient) Completed 10000 requests Completed 20000 requests Completed 30000 requests Completed 40000 requests Completed 50000 requests Completed 60000 requests Completed 70000 requests Completed 80000 requests Completed 90000 requests Completed 100000 requests Finished 100000 requests Server Software: Apache Server Hostname: haproxy-lb.host Server Port: 80 Document Path: / Document Length: 32987 bytes Concurrency Level: 100 Time taken for tests: 36.536 seconds Complete requests: 100000 Failed requests: 104 (Connect: 0, Receive: 2, Length: 100, Exceptions: 2) Write errors: 0 Total transferred: 3337159500 bytes HTML transferred: 3295401300 bytes Requests per second: 2737.02 [#/sec] (mean) Time per request: 36.536 [ms] (mean) Time per request: 0.365 [ms] (mean, across all concurrent requests) Transfer rate: 89198.02 [Kbytes/sec] received Connection Times (ms) min mean[+/-sd] median max Connect: 0 2 31.7 1 1004 Processing: 3 35 6.9 34 214 Waiting: 0 33 6.8 33 213 Total: 3 36 33.2 35 1078 Percentage of the requests served within a certain time (ms) 50% 35 66% 37 75% 38 80% 39 90% 41 95% 44 98% 47 99% 50 100% 1078 (longest request)   systemctl reload haproxy : socket ì„¤ì •ì„ ì¶”ê°€í•˜ê¸° ì „ reload\n$ ab -r -c 100 -n 100000 -l http://haproxy-lb.host/ ab: illegal option -- l This is ApacheBench, Version 2.3 \u0026lt;$Revision: 1430300 $\u0026gt; Copyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/ Licensed to The Apache Software Foundation, http://www.apache.org/ Benchmarking haproxy-lb.host (be patient) Completed 10000 requests Completed 20000 requests Completed 30000 requests Completed 40000 requests Completed 50000 requests Completed 60000 requests Completed 70000 requests Completed 80000 requests Completed 90000 requests Completed 100000 requests Finished 100000 requests Server Software: Apache Server Hostname: haproxy-lb.host Server Port: 80 Document Path: / Document Length: 32987 bytes Concurrency Level: 100 Time taken for tests: 35.514 seconds Complete requests: 100000 Failed requests: 3 (Connect: 0, Receive: 1, Length: 1, Exceptions: 1) Write errors: 0 Total transferred: 3340466595 bytes HTML transferred: 3298667013 bytes Requests per second: 2815.79 [#/sec] (mean) Time per request: 35.514 [ms] (mean) Time per request: 0.355 [ms] (mean, across all concurrent requests) Transfer rate: 91855.95 [Kbytes/sec] received Connection Times (ms) min mean[+/-sd] median max Connect: 0 1 0.9 1 8 Processing: 0 35 7.1 34 239 Waiting: 0 33 6.9 32 238 Total: 0 35 7.0 35 239 Percentage of the requests served within a certain time (ms) 50% 35 66% 37 75% 38 80% 39 90% 42 95% 44 98% 47 99% 50 100% 239 (longest request)   systemctl reload haproxy : socket expose-fd listeners ì„¤ì •ì„ ì¶”ê°€í•œ ë’¤ì˜ reload\n$ ab -r -c 100 -n 100000 -l http://haproxy-lb.host/ ab: illegal option -- l This is ApacheBench, Version 2.3 \u0026lt;$Revision: 1430300 $\u0026gt; Copyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/ Licensed to The Apache Software Foundation, http://www.apache.org/ Benchmarking haproxy-lb.host (be patient) Completed 10000 requests Completed 20000 requests Completed 30000 requests Completed 40000 requests Completed 50000 requests Completed 60000 requests Completed 70000 requests Completed 80000 requests Completed 90000 requests Completed 100000 requests Finished 100000 requests Server Software: Apache Server Hostname: haproxy-lb.host Server Port: 80 Document Path: / Document Length: 32987 bytes Concurrency Level: 100 Time taken for tests: 36.077 seconds Complete requests: 100000 Failed requests: 0 Write errors: 0 Total transferred: 3340500000 bytes HTML transferred: 3298700000 bytes Requests per second: 2771.86 [#/sec] (mean) Time per request: 36.077 [ms] (mean) Time per request: 0.361 [ms] (mean, across all concurrent requests) Transfer rate: 90423.65 [Kbytes/sec] received Connection Times (ms) min mean[+/-sd] median max Connect: 0 1 0.9 1 8 Processing: 22 35 6.9 34 223 Waiting: 20 34 6.8 33 222 Total: 22 36 6.9 35 224 Percentage of the requests served within a certain time (ms) 50% 35 66% 37 75% 39 80% 40 90% 43 95% 46 98% 49 99% 52 100% 224 (longest request)   ìš”ì•½ (ë™ì‹œ 100ê°œ 10ë§Œ ì»¤ë„¥ì…˜)\n   Test case Time taken for tests Failed connection     nomal 35.472s 0   restart 36.536s 104   reload without socket 35.514s 3   reload with socket 36.077s 0      ì´ìŠˆ í•´ê²° ì†Œê°. Haproxy ëŠ” ì´ˆê¸° ì„¤ê³„ì—ì„œ ì¦ì€ ì¬ì‹œì‘ì„ ê³ ë ¤í•˜ì§€ ì•Šì•˜ì—ˆë‹¤. ê·¸ëŸ¬ë‚˜ Haproxyë¥¼ ì‚¬ìš©í•˜ëŠ” í™˜ê²½ì´ ë³€í™”í•˜ë©´ì„œ seamless reload ì— ëŒ€í•œ ì‚¬ìš©ìì˜ í•„ìš”ê°€ ë” ë§ì•„ì¡Œê³ , ê²°êµ­ 1.8ì—ì„œ ì™„ì „í•œ í•´ê²°ì±…ì„ ì œì‹œí•˜ê³  ìˆë‹¤. ë‚˜ì˜ ê²½ìš°ì—ëŠ” ì²˜ìŒì— ì ‘í•œ ë²„ì „ì´ 1.8 ë²„ì „ëŒ€ ì˜€ì§€ë§Œ, ê³µì‹ ë§¤ë‰´ì–¼ì„ ì°¾ê¸° ë³´ë‹¤ ë ˆí¼ëŸ°ìŠ¤ë¥¼ êµ¬í•´ì„œ ì„¤ì¹˜í•˜ë‹¤ê°€, ì‹œí–‰ì°©ì˜¤ë¥¼ ê²ªì€ ì¼€ì´ìŠ¤ì´ë‹¤.\në§ˆì§€ë§‰ì— í…ŒìŠ¤íŠ¸ê¹Œì§€ ì™„ë£Œí•˜ë©´ì„œ ì´ìƒì—†ì´ ì¬ì‹œì‘ë˜ëŠ” ê²ƒì„ ë³´ë‹ˆ ë§ˆìŒì´ ì°¸ ë¿Œë“¯í–ˆë‹¤. ë˜í•œ ê°œë°œíŒ€ì—ì„œ ì´ í•˜ë‚˜ì˜ ì´ìŠˆë¥¼ ì™„ì „íˆ í•´ê²°í•˜ê¸°ê¹Œì§€, ë¬´ë ¤ 10ì—¬ë…„ë™ì•ˆ ë‚´ë¶€ ì•„í‚¤í…ì²˜ë¥¼ ê°œì„ í•´ì˜¤ë©´ì„œ ë…¸ë ¥í–ˆë‹¤ëŠ” ì ì´ ê°€ì¥ ì¸ìƒê¹Šë‹¤. ë‚˜ë„ ì–´ë–¤ ë¬¸ì œë¥¼ ëê¹Œì§€ í•´ê²°í•˜ê¸° ìœ„í•´ì„œ ë…¸ë ¥í•˜ëŠ” ê°œë°œìê°€ ë˜ì–´ì•¼ê² ë‹¤ëŠ” ë§ˆìŒê°€ì§ì„ ë‹¤ì‹œê¸ˆ ìƒˆê²¨ë³¸ë‹¤.\nì°¸ê³   https://www.haproxy.com/blog/truly-seamless-reloads-with-haproxy-no-more-hacks/ http://git.haproxy.org/?p=haproxy-1.8.git;a=blob_plain;f=contrib/systemd/haproxy.service.in "
},
{
	"permalink": "https://findstar.pe.kr/tags/seamless-reload/",
	"title": "seamless reload",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/zero-downtime/",
	"title": "zero downtime",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/haproxy-reload-fail/",
	"title": "haproxy reload fail",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/2018/08/14/fix-haproxy-reload-fail/",
	"title": "Haproxyë¥¼ reload fail í•´ê²°í•˜ê¸°",
	"tags": ["haproxy", "haproxy reload fail", "systemd reload", "haproxy 1.8"],
	"description": "",
	"type": "post",
	"contents": "Haproxyë¥¼ ì²˜ìŒ ì„¤ì¹˜í–ˆì„ ë•Œ ë¡œê·¸ë¥¼ ìœ„í•´ì„œ rsyslog ì™€ logrotate ë¥¼ í•¨ê»˜ ì„¤ì •í–ˆì—ˆë‹¤. ê·¸ëŸ°ë° ìƒˆë²½ë§Œ ë˜ë©´ (ì •í™•íˆëŠ” logrotateê°€ ì‹¤í–‰ë˜ê³  ë‚˜ì„œ) Haproxy í”„ë¡œì„¸ìŠ¤ê°€ ì£½ì€ ë‹¤ìŒì— ì‚´ì•„ë‚˜ì§€ë¥¼ ì•Šì•˜ë‹¤. ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œ ìˆ˜í–‰í–ˆë˜ ëª‡ì¼ê°„ì˜ ì‚½ì§ˆ(!)ì•„ë‹Œ ì‚½ì§ˆê¸°ë¥¼ ì •ë¦¬í•´ë³´ì•˜ë‹¤.\në¬¸ì œì˜ ë°œë‹¨. ì²˜ìŒì—ëŠ” ë¶„ëª…íˆ ì„œë¹„ìŠ¤ê°€ ë™ì‘í•˜ê³  ìˆì—ˆë˜ê²ƒ ê°™ì€ë° ë‹¤ìŒë‚  ì‘ì—…í•´ ë³´ë ¤ê³  í•˜ë©´ ì„œë¹„ìŠ¤ê°€ ì£½ì–´ ìˆì—ˆë‹¤. ë‚´ê°€ ì–´ì œ ë§ˆì§€ë§‰ì— í”„ë¡œì„¸ìŠ¤ë¥¼ ë‚´ë ¤ ë†“ì•˜ì—ˆë‚˜? í•˜ê³ , conf íŒŒì¼ êµ¬ì„±ì— ì‹ ê²½ì“°ëŠë¼ ì¸ì§€ë¥¼ ëª»í–ˆë˜ ê²ƒì´ì—ˆë‹¤. ì›í•˜ëŠ” haproxy ì„¤ì •ì„ ë§ˆë¬´ë¦¬ í•˜ê³ , ì‹¤ì œ production ì— ì ìš©í•˜ê¸° ì „ì—, log íŒŒì¼ ë° logrotate ì„¤ì •ì„ ì‚´í´ë³´ê³  ìˆì—ˆëŠ”ë°, ë‹¤ìŒë‚ ë§Œ ë˜ë©´ ì–´ê¹€ì—†ì´, haproxy í”„ë¡œì„¸ìŠ¤ê°€ ì£½ì€ ìƒíƒœë¡œ ë‹¤ì‹œ ì‚´ì•„ë‚˜ì§€ë¥¼ ì•Šì•˜ë‹¤.\nì›ì¸ ì°¾ê¸° ë¬´ì—‡ì´ ë¬¸ì œì¼ê¹Œ ê³ ë¯¼í•˜ë‹¤ê°€ ì¼ë‹¨ journalctl ì„ ë’¤ì ¸ë³´ê¸°ë¡œ í–ˆë‹¤.\n# journalctl -xe ê·¸ë¬ë”ë‹ˆ ì•„ë˜ì™€ ê°™ì€ ë©”ì„¸ì§€ë¥¼ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤.\n 7ì›” 24 03:41:01 haproxy-lb CROND[18789]: (root) CMD (/usr/lib64/sa/sa1 1 1) 7ì›” 24 03:41:03 haproxy-lb sshd[19005]: Connection closed by 10.41.20.81 port 45638 [preauth] 7ì›” 24 03:41:55 haproxy-lb sshd[19231]: Connection closed by 10.41.20.81 port 48616 [preauth] 7ì›” 24 03:42:01 haproxy-lb CROND[19235]: (root) CMD (/usr/lib64/sa/sa1 1 1) 7ì›” 24 03:42:01 haproxy-lb CROND[19236]: (root) CMD (/opt/SE/update_k5login) 7ì›” 24 03:42:01 haproxy-lb anacron[1389]: Job `cron.daily' started 7ì›” 24 03:42:01 haproxy-lb run-parts(/etc/cron.daily)[19244]: starting logrotate 7ì›” 24 03:42:01 haproxy-lb haproxy[19255]: Shutting down haproxy: [FAILED] 7ì›” 24 03:42:01 haproxy-lb logrotate[19272]: ALERT exited abnormally with [1] 7ì›” 24 03:42:01 haproxy-lb run-parts(/etc/cron.daily)[19274]: finished logrotate 7ì›” 24 03:42:01 haproxy-lb run-parts(/etc/cron.daily)[19276]: starting man-db.cron 7ì›” 24 03:42:01 haproxy-lb run-parts(/etc/cron.daily)[19285]: finished man-db.cron 7ì›” 24 03:42:01 haproxy-lb run-parts(/etc/cron.daily)[19287]: starting mlocate 7ì›” 24 03:42:02 haproxy-lb run-parts(/etc/cron.daily)[19296]: finished mlocate 7ì›” 24 03:42:02 haproxy-lb anacron[1389]: Job `cron.daily' terminated (produced output) ìƒˆë²½ì— cron.daily ì‘ì—…ì— ê±¸ë ¤ ìˆë˜ logrotate ì‘ì—…ì´ ë¹„ì •ìƒì ìœ¼ë¡œ ì¢…ë£Œëœê²ƒì„ í™•ì¸í–ˆë‹¤. ALERT exited abnormally ë¼ëŠ” ë¬¸êµ¬ê°€ ë°”ë¡œ ê·¸ê²ƒì´ë‹¤. sudo logrotate -f /etc/logrotate.d/haproxy ì™€ ê°™ì´ í…ŒìŠ¤íŠ¸í•´ë³¸ ê²°ê³¼ ì¦ìƒì´ ì¬í˜„ë˜ì—ˆë‹¤. êµ¬ë™ì¤‘ì¸ haproxy ê°€ ì¬ì‹œì‘ ë˜ì§€ ì•Šê³  ì£½ì–´ë²„ë ¸ë‹¤.\nlogrotate ì˜ì‹¬í•˜ê¸° ë¬´ì—‡ì´ ë¬¸ì œì¼ê¹Œ? logrotate ì— ì„¤ì •ë˜ì–´ ìˆëŠ” haproxy /etc/logrotate.d/haproxyì„ ì‚´í´ë³´ì•˜ë‹¤.\n/var/log/haproxy/*log { create 0644 root root daily rotate 90 missingok notifempty compress sharedscripts postrotate /bin/kill -USR1 `cat /run/haproxy.pid 2\u0026gt;/dev/null` 2\u0026gt;/dev/null || true chown -R root:root /var/log/haproxy/*.log 2\u0026gt;/dev/null endscript } ì²˜ìŒ êµ¬ì„±ë˜ì–´ ìˆë˜ logrotate ì„¤ì •ì´ë‹¤. kill -USR1 ìœ¼ë¡œ ì‹¤í–‰í•˜ê³  ìˆì—ˆëŠ”ë° ì—¬ê¸°ì„œ ë‹¤ì‹œ ì‚´ì•„ë‚˜ì§€ ì•Šì€ê²ƒì´ ë¬¸ì œì˜€ë‹¤. kill ëª…ë ¹ì–´ê°€ ì˜ëª»ë˜ì—ˆì„ë¦¬ëŠ” ì—†ê³ , í˜¹ì‹œ ëª°ë¼ postrotate ì— ì—°ê²°ëœ taskë¥¼ ë‹¤ìŒì²˜ëŸ¼ ë°”ê¿”ë´¤ì§€ë§Œ ì—¬ì „íˆ ë¬¸ì œì˜€ë‹¤.\n/bin/systemctl reload haproxy.service \u0026gt; /dev/null 2\u0026gt;/dev/null || true ì˜ë¬¸ì‚¬í•­ ì´ ì‹œì ì—ì„œ ë‘ê°€ì§€ ì˜ë¬¸ì ì„ ë– ì˜¬ë ¸ëŠ”ë°\n haproxy ëŠ” rsyslog ë¡œ (UDP) ë¡œê·¸ë¥¼ ì „ë‹¬í•˜ê³  ì´ë¥¼ ì €ì¥í•˜ëŠ” ë…€ì„ì€ rsyslog ì´ë¯€ë¡œ,  logrotate ì‘ì—…ì€ haproxy ê°€ ì•„ë‹ˆë¼, rsyslog ê°€ ì¬ì‹œì‘ë˜ì–´ì•¼ í•˜ëŠ”ê²Œ ì•„ë‹Œê°€? ë¼ëŠ” ê²ƒ.\nê·¸ê±´ ê·¸ë ‡ê³  ì™œ haproxy ëŠ” ì¬ì‹œì‘ì´ ë˜ì§€ ì•ŠëŠ”ê°€?  ì¼ë‹¨ haproxy ê°€ reload ë˜ì§€ ì•ŠëŠ” ì›ì¸ë¶€í„° ì°¾ì•„ë´¤ë‹¤\nHaproxy ì„¤ì • ì‚´í´ë³´ê¸° ì‚¬ìš©í•˜ëŠ” haproxy ë²„ì „ì€ 1.8.12 ë²„ì „ì´ë‹¤.\n# haproxy -vv HA-Proxy version 1.8.12-8a200c7 2018/06/27 Copyright 2000-2018 Willy Tarreau \u0026lt;willy@haproxy.org\u0026gt; Build options : TARGET = linux2628 CPU = generic CC = gcc CFLAGS = -O2 -g -fno-strict-aliasing -Wdeclaration-after-statement -fwrapv -fno-strict-overflow -Wno-unused-label OPTIONS = USE_ZLIB=1 USE_OPENSSL=1 USE_PCRE=1 Default settings : maxconn = 2000, bufsize = 16384, maxrewrite = 1024, maxpollevents = 200 Built with OpenSSL version : OpenSSL 1.0.2k-fips 26 Jan 2017 Running on OpenSSL version : OpenSSL 1.0.2k-fips 26 Jan 2017 OpenSSL library supports TLS extensions : yes OpenSSL library supports SNI : yes OpenSSL library supports : SSLv3 TLSv1.0 TLSv1.1 TLSv1.2 Built with transparent proxy support using: IP_TRANSPARENT IPV6_TRANSPARENT IP_FREEBIND Encrypted password support via crypt(3): yes Built with multi-threading support. Built with PCRE version : 8.32 2012-11-30 Running on PCRE version : 8.32 2012-11-30 PCRE library supports JIT : no (USE_PCRE_JIT not set) Built with zlib version : 1.2.7 Running on zlib version : 1.2.7 Compression algorithms supported : identity(\u0026quot;identity\u0026quot;), deflate(\u0026quot;deflate\u0026quot;), raw-deflate(\u0026quot;deflate\u0026quot;), gzip(\u0026quot;gzip\u0026quot;) Built with network namespace support. Available polling systems : epoll : pref=300, test result OK poll : pref=200, test result OK select : pref=150, test result OK Total: 3 (3 usable), will use epoll. Available filters : [SPOE] spoe [COMP] compression [TRACE] trace ë‹¤ì‹œí•œë²ˆ sudo systemctl reload haproxy ë¥¼ ì…ë ¥í•´ì„œ ì¦ìƒì„ ì¬í˜„í•˜ê³ \nsudo journalctl --unit=haproxy ë¡œ í™•ì¸í•´ë³´ë©´ ì•„ë˜ì™€ ê°™ì´ ì‹¤íŒ¨í•œë‹¤.\n7ì›” 26 15:20:13 haproxy-lb systemd[1]: haproxy.service: main process exited, code=killed, status=9/KILL 7ì›” 26 15:20:13 haproxy-lb haproxy[35552]: Shutting down haproxy: [FAILED] êµ¬ê¸€ë§ì„ ì‹œë„í•´ë³´ì•˜ë‹¤. \u0026ldquo;haproxy reload not working\u0026rdquo; ì´ë¼ëŠ” í‚¤ì›Œë“œì—ì„œ ë­”ê°€ê°€ ì—¬ëŸ¬ ê²°ê³¼ê°€ ë‚˜íƒ€ë‚¬ë‹¤. ê·¸ëŸ¬ë˜ì¤‘ ë©”ì¼ë§ ë¦¬ìŠ¤íŠ¸ì—ì„œ ê´€ë ¨ ì´ìŠˆë¥¼ ì°¾ì„ ìˆ˜ ìˆë‹¤. https://www.mail-archive.com/haproxy@formilux.org/\nì œë²• ì˜¤ë˜ëœ ì´ìŠˆì¸ë“¯ í•œë°, ì´ëŸ¬í•œ ê²½ìš°ë¥¼ \u0026ldquo;seamless reloads\u0026rdquo; ë¼ê³  ì§€ì¹­í•œë‹¤ëŠ” ê²ƒì„ ì•Œì•„ë‚´ê³  ê³„ì† ë¦¬ì„œì¹­í•´ë´¤ë‹¤. https://discourse.haproxy.org/t/seamless-reloads-dont-work-with-systemd/1954/16 ì—ì„œì˜ ì‚¬ë¡€ê°€ ì°¸ê³ ê°€ ë§ì´ ë˜ì—ˆë‹¤. ê·¸ë¦¬ê³  ê³µì‹ì‚¬ì´íŠ¸ì˜ ë¸”ë¡œê·¸ë¥¼ í™•ì¸í•˜ê³  ë‚˜ì„œ ë¬¸ì œì ì„ íŒŒì•…í•  ìˆ˜ ìˆì—ˆë‹¤.\në¬¸ì œì   haproxy ë¥¼ seamless reload í•˜ë ¤ë©´ haproxy -Ws ëª¨ë“œê°€ í™œì„±í™”ëœ master-worker ëª¨ë“œë¡œ ë™ì‘í•˜ë„ë¡ í•´ì•¼í•œë‹¤.   ì´ë¥¼ ìœ„í•´ì„œ ë¹Œë“œ í•  ë•Œ \u0026lsquo;systemd\u0026rsquo; ë¥¼ ì§€ì›í•˜ë„ë¡ ë¹Œë“œë˜ì–´ì•¼ í•œë‹¤. ë¹Œë“œ ì˜µì…˜ì€ haproxy -vv ì—ì„œ USE_SYSTEMD ê°€ í™œì„±í™” ë˜ì–´ ìˆëŠ” ê²ƒì„ í™•ì¸í•˜ë©´ ëœë‹¤.  haproxy ê³µì‹ git repo ì—ì„œ systemd script ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  êµ¬ì‹ì˜ init ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í–ˆë‹¤ëŠ” ì  (ì–´ëŠ ì„¤ì¹˜ ë¸”ë¡œê·¸ì—ì„œ ë³µì‚¬í•´ì˜´)  í•´ê²°ë°©ë²•  Haproxy ì—ì„œ systemd ë¥¼ ì‚¬ìš©í•˜ì—¬ reload ë¥¼ í•˜ê¸° ìœ„í•´ì„œëŠ” make ë¥¼ ì§„í–‰í•  ë•Œ USE_SYSTEMD ì˜µì…˜ì„ í™œì„±í™” í•´ì„œ ë¹Œë“œí•˜ì   ë‚˜ì˜ ê²½ìš° make TARGET=linux2628 USE_OPENSSL=1 USE_PCRE=1 USE_ZLIB=1 USE_SYSTEMD=1 ì‚¬ìš©í•¨.  ê³µì‹ git repo ì˜ systemd script ë¥¼ ì‚¬ìš©í•˜ì—¬ ì„œë¹„ìŠ¤ ë“±ë¡   @SBINDIR@ ì€ \u0026ldquo;/usr/local/sbin/\u0026rdquo; ìœ¼ë¡œ ëŒ€ì²´í•´ì£¼ì—ˆë‹¤.  [Unit] Description=HAProxy Load Balancer After=network.target [Service] Environment=\u0026quot;CONFIG=/etc/haproxy/haproxy.cfg\u0026quot; \u0026quot;PIDFILE=/run/haproxy.pid\u0026quot; ExecStartPre=@SBINDIR@/haproxy -f $CONFIG -c -q ExecStart=@SBINDIR@/haproxy -Ws -f $CONFIG -p $PIDFILE ExecReload=@SBINDIR@/haproxy -f $CONFIG -c -q ExecReload=/bin/kill -USR2 $MAINPID KillMode=mixed Restart=always SuccessExitStatus=143 Type=notify # The following lines leverage SystemD's sandboxing options to provide # defense in depth protection at the expense of restricting some flexibility # in your setup (e.g. placement of your configuration files) or possibly # reduced performance. See systemd.service(5) and systemd.exec(5) for further # information. # NoNewPrivileges=true # ProtectHome=true # If you want to use 'ProtectSystem=strict' you should whitelist the PIDFILE, # any state files and any other files written using 'ReadWritePaths' or # 'RuntimeDirectory'. # ProtectSystem=true # ProtectKernelTunables=true # ProtectKernelModules=true # ProtectControlGroups=true # If your SystemD version supports them, you can add: @reboot, @swap, @sync # SystemCallFilter=~@cpu-emulation @keyring @module @obsolete @raw-io [Install] WantedBy=multi-user.target ì¶”ê°€ ì‘ì—…   logrotate ì—ì„œ haproxy ë¥¼ ì¬ì‹œì‘í•˜ì§€ ì•Šê³ , rsyslog ë¥¼ ì¬ì‹œì‘í•´ì£¼ë„ë¡ ìˆ˜ì •í•´ì£¼ì—ˆë‹¤.\n/var/log/haproxy/*log { daily rotate 90 create 0644 nobody nobody missingok notifempty compress sharedscripts postrotate /bin/systemctl restart rsyslog.service \u0026gt; /dev/null 2\u0026gt;/dev/null || true endscript }   ì •ë¦¬  Haproxy ëŠ” load balancer ë¡œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œ ê°€ê¸‰ì ì´ë©´ ì¬ì‹œì‘í•˜ëŠ” ê²ƒì„ ì§€ì–‘í•˜ëŠ” í˜•íƒœì´ë‹¤.   ì´ ì‹œì ì—ì„œ logrotate ë¥¼ ìœ„í•´ì„œ haproxy ë¥¼ ì¬ì‹œì‘í•˜ëŠ” ê²ƒì´ ì–¼ë§ˆë‚˜ ì—‰ëš±í•œ í–‰ë™ì´ì—ˆëŠ”ì§€ ì•Œê²Œë˜ì—ˆë‹¤. haproxy ëŠ” log ë¥¼ rsyslog ë¡œ UDP í˜•íƒœë¡œ ì „ì†¡í•˜ê¸° ë•Œë¬¸ì—, ë¡œê·¸ë¥¼ ë‚¨ê¸°ëŠ” ê²ƒì€ rsyslog ì´ê³ , ì‹¤ì œë¡œ logroate ì—ì„œëŠ” rsyslog ë¥¼ ì¬ì‹œì‘í•´ì£¼ëŠ”ê²Œ ë§ë‹¤.  haproxy ëŠ” ë‹¤ìŒì˜ 3ê°€ì§€ ëª¨ë“œë¡œ êµ¬ë™ì´ ê°€ëŠ¥í•˜ë‹¤. ì´ì¤‘ì—ì„œ ë‚´ê°€ êµ¬ë™í•˜ëŠ” ëª¨ë“œëŠ” -D ì˜µì…˜ìœ¼ë¡œ ë°ëª¬ í˜•íƒœë¡œ êµ¬ë™í•˜ê³  ìˆì—ˆëŠ”ë° systemd ë¥¼ ì‚¬ìš©í•˜ì—¬ reload í•˜ê¸° ìœ„í•´ì„œëŠ” -W ëª¨ë“œ ë˜ëŠ” -Ws ëª¨ë“œê°€ í•„ìš”í•˜ë‹¤. ë‚˜ì˜ ê²½ìš°ì—ëŠ” -Ws ëª¨ë“œë¥¼ ì‚¬ìš©í•˜ë„ë¡ ë°”ê¾¸ê¸°ë¡œ í–ˆë‹¤. ê·¸ë¦¬ê³  ì´ë¥¼ ìœ„í•´ì„œ USE_SYSTEMD ì˜µì…˜ì„ í™œì„±í™” í•  í•„ìš”ê°€ ìˆë‹¤.  ë‚¨ì€ ì´ì•¼ê¸° ì‘ì—… ì´í›„ systemd reload haproxy ëª…ë ¹ì–´ë¥¼ í†µí•´ì„œ haproxy ê°€ ì •ìƒì ìœ¼ë¡œ ë‹¤ì‹œ ë¦¬ë¡œë“œ ëœë‹¤. ì´ë¡œì¨, configurationì„ ë°”ê¾¸ì—ˆê±°ë‚˜, ì¸ì¦ì„œë¥¼ êµì²´í•˜ëŠ” ì‘ì—…ë“±ì„ ìˆ˜í–‰í•  ë•Œ restart í•˜ì§€ ì•Šê³ ì„œë„ graceful í•˜ê²Œ ì¬ì‹œì‘ í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤. ê·¸ëŸ°ë° ì—¬ê¸°ì„œ ì˜ë¬¸ì´ í•˜ë‚˜ ì¶”ê°€ë˜ì—ˆëŠ”ë° reload ë ë•Œ seamless, ê·¸ëŸ¬ë‹ˆê¹Œ ì»¤ë„¥ì…˜ì˜ ìœ ì‹¤ì—†ì´ ì •ìƒì ìœ¼ë¡œ haproxy ê°€ ë‹¤ì‹œ ë¡œë”©ë˜ëŠ”ì§€ ë¬¸ì œê°€ ì—†ëŠ”ì§€, í™•ì¸í•´ë³´ê³  ì‹¶ì—ˆë‹¤. ê·¸ë˜ì„œ ì‹¤ì œë¡œ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•˜ë©´ì„œ ë³´ì™„ì ì—…ì„ í•˜ê²Œ ë˜ì—ˆëŠ”ë°, ì´ê±´ ë³„ë„ í¬ìŠ¤íŠ¸ë¡œ ì •ë¦¬í•´ë³´ì•˜ë‹¤.\nì°¸ê³   ë©”ì¼ë§ ë¦¬ìŠ¤íŠ¸ì—ì„œ ê´€ë ¨ ì´ìŠˆë¥¼ ì°¾ì„ ìˆ˜ ìˆë‹¤. ì œë²• ì˜¤ë˜ëœ ì´ìŠˆì¸ë“¯. https://www.mail-archive.com/haproxy@formilux.org/ ì´ ì´ìŠˆë¥¼ í•´ê²°í•˜ë©´ì„œ ê°€ì¥ ë§ì€ ì°¸ê³ ê°€ ë˜ì—ˆë˜ discussion https://discourse.haproxy.org/t/seamless-reloads-dont-work-with-systemd/1954/16 haproxy ê³µì‹ ì‚¬ì´íŠ¸ì—ì„œ í•´ê²°ë°©ë²•ì„ ì•ˆë‚´í•˜ê³  ìˆë‹¤. https://www.haproxy.com/blog/truly-seamless-reloads-with-haproxy-no-more-hacks/ "
},
{
	"permalink": "https://findstar.pe.kr/tags/systemd-reload/",
	"title": "systemd reload",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/dos-attack/",
	"title": "dos attack",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/2018/08/13/block-dos-attacks-using-haproxy-rate-limit/",
	"title": "Haproxyë¥¼ í™œìš©í•´ì„œ dos ê³µê²© ë°©ì–´í•˜ê¸°",
	"tags": ["haproxy", "dos attack", "rate limit", "haproxy 1.8"],
	"description": "",
	"type": "post",
	"contents": "ì•ì„œ Haproxy ë¡œ ë¡œë“œë°¸ëŸ°ì„œë¥¼ êµ¬ì„±í•˜ëŠ” ë°©ë²•ì„ ì‚´í´ë³´ì•˜ë‹¤. Haproxyë¥¼ ë¡œë“œë°¸ëŸ°ì„œë¡œ ìš´ì˜í•˜ë©´ì„œ DOS ê³µê²©ì´ ìœ ì…ë˜ì–´ ì„œë¹„ìŠ¤ ìš´ì˜ì— ì¥ì• ê°€ ë°œìƒí•˜ì˜€ë‹¤. ì´ë²ˆì—ëŠ” Haproxy ì˜ ê¸°ëŠ¥ì„ ì´ìš©í•´ì„œ ë‹¨ìˆœí•œ íŒ¨í„´ì˜ DOS ê³µê²©ì„ ë°©ì–´í•˜ëŠ” ë°©ë²•ì„ ì‚´í´ë³´ì•˜ë‹¤.\nDOS ë€? ë¨¼ì € DOS ê³µê²©ì˜ ì •ì˜ë¥¼ ì‚´í´ë³´ì•˜ë‹¤.(DDOS ê°€ ì•„ë‹ˆë‹¤, DOSë‹¤) ìœ„í‚¤í”¼ë””ì•„ ì— ë”°ë¥´ë©´ DOS ë€ \u0026ldquo;Denial of Service attack\u0026rdquo;. ì„œë¹„ìŠ¤ ê±°ë¶€ ê³µê²©ìœ¼ë¡œ ì•…ì˜ì  ê³µê²©ìœ¼ë¡œ í•´ë‹¹ ì‹œìŠ¤í…œì˜ ìì›ì„ ë¶€ì¡±í•˜ê²Œ í•˜ì—¬ ì›ë˜ ì˜ë„ëœ ìš©ë„ë¡œ ì‚¬ìš©í•˜ì§€ ëª»í•˜ê²Œ í•˜ëŠ” ê³µê²©ì„ ì˜ë¯¸í•œë‹¤. ì—¬ê¸°ì—ì„œëŠ” Haproxyë¥¼ ì‚¬ìš©í•˜ì—¬ ê°€ì¥ ë‹¨ìˆœí•œ íŒ¨í„´ì¸ ë‹¨ì¼ IPì—ì„œ ìœ ì…ë˜ëŠ” ê³¼ë„í•œ request ë¥¼ ë°©ì–´í•˜ëŠ” ë°©ë²•ì„ ì‚´í´ë³´ì•˜ë‹¤.\nêµ¬ì„± ìš”ê±´   Haproxy ì˜ rate limit ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ì—¬ ë‹¨ì¼ IP ì—ì„œ ìœ ì…ë˜ëŠ” ê³¼ë„í•œ request ë¥¼ ë§‰ëŠ”ë‹¤.\n  ë‚´ë¶€ IP ëŒ€ì—­ì€ ì œì™¸í•œë‹¤. - vpc ë‚´ì˜ ì„œë²„ë“¤ì´ë‚˜, ë‚´ë¶€ ì—°ë™ ì„œë²„ë“¤ì€ ì œí•œ ëŒ€ìƒì—ì„œ ì œì™¸í•œë‹¤.\n  íŠ¹ì • ULR ë“¤ì€ ì œì™¸í•œë‹¤. - static file ë“±ì„ ìœ„í•œ whitelist ë¡œ ê´€ë¦¬ë˜ëŠ” url ëª©ë¡ì„ ê´€ë¦¬í•œë‹¤.\n  Haproxy ì„¤ì •í•˜ê¸°   ìš°ì„  ì œì™¸í•  IP ëŒ€ì—­ê³¼, URL ë¦¬ìŠ¤íŠ¸ íŒŒì¼ì„ ì •ì˜í•˜ì.\n# ACL \u0026quot;vpc-network\u0026quot; ì„ ì–¸ acl vpc-network src 10.10.1.0/16 # ACL \u0026quot;allow_url\u0026quot; ì„ ì–¸ # whitelist url ëª©ë¡ íŒŒì¼ ì§€ì • acl accept_url url_beg -i -f /etc/haproxy/accept_url.list   accept_url.list íŒŒì¼ì˜ ë‚´ìš©ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.\n# Allowd url /public /assets /resource /feed   ì´ì œ client ip ë¥¼ ì €ì¥í•  ê³µê°„(sticky session)ì„ ì •ì˜í•˜ì.\n# stickiness (Sticky Sessions)ì„ ì‚¬ìš©í•˜ì—¬ 10m ë©”ëª¨ë¦¬ì— 10ì´ˆë™ì•ˆ ìš”ì²­ë˜ëŠ” client ip ë¥¼ ì €ì¥í•œë‹¤. (1ë¶„ ìœ ì§€) # ì´ë¥¼ í†µí•œ ACL ì œì–´ëŠ” ë‹¤ìŒì˜ ì»¨íŠ¸ë¡¤ì´ ê°€ëŠ¥í•˜ë‹¤ # - conn_rate(10s) : 10ì´ˆ ë™ì•ˆ TCP ì»¤ë„¥ì…˜ì˜ rate # - conn_cur : ë™ì‹œ ì ‘ì† TCP ì»¤ë„¥ì…˜ # - http_req_rate(10s) : 10ì´ˆ ë™ì•ˆì˜ HTTP ì»¤ë„¥ì…˜ rate # - http_err_rate(20s) : 20ì´ˆ ë™ì•ˆì˜ HTTP ì»¤ë„¥ì…˜ ì—ëŸ¬(ë¹„ì •ìƒì ì¸ ì»¤ë„¥ì…˜ ìš”ì²­) # ì—¬ê¸°ì„œëŠ” http_req_rateë¥¼ ì‚¬ìš©í–ˆë‹¤. stick-table type ip size 500m expire 1m store http_req_rate(10s)   ì •ì˜í•œ stick tableì˜ ì¹´ìš´íŠ¸ë¥¼ ì˜¬ë¦¬ë ¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì§€ì •í•˜ì\n# ì¹´ìš´íŠ¸ table ìœ ì§€ vpc network ì ‘ì†ì´ ì•„ë‹ˆê³  AND í—ˆìš©ë˜ëŠ” url ê°€ ì•„ë‹ ë•Œ ( true AND true ì¡°ê±´ í˜•íƒœ) http-request track-sc1 src table www if !vpc-network !accept_url   ACL \u0026lsquo;dos-attack\u0026rsquo; ì •ì˜\n# ìœ„ì—ì„œ ì •ì˜í•œ stick-table ì— ë”°ë¼ì„œ 10ì´ˆ ë™ì•ˆ ìš”ì²­ë˜ëŠ” HTTP connectoin rate ê°€ 100ì´ ë„˜ìœ¼ë©´ DOS ê³µê²©ìœ¼ë¡œ íŒë‹¨. acl dos-attack src_http_req_rate(www) ge 100   DOS ê³µê²©ìœ¼ë¡œ íŒë‹¨ë  ë•Œ ì‚¬ìš©í•  backend ì—°ê²°\nuse_backend blocked_page if dos-attack !accept_url   blocked_page backend ì •ì˜\nbackend blocked_page mode http # ë²¡ì—”ë“œì—ì„œ ì—°ê²°ë  ì„œë²„ê°€ ì—†ìœ¼ë¯€ë¡œ 503 ì—ëŸ¬ê°€ ë°œìƒí•  ê²ƒì´ë‹¤. ì´ ë•Œ ë³´ì—¬ì¤„ í˜ì´ì§€ëŠ” ì•„ë˜ì™€ ê°™ë‹¤. errorfile 503 /etc/haproxy/errors/blocked.http   block ë˜ì—ˆì„ ë•Œ ë³´ì—¬ì¤„ ì—ëŸ¬ í˜ì´ì§€\nstatus code 429ëŠ” too many connection ì˜¤ë¥˜ë¥¼ ì˜ë¯¸í•œë‹¤.\nHTTP/1.1 429 Too Many Requests Content-Type: text/html Retry-After: 600 \u0026lt;!doctype html\u0026gt; \u0026lt;html lang=\u0026quot;ko\u0026quot;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;title\u0026gt;Can not connect page\u0026lt;/title\u0026gt; \u0026lt;body\u0026gt; \u0026lt;p\u0026gt;Nothing\u0026lt;/p\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt;   ì™„ì„±ëœ Haproxy conf ìœ„ì˜ ê³¼ì •ì„ ê±°ì¹˜ë©´ ëŒ€ëµ ì•„ë˜ì™€ ê°™ì€ ë‚´ìš©ì˜ íŒŒì¼ì„ êµ¬ì„±í•  ìˆ˜ ìˆë‹¤.\nfrontend www ... # ACL \u0026quot;vpc-network\u0026quot; ì„ ì–¸ acl vpc-network src 10.10.1.0/16 # ACL \u0026quot;allow_url\u0026quot; ì„ ì–¸ # whitelist url ëª©ë¡ íŒŒì¼ ì§€ì • acl accept_url url_beg -i -f /etc/haproxy/accept_url.list # stickiness (Sticky Sessions)ì„ ì‚¬ìš©í•˜ì—¬ 10m ë©”ëª¨ë¦¬ì— 10ì´ˆë™ì•ˆ ìš”ì²­ë˜ëŠ” client ip ë¥¼ ì €ì¥í•œë‹¤. (1ë¶„ ìœ ì§€) # ì´ë¥¼ í†µí•œ ACL ì œì–´ëŠ” ë‹¤ìŒì˜ ì»¨íŠ¸ë¡¤ì´ ê°€ëŠ¥í•˜ë‹¤ # - conn_rate(10s) : 10ì´ˆ ë™ì•ˆ TCP ì»¤ë„¥ì…˜ì˜ rate # - conn_cur : ë™ì‹œ ì ‘ì† TCP ì»¤ë„¥ì…˜ # - http_req_rate(10s) : 10ì´ˆ ë™ì•ˆì˜ HTTP ì»¤ë„¥ì…˜ rate # - http_err_rate(20s) : 20ì´ˆ ë™ì•ˆì˜ HTTP ì»¤ë„¥ì…˜ ì—ëŸ¬(ë¹„ì •ìƒì ì¸ ì»¤ë„¥ì…˜ ìš”ì²­) # ì—¬ê¸°ì„œëŠ” http_req_rateë¥¼ ì‚¬ìš©í–ˆë‹¤. stick-table type ip size 500m expire 1m store http_req_rate(10s) # ìœ„ì—ì„œ ì •ì˜í•œ stick-table ì— ë”°ë¼ì„œ 10ì´ˆ ë™ì•ˆ ìš”ì²­ë˜ëŠ” HTTP connectoin rate ê°€ 100ì´ ë„˜ìœ¼ë©´ DOS ê³µê²©ìœ¼ë¡œ íŒë‹¨. acl dos-attack src_http_req_rate(www) ge 100 # ì¹´ìš´íŠ¸ table ìœ ì§€ vpc network ì ‘ì†ì´ ì•„ë‹ˆê³  AND í—ˆìš©ë˜ëŠ” url ê°€ ì•„ë‹ ë•Œ ( true AND true ì¡°ê±´ í˜•íƒœ) http-request track-sc1 src table www if !vpc-network !accept_url use_backend blocked_page if dos-attack !accept_url default_backend web-svr backend blocked_page mode http # ë²¡ì—”ë“œì—ì„œ ì—°ê²°ë  ì„œë²„ê°€ ì—†ìœ¼ë¯€ë¡œ 503 ì—ëŸ¬ê°€ ë°œìƒí•  ê²ƒì´ë‹¤. ì´ ë•Œ ë³´ì—¬ì¤„ í˜ì´ì§€ëŠ” ì•„ë˜ì™€ ê°™ë‹¤. errorfile 503 /etc/haproxy/errors/blocked.http backend web-svr ...... í…ŒìŠ¤íŠ¸ apache bench ë¥¼ ì‚¬ìš©í•´ì„œ í…ŒìŠ¤íŠ¸ í•´ë³´ì•˜ë‹¤.\n$ ab -r -c 10 -n 2000 -l http://my.service.host/ This is ApacheBench, Version 2.3 \u0026lt;$Revision: 1796539 $\u0026gt; Copyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/ Licensed to The Apache Software Foundation, http://www.apache.org/ Benchmarking my.service.host (be patient) Completed 200 requests Completed 400 requests Completed 600 requests Completed 800 requests Completed 1000 requests Completed 1200 requests Completed 1400 requests Completed 1600 requests Completed 1800 requests Completed 2000 requests Finished 2000 requests Server Software: Apache Server Hostname: my.service.host Server Port: 80 Document Path: / Document Length: Variable Concurrency Level: 10 Time taken for tests: 2.991 seconds Complete requests: 2000 Failed requests: 0 Non-2xx responses: 1901 Total transferred: 24512750 bytes HTML transferred: 24332595 bytes Requests per second: 668.73 [#/sec] (mean) Time per request: 14.954 [ms] (mean) Time per request: 1.495 [ms] (mean, across all concurrent requests) Transfer rate: 8004.14 [Kbytes/sec] received Connection Times (ms) min mean[+/-sd] median max Connect: 2 5 4.2 5 71 Processing: 6 10 7.3 8 73 Waiting: 5 9 5.5 7 73 Total: 9 15 8.4 13 80 Percentage of the requests served within a certain time (ms) 50% 13 66% 13 75% 14 80% 14 90% 16 95% 40 98% 45 99% 48 100% 80 (longest request) Non-2xx responses ë¼ê³  í‘œì‹œëœ ë¶€ë¶„ì´ haproxy ì—ì„œ block ë˜ì–´ 429 response ì‘ë‹µì„ ìˆ˜ì‹ í•œ ë¶€ë¶„ì´ê³ , ë¡œë“œ ë°¸ëŸ°ì„œë¡œ ì§€ì •ëœ web-srv ì„œë²„ë“¤ì—ë„ access log ê°€ ë‚¨ì§€ ì•Šì•˜ë‹¤.\nrsyslog ë¡œê¹… ë³€ê²½ Haproxy ëŠ” rsyslog ë¡œ ë¡œê·¸ë¥¼ ë‚¨ê¸°ëŠ”ë° ì—¬ê¸°ì„œ dos attack ì¸ ë…€ì„ë“¤ë§Œ ë¡œê·¸ë¥¼ ê¸°ë¡í•´ ë³´ì. /etc/rsyslog.d/haproxy-dos.conf íŒŒì¼ì„ êµ¬ì„±í•œë‹¤. ì‚¬ì „ì— haproxy-info.log ê°€ ì¡´ì¬í•˜ê³ , ë¡œê·¸ì— dos ìš© backend ì¸ \u0026lsquo;blocked_page\u0026rsquo; ë¼ëŠ” \u0026ldquo;backend name\u0026rdquo; ì„ ë¡œê¹…í•˜ë„ë¡ ì»¤ìŠ¤í…€ í¬ë§·ì´ ì§€ì •ë˜ì–´ ìˆë‹¤ê³  ê°€ì •í•œë‹¤.\n# Provides UDP syslog reception $ModLoad imfile $template Haproxy, \u0026quot;%msg%\\n\u0026quot; $InputFilePollInterval 1 # UDP ë¡œ ë©”ì„¸ì§€ë¥¼ ìˆ˜ì‹ í•˜ì§€ ì•Šê³ , haproxy-info íŒŒì¼ì„ watch í•˜ëŠ” í˜•íƒœë¡œ ì…ë ¥ë°›ìŒ # ê¸°ì¡´ì— ì´ë¯¸ haproxy-info.log ê°€ ìˆë‹¤ê³  ê°€ì •. $InputFileName /var/log/haproxy/haproxy-info.log $InputFileTag haproxy-dos: $InputFileStateFile haproxy-dos $InputFileFacility local0 $InputRunFileMonitor # blocked_page ë¼ëŠ” ë‹¨ì–´ê°€ í¬í•¨ëœ ë©”ì„¸ì§€ë¥¼ haproxy-dos.log ì— ë‹¤ì‹œ ê¸°ë¡í•¨ :syslogtag, isequal, \u0026quot;haproxy-dos:\u0026quot; { :msg, contains, \u0026quot;blocked_page\u0026quot; { local0.* /var/log/haproxy/haproxy-dos.log;Haproxy } stop } ì ìš© í›„ê¸°  ê¸°ì¡´ì— nginx rate limitìœ¼ë¡œë„ ë™ì¼í•œ êµ¬ì„±ì„ í•´ë³´ì•˜ëŠ”ë°, Haproxy ëŠ” ì¢€ ë” ìœ ì—°í•˜ê³ , ë” ë””í…Œì¼í•˜ê²Œ ì œì–´ê°€ ê°€ëŠ¥í–ˆë‹¤. ì—¬ê¸°ì„œëŠ” ê°€ì¥ ê¸°ë³¸ì ì¸ \u0026ldquo;ë‹¨ì¼ IPì—ì„œì˜ ê³¼ë„í•œ ìœ ì…\u0026quot;ë§Œ ë§‰ì„ ìˆ˜ ìˆì—ˆì§€ë§Œ, ë” ì—°êµ¬í•´ì„œ ë‹¤ë¥¸ íŒ¨í„´ë„ ë§‰ì„ ìˆ˜ ìˆë„ë¡ ì•Œì•„ë´ì•¼ê² ë‹¤.(.. ì–¸ì œ?)  ì°¸ê³   https://blog.codecentric.de/en/2014/12/haproxy-http-header-rate-limiting/ https://gist.github.com/jeremyj/e964a951634f1997daea https://www.loadbalancer.org/blog/simple-denial-of-service-dos-attack-mitigation-using-haproxy-2/ https://www.haproxy.com/blog/use-a-load-balancer-as-a-first-row-of-defense-against-ddos/ "
},
{
	"permalink": "https://findstar.pe.kr/tags/rate-limit/",
	"title": "rate limit",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/2018/07/27/install-haproxy/",
	"title": "Haproxy ì„¤ì¹˜í•´ì„œ ë¡œë“œ ë°¸ëŸ°ì„œë¡œ í™œìš©í•˜ê¸°",
	"tags": ["haproxy", "install", "haproxy 1.8"],
	"description": "",
	"type": "post",
	"contents": "Load Balancer ë¡œ í™œìš©í•  ìˆ˜ ìˆëŠ” Reverse Proxy ì¸ Haproxy ì˜ ì„¤ì¹˜ì™€ ì„¤ì • ë°©ë²•ì„ ì •ë¦¬í•´ë³´ì•˜ë‹¤.\nHaproxy ëŠ” Load balancer ë¡œ í™œìš©í•  ìˆ˜ ìˆìœ¼ë©°, ë‹¤ì–‘í•œ ì„¤ì •ì´ ê°€ëŠ¥í•˜ê³ , nginx reverse proxy ì— ë¹„í•´ì„œ active health checkê°€ ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì— ë” ì•ˆì •ì ìœ¼ë¡œ ìš´ì˜í•  ìˆ˜ ìˆë‹¤. ë‹¤ë§Œ ì„¤ì •ì´ ì¡°ê¸ˆ ë³µì¡í•´ì„œ ìµìˆ™í•´ ì§€ëŠ”ë° ì‹œê°„ì´ ê±¸ë ¸ë‹¤.\nì„¤ì¹˜ í™˜ê²½   haproxy ë¥¼ ì„¤ì¹˜í•œ ì„œë²„ëŠ” Centos 7.4 ì„œë²„ì˜€ë‹¤. yum ì„ ì‚¬ìš©í• ê²ƒì¸ì§€ ì•„ë‹ˆë©´ ì»´íŒŒì¼ì„ í•´ì„œ ì‚¬ìš©í• ì§€ ê²°ì •í•´ì•¼ í–ˆëŠ”ë° ê²°êµ­ì€ ì»´íŒŒì¼í•´ì„œ ì„¤ì¹˜í•˜ê¸°ë¡œ í–ˆë‹¤. ê·¸ ì´ìœ ëŠ” yum ê¸°ë³¸ repo ì— ìˆëŠ” haproxy ë²„ì „ì´ ë‚®ê³ , ëŒ€ë¶€ë¶„ì˜ ë ˆí¼ëŸ°ìŠ¤ì—ì„œ ì»´íŒŒì¼í•´ì„œ ì„¤ì¹˜í•˜ê³  ìˆê¸°ì— ì´ëŒ€ë¡œ ì§„í–‰í–ˆë‹¤. (ë‹¤ë§Œ, ì»´íŒŒì¼ì—ì„œ ì˜µì…˜ì„ ì˜ëª» ì§€ì •í•´ì„œ ë‚˜ì¤‘ì— ì—„ì²­ë‚œ ì‚½ì§ˆì„ í•˜ê²Œë˜ì—ˆëŠ”ë°, ì´ê±´ ë”°ë¡œ ì´ì•¼ê¸° í•˜ê¸°ë¡œ í•˜ê³  ì„¤ì¹˜ ë‚´ì—­ì„ ì •ë¦¬í•´ë³´ì•˜ë‹¤)\n  í•„ìš”í•œ yum íŒ¨í‚¤ì§€ë“¤ì„ ì„¤ì¹˜í•´ì£¼ì.\nyum install gcc openssl pcre-static pcre-devel systemd-devel   Haproxy ë‹¤ìš´ë¡œë“œ \u0026amp; ì»´íŒŒì¼   haproxy ì†ŒìŠ¤ íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œ ë°›ëŠ”ë‹¤. ì„¤ì¹˜í•˜ëŠ” í˜„ì¬ stable ë²„ì „ì€ 1.8.12 ë²„ì „ì´ë‹¤.\nwget http://www.haproxy.org/download/1.8/src/haproxy-1.8.12.tar.gz tar zxvf haproxy-1.8.12.tar.gz   ì»´íŒŒì¼ì„ í•˜ì, ì´ë•Œ ì˜µì…˜ì„ ì§€ì •í•´ì¤˜ì•¼ í•œë‹¤. TARGET ì •ë³´ëŠ” README íŒŒì¼ì—ì„œ í™•ì¸í•˜ì. SSL ì¸ì¦ì„œë¥¼ í™œì„±í™” í•˜ê¸° ìœ„í•´ì„œ USE_OPENSSL ë¥¼ enable í•´ì£¼ê³ , systemd ë¥¼ í†µí•´ì„œ ì„œë¹„ìŠ¤ë¥¼ ì»¨íŠ¸ë¡¤ í•˜ê¸° ìœ„í•´ì„œ USE_SYSTEMD ë„ í™œì„±í™” í•´ì£¼ì—ˆë‹¤.\nmake TARGET=linux2628 USE_OPENSSL=1 USE_PCRE=1 USE_ZLIB=1 USE_SYSTEMD=1   ì»´íŒŒì¼ì„ ì™„ë£Œí–ˆë‹¤ë©´ ì„¤ì¹˜í•˜ì /usr/local/sbin/haproxy ì— ì‹¤í–‰íŒŒì¼ì´ ì„¤ì¹˜ëœë‹¤.\nmake install install -d \u0026quot;/usr/local/sbin\u0026quot; install haproxy \u0026quot;/usr/local/sbin\u0026quot; install -d \u0026quot;/usr/local/share/man\u0026quot;/man1 install -m 644 doc/haproxy.1 \u0026quot;/usr/local/share/man\u0026quot;/man1 install -d \u0026quot;/usr/local/doc/haproxy\u0026quot; for x in configuration management architecture peers-v2.0 cookie-options lua WURFL-device-detection proxy-protocol linux-syn-cookies network-namespaces DeviceAtlas-device-detection 51Degrees-device-detection netscaler-client-ip-insertion-protocol peers close-options SPOE intro; do \\ install -m 644 doc/$x.txt \u0026quot;/usr/local/doc/haproxy\u0026quot; ; \\ done   ì •ìƒì ìœ¼ë¡œ ì„¤ì¹˜ê°€ ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ì\nsudo haproxy -v   Haproxy systemd ë“±ë¡   ì´ì œ systemd ì— ë“±ë¡í•˜ê³  ì„œë¹„ìŠ¤ë¥¼ ì»¨íŠ¸ë¡¤í•  ìˆ˜ ìˆë„ë¡ í•´ì£¼ì–´ì•¼ í•œë‹¤. haproxy git repo ì—ì„œ ì œê³µí•˜ëŠ” system file ì„ í™•ì¸í•˜ì. í•´ë‹¹ íŒŒì¼ì„ /etc/systemd/system/haproxy.service ì— ì €ì¥í•˜ê³  sudo systemd daemon-reload ì‹¤í–‰í•˜ì.\nsudo wget \u0026quot;http://git.haproxy.org/?p=haproxy-1.8.git;a=blob_plain;f=contrib/systemd/haproxy.service.in\u0026quot; -O /etc/systemd/system/haproxy.service sudo systemd daemon-reload   ê¸°íƒ€ ì‘ì—…   haproxy ê´€ë ¨ ë””ë ‰í† ë¦¬ë¥¼ ë§Œë“¤ì.\nsudo mkdir -p /etc/haproxy sudo mkdir -p /var/log/haproxy sudo mkdir -p /etc/haproxy/certs sudo mkdir -p /etc/haproxy/errors/   haproxy ë°ëª¬ì„ êµ¬ë™í•  haproxy ê³„ì •ì„ ë§Œë“¤ì\nsudo useradd -r haproxy   ì„¤ì • íŒŒì¼   example ë””ë ‰í† ë¦¬ì˜ haproxy config ì„ ì°¸ê³ í•´ì„œ ì›í•˜ëŠ” í˜•íƒœì˜ cfg ë¥¼ êµ¬ì„±í•´ì•¼ í•œë‹¤. ì´ê²Œ ì œì¼ í˜ë“  ë¶€ë¶„ì´ê¸´ í•œë° ê³ ìƒí•œ ê²°ê³¼ë¬¼ì„ ê¸°ë¡í–ˆë‹¤.\n# ë‹¤ìŒì€ 80 ê³¼ 443 ìœ¼ë¡œ haproxy ë¥¼ reverse proxy í˜•íƒœë¡œ êµ¬ì„±í•˜ì—¬ LBë¡œ ì‚¬ìš©í•˜ëŠ” ì„¤ì •ì´ë‹¤. global daemon # ì—°ê²°í•  ìˆ˜ ìˆëŠ” ìµœëŒ€ connection ì„ ì§€ì •í•œë‹¤. ì´ê±¸ ì•ˆí•˜ë©´ ê¸°ë³¸ê°’ì´ 2000 ìœ¼ë¡œ ì„¤ì •ëœë‹¤. maxconn 81920 # haproxy í”„ë¡œì„¸ì„œë¥¼ êµ¬ë™í•  user (gid/uidë¥¼ ì§€ì •í•  ìˆ˜ë„ ìˆë‹¤.) user haproxy # ssl ì„ êµ¬ì„±í•  ë•Œ key sizeë¥¼ ì§€ì •í•œë‹¤. tune.ssl.default-dh-param 2048 # haproxyëŠ” ë¡œê·¸ë¥¼ ë‚¨ê¸°ê¸° ìœ„í•´ì„œ file io ë¥¼ ì§ì ‘ ì²˜ë¦¬í•˜ì§€ ì•ŠëŠ”ë‹¤. rsyslog ë¡œ UDP ì „ì†¡ì„ í•œë‹¤. log 127.0.0.1 local0 # ciphers ì„¤ì • # WindowsXP SP3 IE7,8 í˜¸í™˜ì´ í•„ìš”í•˜ì§€ ì•Šì„ ê²½ìš° !3DESë„ ì¶”ê°€í•œë‹¤. ssl-default-bind-ciphers ECDH+AESGCM:ECDH+AES128:ECDH+AES256:DH+AES128:DH+AES256:DH+CAMELLIA128:DH+CAMELLIA256:DH+SEEDCBC:RSA:!aNULL:!MD5:!eNULL:!RC4 defaults # Haproxy ì—ì„œ log format ì€ ì´ 5ê°€ì§€ (default, tcp, http, clf, custom) ì„ ì§€ì›í•œë‹¤ # 1. ê¸°ë³¸ì ì¸ log format # datetime host process_name[pid]: Connect from source_ip:source_port to dest_ip:dest_port (frontend_name/mode) # ex) Feb 6 12:12:09 localhost haproxy[14385]: Connect from 10.0.1.2:33312 to 10.0.3.31:8012 (www/HTTP) # # 2. `option tcplog` ê°€ ì§€ì •ëœ ê²½ìš° # datetime host process_name[pid]: client_ip:client_port [accept_date] frontend_name backend_name/server_name tw/tc/tx bytes_read termination_state actionn/feconn/beconn/srv_conn/retries srv_queue/backend_queue # ex) Feb 6 12:12:56 localhost haproxy[14387]: 10.0.1.2:33313 [06/Feb/2009:12:12:51.443] fnt bck/srv1 0/0/5007 212 -- 0/0/0/0/3 0/0 # # 3. `option httplog` ê°€ ì§€ì •ëœ ê²½ìš° # HTTP í”„ë¡ì‹œë¥¼ êµ¬ì„±í•˜ëŠ” ê²½ìš°ì— ì œì¼ ë§ì´ ì‚¬ìš©ë˜ëŠ” ë¡œê·¸ í¬ë§· # datetime host process_name[pid]: client_ip:client_port [request_date] frontend_name backend_name/server_name TR/Tw/Tc/Tr/Ta status_code bytes_read captured_request_cooie captured_response_cookie termination_state actionn/feconn/beconn/srv_conn/retries srv_queue/backend_queue {captured_request_headers} {captured_response_headers} \u0026quot;http_request\u0026quot; # ex) # Feb 6 12:14:14 localhost haproxy[14389]: 10.0.1.2:33317 [06/Feb/2009:12:14:14.655] http-in static/srv1 10/0/30/69/109 200 2750 - - ---- 1/1/1/1/0 0/0 {1wt.eu} {} \u0026quot;GET /index.html HTTP/1.1\u0026quot; # # 4. `log-format` ì„ í†µí•´ì„œ custom êµ¬ì„±ì„ í•œê²½ìš° # `log-format` ì„ ì§€ì •í•˜ë©´ ì»¤ìŠ¤í…€ ë¡œê·¸ í¬ë§· êµ¬ì„±ì´ ê°€ëŠ¥í•¨ # ìì„¸í•œ ë³€ìˆ˜ëŠ” http://cbonte.github.io/haproxy-dconv/1.8/configuration.html#8.2.4 ì°¸ê³  # # 5. clf ëŠ” (Common Logging Format) # # ì´ì„¤ì •íŒŒì¼ì—ì„œëŠ” custom log format ì„ ì‚¬ìš©í–ˆë‹¤. log global mode http option httplog clf #Enable logging of null connections (í—¬ìŠ¤ì²´í¬ì™€ ê°™ì´ ì‹œìŠ¤í…œì´ ì‚´ì•„ ìˆëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ì„œ ì¼ì •í•˜ê²Œ ì ‘ì†í•˜ëŠ” ì»¤ë„¥ì…˜ì— ëŒ€í•œ ë¡œê·¸ ì‚¬ìš©) option dontlognull #Enable skip logging normal connection log ì¼ë°˜ì ì¸ http status 200 ë¡œê·¸ëŠ” ë‚¨ê¸°ì§€ ì•ŠëŠ”ë‹¤. (https://www.slideshare.net/haproxytech/haproxy-best-practice) ì°¸ê³  option dontlog-normal #request-ìš”ì²­ì„ ì„œë²„ë¡œ ë³´ë‚¼ ë•Œ `X-Forwarded-For` ë¥¼ í—¤ë”ì— ì¶”ê°€í•œë‹¤ option forwardfor # ê¸°ë³¸ì ìœ¼ë¡œ HAProxy ëŠ” ì»¤ë„¥ì…˜ ìœ ì§€ ê´€ì ì—ì„œ keep-alive ëª¨ë“œë¡œ ë™ì‘ì„ í•˜ëŠ”ë°, ê°ê°ì˜ ì»¤ë„¥ì…˜ì€ request-ìš”ì²­ê³¼ reponse-ì‘ë‹µì„ ì²˜ë¦¬í•˜ê³ ë‚˜ì„œ # ìƒˆë¡œìš´ requestì„ ë°›ê¸°ê¹Œì§€ connection idle ìƒíƒœ(ìœ íœ´ìƒíƒœ)ë¡œ ì–‘ìª½ì´ ì—°ê²°ë˜ì–´ ìˆë‹¤. # ì´ ë™ì‘ëª¨ë“œë¥¼ ë³€ê²½í•˜ë ¤ë©´ \u0026quot;option http-server-close\u0026quot; \u0026quot;option forceclose\u0026quot; \u0026quot;option httpclose\u0026quot; \u0026quot;option http-tunnel\u0026quot; ì˜ ì˜µì…˜ì´ ê°€ëŠ¥í•œë°, # \u0026quot;option http-server-close\u0026quot; ëŠ” í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œì—ì„œ HTTP keep-aliveë¥¼ ìœ ì§€í•˜ê³  íŒŒì´í”„ë¼ì´ë‹ì„ ì§€ì›í•˜ë©´ì„œ ì„œë²„ ì‚¬ì´ë“œì— ì»¤ë„¥ì…˜ì„ ë‹«ëŠ” í˜•íƒœë¥¼ ì„¤ì •í•œë‹¤. # ì´ëŠ” í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œì—ì„œ ìµœì € ìˆ˜ì¤€ì˜ ì‘ë‹µì§€ì—°ì„ ì œê³µí•˜ê³  \u0026quot;option forceclose\u0026quot; ì™€ ë¹„ìŠ·í•˜ê²Œ ì„œë²„ì‚¬ì´ë“œì—ì„œ ë¦¬ì†ŒìŠ¤ë¥¼ ì¬í™œìš©í•  ìˆ˜ ìˆê²Œ ë˜ì–´ # backend ì—ì„œ ë¹ ë¥´ê²Œ ì„¸ì…˜ì„ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•´ì¤€ë‹¤. option http-server-close timeout http-request 10s timeout client 20s timeout connect 4s timeout server 30s timeout http-keep-alive 10s # haproxy ì˜ ìƒíƒœì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ í™œì„±í™” í•œë‹¤. \u0026quot;stats\u0026quot; # ì´ í¬íŠ¸ëŠ” ì™¸ë¶€ì— ë…¸ì¶œë˜ì§€ ì•Šë„ë¡ ì£¼ì˜í•˜ì. # ì ‘ê·¼ ê°€ëŠ¥í•œ ì‚¬ìš©ìë¥¼ ì œí•œí•˜ê¸° ìœ„í•´ì„œ auth ë¥¼ ì¶”ê°€í–ˆë‹¤. listen stats bind :9000 # Listen on localhost:9000 stats enable # Enable stats page stats realm Haproxy\\ Statistics # Title text for popup window stats uri /haproxy_stats # Stats URI stats auth admin1:password1 stats auth admin2:password2 frontend www # ê¸°ë³¸ì ìœ¼ë¡œ 80 ë²ˆì„ listen í•œë‹¤. bind *:80 # https ì§€ì›ì„ ìœ„í•œ 443 listen # cert íŒŒì¼ì€ /etc/haproxy/certs ë””ë ‰í† ë¦¬ì— ë„£ëŠ”ë‹¤. # í‚¤ íŒŒì¼ê³¼ cert íŒŒì¼ì„ í•˜ë‚˜ë¡œ í•©ì³ì„œ ë„£ìœ¼ë©´ ëœë‹¤. bind *:443 ssl crt /etc/haproxy/certs maxconn 81920 # ì••ì¶• ì•Œê³ ë¦¬ì¦˜ gzip ì ìš© compression algo gzip compression type text/plain application/json application/xml # ACL \u0026quot;deny_useragent\u0026quot; ì„ ì–¸ # ë³´ì•ˆì·¨ì•½ì  ìŠ¤ìº” íˆ´ ê°™ì€ agent ë“¤ì„ ë§‰ê¸° ìœ„í•œ list íŒŒì¼ì„ êµ¬ì„±í–ˆë‹¤. # -i ì˜µì…˜ì€ ëŒ€ì†Œë¬¸ì êµ¬ë¶„í•˜ì§€ ì•ŠìŒ # -f ëŠ” íŒŒì¼ì—ì„œ ë§¤ì¹­ acl deny_useragent hdr_sub(user-agent) -i -f /etc/haproxy/deny_useragent.list # Private Ip ëŒ€ì—­ í™•ì¸ìš© ACL \u0026quot;private-network\u0026quot; ì„ ì–¸ # ê°™ì€ VPC ëŒ€ì—­ì´ë¼ë˜ê°€.. acl private-network src 10.10.0.0/16 http-request deny if deny_useragent # ëª¨ë‹ˆí„°ë§ì„ ìœ„í•œ ì£¼ì†Œ ì„¤ì • monitor-uri /monitor # ëª¨ë‹ˆí„°ë§ ì£¼ì†ŒëŠ” ê°™ì€ private ip ëŒ€ì—­ì´ ì•„ë‹ˆë¼ë©´ ì‹¤íŒ¨ ì²˜ë¦¬ monitor fail if !private-network # log format ì„ ìœ„í•´ì„œ header ì •ë³´ë¥¼ capture í•œë‹¤. custom format %hr ì—ì„œ ì‚¬ìš©ë˜ë©° delimiter : '|'ë¡œ êµ¬ë¶„ëœë‹¤. capture request header Host len 128 capture request header User-Agent len 64 capture request header Referrer len 64 # ë‹¤ìŒì€ custom format ì„ ìœ„í•œ ì§€ # %ci : client ip # %trl : local date time # %HM : HTTP method (ex GET) # %HU : HTTP request URI (ex: /foo?bar=baz) # %HV : HTTP version (ex: HTTP/1.1) # %ST : Status Code # %B : bytes_read # %hr : header values (host, agent, referrer) ìœ„ì—ì„œ capture í•œ ê°’ë“¤. # %s : server_name # %b : backend_name # %TR : time to receive the full request from 1st byte # %Tw : total time in milliseconds spent waiting in the various queues # %Tc : total time in milliseconds spent waiting for the connection to establish to the final server, including retries # %Tr : total time in milliseconds spent waiting for the server to send a full HTTP response, not counting data # %Ta : time the request remained active in haproxy, which is the total time in milliseconds elapsed between the first byte of the request was received and the last byte of response was sent # %ac : total number of concurrent connections on the process when the session was logged # %fc : total number of concurrent connections on the frontend when the session was logged # %bc : total number of concurrent connections handled by the backend when the session was logged # %sc : total number of concurrent connections still active on the server when the session was logged # %rc : the number of connection retries experienced by this session when trying to connect to the server log-format \u0026quot;%ci\\ [%trl]\\ %HM\\ \\\u0026quot;%HU\\\u0026quot;\\ \\\u0026quot;%HV\\\u0026quot;\\ %ST\\ %B\\ %hr\\ %s\\ %b\\ %TR/%Tw/%Tc/%Tr/%Ta\\ %ac/%fc/%bc/%sc/%rc\u0026quot; # ê¸°ë³¸ì ìœ¼ë¡œ ì‚¬ìš©í•  backend ë¥¼ ì§€ì •í•œë‹¤. default_backend web-svr backend web-svr # ë¡œë“œ ë°¸ëŸ°ì‹±ì„ ë¼ìš´ë“œ ë¡œë¹ˆìœ¼ë¡œ ì§€ì •í•œë‹¤. ì´ë°–ì—ë„ leastconn ì„ ë§ì´ ì§€ì •í•˜ëŠ”ê²ƒ ê°™ë‹¤. balance roundrobin # ì—°ê²°í•  ì„œë²„ë“¤ì´ active health checkë¥¼ ì§€ì •í•œë‹¤. (nginx ì™€ ê°€ì¥í° ë‹¤ë¥¸ì ì´ë¼ê³  ìƒê°ëœë‹¤. nginx ëŠ” active health check ê°€ plus(ìœ ë£Œ)ë²„ì „ì—ì„œë§Œ ê°€ëŠ¥í•˜ë‹¤) option httpchk HEAD /_health HTTP/1.1\\r\\nHost:\\ localhost # ì—ëŸ¬ íŒŒì¼ ì„¤ì • errorfile 400 /etc/haproxy/errors/400.http errorfile 403 /etc/haproxy/errors/403.http errorfile 408 /etc/haproxy/errors/408.http errorfile 500 /etc/haproxy/errors/500.http errorfile 502 /etc/haproxy/errors/502.http errorfile 503 /etc/haproxy/errors/503.http errorfile 504 /etc/haproxy/errors/504.http # backend ì„œë²„ë“¤ë¡œ request-ìš”ì²­ ì„ proxy ë¡œ ì „ë‹¬í•  ë•Œ Protocol(https) ì™€ Port ì •ë³´ë¥¼ í•¨ê»˜ ì „ë‹¬ # X-Forwarded-For ëŠ” ì•ì˜ option ìœ¼ë¡œ ì „ë‹¬ë¨ (option forwardfor) http-request set-header X-Forwarded-Port %[dst_port] http-request add-header X-Forwarded-Proto https if { ssl_fc } # ì—°ê²°í•  ì„œë²„ë“¤ì˜ ë¦¬ìŠ¤íŠ¸ë‹¤. 3ë²ˆ health check ê°€ ì‹¤íŒ¨í•˜ë©´ ë¹¼ê³ , 2ë²ˆ ì„±ê³µí•˜ë©´ ë‹¤ì‹œ LB ëŒ€ìƒì— í¬í•¨ì‹œí‚¨ë‹¤. server my-web-server-1-host 10.10.192.1:80 check fall 3 rise 2 server my-web-server-2-host 10.10.192.2:80 check fall 3 rise 2 server my-web-server-3-host 10.10.192.3:80 check fall 3 rise 2 server my-web-server-4-host 10.10.192.4:80 check fall 3 rise 2 server my-web-server-5-host 10.10.192.5:80 check fall 3 rise 2 server my-web-server-6-host 10.10.192.6:80 check fall 3 rise 2 server my-web-server-7-host 10.10.192.7:80 check fall 3 rise 2 server my-web-server-8-host 10.10.192.8:80 check fall 3 rise 2 server my-web-server-9-host 10.10.192.9:80 check fall 3 rise 2 server my-web-server-10-host 10.10.192.10:80 check fall 3 rise 2   ì„¤ì • íŒŒì¼ì´ ì™„ë£Œë˜ì—ˆë‹¤ë©´ ì•„ë˜ì™€ ê°™ì´ ì´ìƒì´ ì—†ëŠ”ì§€ ì²´í¬í•  ìˆ˜ ìˆë‹¤.\nsudo haproxy -f /etc/haproxy/haproxy.cfg -c   êµ¬ë™   ì´ì œ systemd ë¥¼ ì‚¬ìš©í•´ì„œ êµ¬ë™í•´ë³´ì\nsystemd start haproxy.service   ì¬ì‹œì‘ì€ reload í•˜ë©´ëœë‹¤. ë§Œì•½ ì»´íŒŒì¼ì‹œì— USE_SYSTEMD ì˜µì…˜ì„ ì£¼ì§€ ì•Šì•˜ë‹¤ë©´ ì¬ì‹œì‘ì— ì‹¤íŒ¨í•  ìˆ˜ ìˆë‹¤.\nsystemd reload haproxy.service   ì„¤ì¹˜í›„ ì¶”ê°€í• ì¼   rsyslog ì— haproxy ìš© ë¡œê·¸ë¥¼ ë‚¨ê¸°ë„ë¡ ì„¤ì •í•œë‹¤. /etc/rsyslog.d/haproxy.conf íŒŒì¼ì„ ë‹¤ìŒê³¼ ê°™ì´ êµ¬ì„±í•œë‹¤.\n# Provides UDP syslog reception $ModLoad imudp $UDPServerRun 514 $template Haproxy, \u0026quot;%msg%\\n\u0026quot; #rsyslog ì—ëŠ” rsyslog ê°€ ë©”ì„¸ì§€ë¥¼ ìˆ˜ì‹ í•œ ì‹œê° ë° ë°ëª¬ ì´ë¦„ê°™ì€ ì¶”ê°€ì ì¸ ì •ë³´ê°€ prepend ë˜ë¯€ë¡œ, message ë§Œ ì¶œë ¥í•˜ëŠ” í…œí”Œë¦¿ ì§€ì • # ì´ë¥¼ haproxy-info.log ì—ë§Œ ì ìš©í•œë‹¤. # ëª¨ë“  haproxy ë¥¼ ë‚¨ê¸°ë ¤ë©´ ë‹¤ìŒì„ ì£¼ì„í•´ì¬, ë‹¨ access log ê°€ ê¸°ë¡ë˜ë¯€ë¡œ, ì–‘ì´ ë§ë‹¤. #local0.* /var/log/haproxy/haproxy.log # local0.=info ëŠ” haproxy ì—ì„œ ì—ëŸ¬ë¡œ ì²˜ë¦¬ëœ ì´ë²¤íŠ¸ë“¤ë§Œ ê¸°ë¡í•˜ê²Œ ë¨ (í¬ë§· ì ìš©) local0.=info /var/log/haproxy/haproxy-info.log;Haproxy # local0.notice ëŠ” haproxy ê°€ ì¬ì‹œì‘ë˜ëŠ” ê²½ìš°ì™€ ê°™ì€ ì‹œìŠ¤í…œ ë©”ì„¸ì§€ë¥¼ ê¸°ë¡í•˜ê²Œë¨ (í¬ë§· ë¯¸ì ìš©) local0.notice /var/log/haproxy/haproxy-allbutinfo.log   logroate ì— haproxy ì„¤ì •ì„ ì¶”ê°€í•œë‹¤. /etc/logrotate.d/haproxy íŒŒì¼ì„ ë‹¤ìŒê³¼ ê°™ì´ êµ¬ì„±í•œë‹¤. haproxy ëŠ” ì¬ì‹œì‘í•  í•„ìš”ê°€ ì—†ìœ¼ë¯€ë¡œ rsyslog ë¥¼ ì¬ì‹œì‘í•´ì¤€ë‹¤.\n/var/log/haproxy/*log { daily rotate 90 create 0644 nobody nobody missingok notifempty compress sharedscripts postrotate /bin/systemctl restart rsyslog.service \u0026gt; /dev/null 2\u0026gt;/dev/null || true endscript }   ì„¤ì¹˜ í›„ê¸°  ìµìˆ™í•´ ì§€ëŠ”ë° ì‹œê°„ì´ ê±¸ë¦¬ê¸´ í–ˆì§€ë§Œ, ì„±ëŠ¥ë„ ì¢‹ê³  ì›í•˜ëŠ” ëŒ€ë¶€ë¶„ì˜ ê¸°ëŠ¥ì´ ì œê³µë˜ë¯€ë¡œ ë§Œì¡±ìŠ¤ëŸ¬ì› ë‹¤. ë‹¤ë§Œ ì„¤ì •ê³¼ ê´€ë ¨ëœ ë°©ì‹ì´ ì¹œì ˆí•˜ì§€ ëª»í•˜ë‹¤ê³  ëŠê»´ì§€ëŠ”ê±´ ë‹¨ìˆœíˆ ìµìˆ™í•˜ì§€ ì•ŠìŒ ë•Œë¬¸ì€ ì•„ë‹Œë“¯. ê·¸ë¦¬ê³  ì—¬ì „íˆ ë¬¸ì„œë¥¼ ì˜ ì½ì–´ì•¼ í•œë‹¤ëŠ” ìƒê°ì´ ë“ ë‹¤. íŠ¹íˆë‚˜ ì†ŒìŠ¤ ì••ì¶• í’€ê³  example í´ë” í•œë²ˆë§Œ ì£¼ì˜ ê¹Šê²Œ ë´¤ìœ¼ë©´ ê³ ìƒì„ ëœ í–ˆì„ í…ë° ì‹¶ë‹¤.  ì°¸ê³   https://cbonte.github.io/haproxy-dconv/1.8/configuration.html http://git.haproxy.org/?p=haproxy-1.8.git;a=blob_plain;f=contrib/systemd/haproxy.service.in https://www.upcloud.com/support/haproxy-load-balancer-centos/ http://blog.whitelife.co.kr/321 https://medium.com/@jinro4/%EA%B0%9C%EB%B0%9C-haproxy-%EC%84%A4%EC%B9%98-%EB%B0%8F-%EA%B8%B0%EB%B3%B8-%EC%84%A4%EC%A0%95-f4623815622 http://sseungshin.tistory.com/77 "
},
{
	"permalink": "https://findstar.pe.kr/tags/install/",
	"title": "install",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/elasticsearch/",
	"title": "ElasticSearch",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/2018/07/14/elasticsearch-wildcard-to-ngram/",
	"title": "ElasticSearch ì—ì„œ wildcard ì¿¼ë¦¬ ëŒ€ì‹  ngramì„ í™œìš©í•˜ëŠ” ë°©ë²•",
	"tags": ["ElasticSearch", "wildcard", "ngram", "Partial Matching", "match_phrase"],
	"description": "",
	"type": "post",
	"contents": "ElasticSearchë¥¼ ì‚¬ìš©í•˜ë©´ì„œ DSL ì„ êµ¬ì„±í•  ë•Œ, RDBMS ì˜ like \u0026quot;%keyword%\u0026quot; ì™€ ê°™ì€ ì¿¼ë¦¬ë¥¼ ëŒ€ì²´í•˜ê¸° ìœ„í•´ì„œ wildcard ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ë¥¼ ëª‡ë²ˆ ëª©ê²©í•˜ì˜€ë‹¤. ì´ ê²½ìš° ì›í•˜ëŠ” ê²°ê³¼ë¥¼ ì œëŒ€ë¡œ ì–»ì„ ìˆ˜ë„ ì—†ì„ ë¿ë”ëŸ¬, ì„±ëŠ¥ì˜ ë¬¸ì œê°€ ë°œìƒí•˜ê¸° ì‰¬ìš´ë°, ì´ë¥¼ ngram ìœ¼ë¡œ ëŒ€ì²´í•˜ì—¬ ì›í•˜ëŠ” ê²°ê³¼ë¥¼ ì–»ëŠ” ë°©ë²•ì„ í™•ì¸í•´ ë³´ì•˜ë‹¤.\nì½˜í…ì¸  ê²€ìƒ‰ì˜ ê²½ìš° ì‹œì˜ ë‚´ìš©ì„ DB ì™€ ElasticSearch ì— ì €ì¥í•˜ê³  ì¿¼ë¦¬ë¥¼ í†µí•´ì„œ ì›í•˜ëŠ” ì‹œì˜ ë³¸ë¬¸ ì „ì²´ ë‚´ìš©ì„ ì°¾ëŠ” ë°©ë²•ì„ ê°€ì •í•´ ë³´ì. ì €ì¥ëœ ë‚´ìš©ì€ ê¹€ì†Œì›”ì˜ ì§„ë‹¬ë˜ê½ƒ ì„ ì˜ˆì‹œë¡œ ê°€ì •í•´ë´¤ë‹¤.\nì§„ë‹¬ë˜ê½ƒ ë‚˜ ë³´ê¸°ê°€ ì—­ê²¨ì›Œ ê°€ì‹¤ ë•Œì—ëŠ” ë§ì—†ì´ ê³ ì´ ë³´ë‚´ ë“œë¦¬ìš°ë¦¬ë‹¤ ì˜ë³€ì— ì•½ì‚° ì§„ë‹¬ë˜ê½ƒ ì•„ë¦„ ë”°ë‹¤ ê°€ì‹¤ ê¸¸ì— ë¿Œë¦¬ìš°ë¦¬ë‹¤ ê°€ì‹œëŠ” ê±¸ìŒ ê±¸ìŒ ë†“ì¸ ê·¸ ê½ƒì„ ì‚¬ë¿íˆ ì¦ˆë ¤ë°Ÿê³  ê°€ì‹œì˜µì†Œì„œ ë‚˜ ë³´ê¸°ê°€ ì—­ê²¨ì›Œ ê°€ì‹¤ ë•Œì—ëŠ” ì£½ì–´ë„ ì•„ë‹ˆ ëˆˆë¬¼ í˜ë¦¬ìš°ë¦¬ë‹¤ RDBMS ì˜ ê²½ìš° ë¨¼ì € RDBMS ì˜ like \u0026quot;%keyword%\u0026quot; ì¿¼ë¦¬ë¥¼ ìƒê°í•´ ë³´ì, ê±¸ìŒ ì´ë¼ëŠ” í…ìŠ¤íŠ¸ê°€ í¬í•¨ë˜ì–´ ìˆëŠ” row ë¥¼ ì°¾ìœ¼ë ¤ë©´ ì•„ë˜ì²˜ëŸ¼ ì¿¼ë¦¬ë¥¼ í•˜ê²Œ ë˜ê² ë‹¤. ì´ëŸ° ì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ìˆœê°„ full text searching ì„ í•˜ê¸° ë•Œë¬¸ì— ê°€ê¸‰ì ì´ë©´ ì‚¬ìš©ì„ ì§€ì–‘í•´ì•¼í•  ì¿¼ë¦¬ì´ê¸´ í•˜ì§€ë§Œ, ì–´ì©” ìˆ˜ ì—†ì´ ì‚¬ìš©í•œë‹¤ê³  ê°€ì •í•˜ì.\nSELECT * FROM poems WHERE contents LIKE '%ê±¸ìŒ%' id | contents 1 \u0026quot;ì§„ë‹¬ë˜ê½ƒ ë‚˜ ë³´ê¸°ê°€ ì—­ê²¨ì›Œ ê°€ì‹¤ ë•Œì—ëŠ” ë§ì—†ì´ ê³ ì´ ë³´ë‚´ ë“œë¦¬ìš°ë¦¬ë‹¤ ì˜ë³€ì— ì•½ì‚° ì§„ë‹¬ë˜ê½ƒ ì•„ë¦„ ë”°ë‹¤ ê°€ì‹¤ ê¸¸ì— ë¿Œë¦¬ìš°ë¦¬ë‹¤ ê°€ì‹œëŠ” ê±¸ìŒ ê±¸ìŒ ë†“ì¸ ê·¸ ê½ƒì„ ì‚¬ë¿íˆ ì¦ˆë ¤ë°Ÿê³  ê°€ì‹œì˜µì†Œì„œ ë‚˜ ë³´ê¸°ê°€ ì—­ê²¨ì›Œ ê°€ì‹¤ ë•Œì—ëŠ” ì£½ì–´ë„ ì•„ë‹ˆ ëˆˆë¬¼ í˜ë¦¬ìš°ë¦¬ë‹¤\u0026quot; ElasticSearch ì˜ ê²½ìš° RDBMS ì—ì„œ ì²˜ëŸ¼ full text searching ì´ ê°€ëŠ¥í• ê²ƒìœ¼ë¡œ ê¸°ëŒ€í•˜ê³ , wildcard ì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•´ë³´ì.\ncurl -s http://my-elastic-cluster-host:9200/index-name/_search?pretty -XPOST -d ' { \u0026quot;query\u0026quot; : { \u0026quot;bool\u0026quot;: { \u0026quot;must\u0026quot;: { \u0026quot;wildcard\u0026quot;: { \u0026quot;contents\u0026quot;: \u0026quot;*ê±¸ìŒ*\u0026quot; } } } } }' ê²°ê³¼ëŠ” ì•„ë˜ì™€ ê°™ì€ í˜•íƒœê°€ ëœë‹¤.\n{ \u0026quot;took\u0026quot;: 230, \u0026quot;timed_out\u0026quot;: false, \u0026quot;_shards\u0026quot;: { \u0026quot;total\u0026quot;: 1, \u0026quot;successful\u0026quot;: 1, \u0026quot;skipped\u0026quot;: 0, \u0026quot;failed\u0026quot;: 0 }, \u0026quot;hits\u0026quot;: { \u0026quot;total\u0026quot;: 1, \u0026quot;max_score\u0026quot;: null, \u0026quot;hits\u0026quot;: [ { \u0026quot;_index\u0026quot;: \u0026quot;index-name\u0026quot;, \u0026quot;_type\u0026quot;: \u0026quot;poems\u0026quot;, \u0026quot;_id\u0026quot;: \u0026quot;1-1\u0026quot;, \u0026quot;_score\u0026quot;: null, \u0026quot;_source\u0026quot;: { \u0026quot;contents\u0026quot;: \u0026quot;ì§„ë‹¬ë˜ê½ƒ ë‚˜ ë³´ê¸°ê°€ ì—­ê²¨ì›Œ ê°€ì‹¤ ë•Œì—ëŠ” ë§ì—†ì´ ê³ ì´ ë³´ë‚´ ë“œë¦¬ìš°ë¦¬ë‹¤ ì˜ë³€ì— ì•½ì‚° ì§„ë‹¬ë˜ê½ƒ ì•„ë¦„ ë”°ë‹¤ ê°€ì‹¤ ê¸¸ì— ë¿Œë¦¬ìš°ë¦¬ë‹¤ ê°€ì‹œëŠ” ê±¸ìŒ ê±¸ìŒ ë†“ì¸ ê·¸ ê½ƒì„ ì‚¬ë¿íˆ ì¦ˆë ¤ë°Ÿê³  ê°€ì‹œì˜µì†Œì„œ ë‚˜ ë³´ê¸°ê°€ ì—­ê²¨ì›Œ ê°€ì‹¤ ë•Œì—ëŠ” ì£½ì–´ë„ ì•„ë‹ˆ ëˆˆë¬¼ í˜ë¦¬ìš°ë¦¬ë‹¤\u0026quot; } } ] } } ì›í•˜ëŠ”ëŒ€ë¡œ ì§„ë‹¬ë˜ê½ƒì„ ì˜ ì°¾ì•˜ë‹¤. ê·¸ëŸ¼ ì´ë²ˆì—ëŠ” í‚¤ì›Œë“œë¥¼ ë°”ê¿”ì„œ ë‚˜ ë³´ê¸°ê°€ ì—­ê²¨ì›Œë¼ëŠ” ë¬¸ì¥ì—ì„œ ê¸°ê°€ ë¼ëŠ” ë‹¨ì–´ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ê²€ìƒ‰í•´ ë³´ì.\n RDBMS  SELECT * FROM poems WHERE contents LIKE '%ê¸°ê°€%' ì—¬ì „íˆ ì•„ë˜ì™€ ê°™ì´ ì˜ ì°¾ëŠ”ë‹¤.\nid | contents 1 \u0026quot;ì§„ë‹¬ë˜ê½ƒ ë‚˜ ë³´ê¸°ê°€ ì—­ê²¨ì›Œ ê°€ì‹¤ ë•Œì—ëŠ” ë§ì—†ì´ ê³ ì´ ë³´ë‚´ ë“œë¦¬ìš°ë¦¬ë‹¤ ì˜ë³€ì— ì•½ì‚° ì§„ë‹¬ë˜ê½ƒ ì•„ë¦„ ë”°ë‹¤ ê°€ì‹¤ ê¸¸ì— ë¿Œë¦¬ìš°ë¦¬ë‹¤ ê°€ì‹œëŠ” ê±¸ìŒ ê±¸ìŒ ë†“ì¸ ê·¸ ê½ƒì„ ì‚¬ë¿íˆ ì¦ˆë ¤ë°Ÿê³  ê°€ì‹œì˜µì†Œì„œ ë‚˜ ë³´ê¸°ê°€ ì—­ê²¨ì›Œ ê°€ì‹¤ ë•Œì—ëŠ” ì£½ì–´ë„ ì•„ë‹ˆ ëˆˆë¬¼ í˜ë¦¬ìš°ë¦¬ë‹¤\u0026quot;  ElasticSearch  curl -s http://my-elastic-cluster-host:9200/index-name/_search?pretty -XPOST -d ' { \u0026quot;query\u0026quot; : { \u0026quot;bool\u0026quot;: { \u0026quot;must\u0026quot;: { \u0026quot;wildcard\u0026quot;: { \u0026quot;contents\u0026quot;: \u0026quot;*ê¸°ê°€*\u0026quot; } } } } }' ê·¸ëŸ°ë° ì´ë²ˆì—ëŠ” ì›í•˜ëŠ” ê²°ê³¼ë¥¼ ì°¾ì„ ìˆ˜ê°€ ì—†ë‹¤.\n{ \u0026quot;took\u0026quot;: 230, \u0026quot;timed_out\u0026quot;: false, \u0026quot;_shards\u0026quot;: { \u0026quot;total\u0026quot;: 1, \u0026quot;successful\u0026quot;: 1, \u0026quot;failed\u0026quot;: 0 }, \u0026quot;hits\u0026quot;: { \u0026quot;total\u0026quot;: 0, \u0026quot;max_score\u0026quot;: null, \u0026quot;hits\u0026quot;: [] } } ì™œ ê·¸ëŸ´ê¹Œ? ì´ ì°¨ì´ëŠ” ë°”ë¡œ wildcard ì¿¼ë¦¬ê°€ term level query ì´ê¸° ë•Œë¬¸ì´ë‹¤. ElasticSearchëŠ” ì‹¤ì œë¡œ ì €ì¥ëœ document ì˜ ì›ë¬¸ì„ ê²€ì‚¬í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, inverted index ì˜ ëª©ë¡ ì¤‘ì—ì„œ term(token) ì¤‘ì— ì¿¼ë¦¬ì—ì„œ ì§ˆì˜í•œ keywordë¥¼ ì°¾ê¸° ë•Œë¬¸ì´ë‹¤. (ì´ê±´ ì•„ì£¼ ê¸°ë³¸ì ì¸ ì‚¬í•­ì´ì§€ë§Œ, ìš°ë¦¬ëŠ” ì´ë¥¼ ê¸ˆë°© ê¹Œë¨¹ëŠ”ë‹¤\u0026hellip;)\nê·¸ëŸ¼ ì§„ë‹¬ë˜ê½ƒì€ ì–´ë–¤ token ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•´ ë³´ì.\ncurl -s http://my-elastic-cluster-host:9200/index-name/_analyze?pretty -XPOST -d ' \u0026quot;text\u0026quot;: \u0026quot;ì§„ë‹¬ë˜ê½ƒ ë‚˜ ë³´ê¸°ê°€ ì—­ê²¨ì›Œ ê°€ì‹¤ ë•Œì—ëŠ” ë§ì—†ì´ ê³ ì´ ë³´ë‚´ ë“œë¦¬ìš°ë¦¬ë‹¤ ì˜ë³€ì— ì•½ì‚° ì§„ë‹¬ë˜ê½ƒ ì•„ë¦„ ë”°ë‹¤ ê°€ì‹¤ ê¸¸ì— ë¿Œë¦¬ìš°ë¦¬ë‹¤ ê°€ì‹œëŠ” ê±¸ìŒ ê±¸ìŒ ë†“ì¸ ê·¸ ê½ƒì„ ì‚¬ë¿íˆ ì¦ˆë ¤ë°Ÿê³  ê°€ì‹œì˜µì†Œì„œ ë‚˜ ë³´ê¸°ê°€ ì—­ê²¨ì›Œ ê°€ì‹¤ ë•Œì—ëŠ” ì£½ì–´ë„ ì•„ë‹ˆ ëˆˆë¬¼ í˜ë¦¬ìš°ë¦¬ë‹¤\u0026quot;, \u0026quot;analyzer\u0026quot;: \u0026quot;my_custom_analyzer\u0026quot; }' token ì˜ ê²°ê³¼ë¥¼ ë³´ë©´ \u0026ldquo;*ê¸°ê°€*\u0026rdquo; ì™€ ë§¤ì¹­ë˜ëŠ” token ì´ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤. ë³´ê¸°ê°€ ë¼ëŠ” ë‹¨ì–´ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ë³´ê¸° ì˜ ë‹¨ì–´(word)ë¡œ tokenize ë˜ê¸° ë•Œë¬¸ì´ë‹¤. (ì–´ë–¤ analyzer ë¥¼ ì‚¬ìš©í•˜ëŠëƒëŠ” ì—¬ê¸°ì„œ ì–¸ê¸‰í•˜ì§€ ì•Šê² ë‹¤.)\n{ \u0026quot;tokens\u0026quot;: [ ....... { \u0026quot;token\u0026quot;: \u0026quot;ë³´ê¸°\u0026quot;, \u0026quot;start_offset\u0026quot;: 0, \u0026quot;end_offset\u0026quot;: 2, \u0026quot;type\u0026quot;: \u0026quot;VX\u0026quot;, \u0026quot;position\u0026quot;: 7 }, ....... ] } ë”°ë¼ì„œ ì²˜ìŒì— ìƒê°í•œ ê±¸ìŒ ì´ë¼ëŠ” ë‹¨ì–´ëŠ” ê²€ìƒ‰ì´ ë˜ì§€ë§Œ, ê¸°ê°€ ë¼ëŠ” ë‹¨ì–´ëŠ” ê²€ìƒ‰ì´ ë˜ì§€ ì•ŠëŠ”ë‹¤.\nê·¸ë ‡ë‹¤ë©´ ì´ë¥¼ ì–´ë–»ê²Œ í•´ê²°í•  ìˆ˜ ìˆì„ê¹Œ?  ì´ëŸ° ê²½ìš° ngramì„ ì‚¬ìš© í•˜ë©´ ëœë‹¤.\n mapping ì— nested êµ¬ì¡°ë¡œ ngram ì´ë¼ëŠ” í•„ë“œë¥¼ ì¶”ê°€í•´ë³´ì\nmappings ...... \u0026quot;mappings\u0026quot;: { \u0026quot;poems\u0026quot;: { // type name \u0026quot;properties\u0026quot;: { \u0026quot;contents\u0026quot;: { \u0026quot;type\u0026quot;: \u0026quot;text\u0026quot;, \u0026quot;fields\u0026quot;: { \u0026quot;ngram\u0026quot;: { \u0026quot;type\u0026quot;: \u0026quot;text\u0026quot;, \u0026quot;analyzer\u0026quot;: \u0026quot;my_customer_ngram_analyzer\u0026quot; } } } .... } } .... settings ...... \u0026quot;analyzer\u0026quot;: { \u0026quot;my_customer_ngram_analyzer\u0026quot;: { \u0026quot;tokenizer\u0026quot;: \u0026quot;my_customer_ngram_tokenizer\u0026quot; } }, \u0026quot;tokenizer\u0026quot;: { \u0026quot;my_customer_ngram_tokenizer\u0026quot;: { \u0026quot;type\u0026quot;: \u0026quot;ngram\u0026quot;, \u0026quot;min_gram\u0026quot;: \u0026quot;2\u0026quot;, \u0026quot;max_gram\u0026quot;: \u0026quot;5\u0026quot; } } ...... ì´ì œ ìƒˆë¡­ê²Œ documentë¥¼ ì¶”ê°€í•˜ë©´ contents.ngram ì´ë¼ëŠ” í•„ë“œì— token ì´ ë‹¤ë¥´ê²Œ ë‚˜ì˜¨ë‹¤. ë‹¤ì‹œ analyzer ê²°ê³¼ë¥¼ í™•ì¸í•´ ë³´ì.\ncurl -s http://my-elastic-cluster-host:9200/index-name/_analyze?pretty -XPOST -d ' \u0026quot;text\u0026quot;: \u0026quot;ì§„ë‹¬ë˜ê½ƒ ë‚˜ ë³´ê¸°ê°€ ì—­ê²¨ì›Œ ê°€ì‹¤ ë•Œì—ëŠ” ë§ì—†ì´ ê³ ì´ ë³´ë‚´ ë“œë¦¬ìš°ë¦¬ë‹¤ ì˜ë³€ì— ì•½ì‚° ì§„ë‹¬ë˜ê½ƒ ì•„ë¦„ ë”°ë‹¤ ê°€ì‹¤ ê¸¸ì— ë¿Œë¦¬ìš°ë¦¬ë‹¤ ê°€ì‹œëŠ” ê±¸ìŒ ê±¸ìŒ ë†“ì¸ ê·¸ ê½ƒì„ ì‚¬ë¿íˆ ì¦ˆë ¤ë°Ÿê³  ê°€ì‹œì˜µì†Œì„œ ë‚˜ ë³´ê¸°ê°€ ì—­ê²¨ì›Œ ê°€ì‹¤ ë•Œì—ëŠ” ì£½ì–´ë„ ì•„ë‹ˆ ëˆˆë¬¼ í˜ë¦¬ìš°ë¦¬ë‹¤\u0026quot;, \u0026quot;analyzer\u0026quot;: \u0026quot;my_customer_ngram_analyzer\u0026quot; }' ì´ë²ˆì—ëŠ” ë‹¨ì–´ë¥¼ í•˜ë‚˜í•˜ë‚˜ ìª¼ê°œì„œ ê¸¸ì´ 2 ~ ê¸¸ì´ 5ì‚¬ì´ì˜ token ìœ¼ë¡œ ë‚˜ë‰˜ì–´ì§„ë‹¤. ë³´ê¸°ê°€ ë¼ëŠ” ë‹¨ì–´ëŠ” ë³´ê¸°, ë³´ê¸°ê°€, ê¸°ê°€ ë¼ëŠ” ì„¸ê°œì˜ í† í°ìœ¼ë¡œ ë‚˜ë‰˜ì–´ ì¡Œë‹¤.\n{ \u0026quot;tokens\u0026quot;: [ ...... { \u0026quot;token\u0026quot;: \u0026quot;ë³´ê¸°\u0026quot;, \u0026quot;start_offset\u0026quot;: 0, \u0026quot;end_offset\u0026quot;: 2, \u0026quot;type\u0026quot;: \u0026quot;word\u0026quot;, \u0026quot;position\u0026quot;: 7 }, { \u0026quot;token\u0026quot;: \u0026quot;ë³´ê¸°ê°€\u0026quot;, \u0026quot;start_offset\u0026quot;: 0, \u0026quot;end_offset\u0026quot;: 3, \u0026quot;type\u0026quot;: \u0026quot;word\u0026quot;, \u0026quot;position\u0026quot;: 7 }, { \u0026quot;token\u0026quot;: \u0026quot;ê¸°ê°€\u0026quot;, \u0026quot;start_offset\u0026quot;: 1, \u0026quot;end_offset\u0026quot;: 3, \u0026quot;type\u0026quot;: \u0026quot;word\u0026quot;, \u0026quot;position\u0026quot;: 8 }, ...... } ì´ë ‡ê²Œ ngram ì„ ì„¤ì •í•˜ë©´ min, max ì˜ ì„¤ì •ì— ë”°ë¼ì„œ ë‚˜ë‰˜ëŠ” ê¸°ì¤€ì´ ë‹¬ë¼ì§„ë‹¤. ì‚¬ë‘í•©ë‹ˆë‹¤ ë¼ëŠ” ë‹¨ì–´ë¥¼ ngram ì˜ length ì— ë”°ë¼ì„œ ë‚˜ë‰˜ì–´ ë³´ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.\n Length 1 (unigram): [ ì‚¬, ë‘, í•©, ë‹ˆ, ë‹¤ ] Length 2 (bigram): [ ì‚¬ë‘, ë‘í•©, í•©ë‹ˆ, ë‹ˆë‹¤ ] Length 3 (trigram): [ ì‚¬ë‘í•©, ë‘í•©ë‹ˆ, í•©ë‹ˆë‹¤ ] Length 4 (four-gram): [ ì‚¬ë‘í•©ë‹ˆ, ë‘í•©ë‹ˆ ] Length 5 (five-gram): [ ì‚¬ë‘í•©ë‹ˆë‹¤ ]  ë³´ê¸°ê°€ ë¼ëŠ” ë‹¨ì–´ëŠ” ë‹¨ì–´ì˜ ê¸¸ì´ê°€ 3 ì´ê¸° ë•Œë¬¸ì— ì´ 6ê°œì˜ token ìœ¼ë¡œ ë‚˜ë‰˜ì–´ ì¡Œë‹¤. ì´ë ‡ê²Œ ë‹¨ì–´ì˜ ì¼ë¶€ë¶„ì„ ngram ìœ¼ë¡œ ì˜ë¼ë‚´ì„œ tokenize í•´ì„œ ë§¤ì¹­ ì‹œí‚¤ëŠ” ë°©ì‹ì„ partial matching ì´ë¼ê³  í•œë‹¤.\nì´ë ‡ê²Œ ngram ì„ ì‚¬ìš©í•˜ë„ë¡ ë³€ê²½í•˜ì˜€ìœ¼ë‹ˆ, ì¿¼ë¦¬ë¥¼ ìˆ˜ì •í•˜ì. wildcard ì¿¼ë¦¬ëŠ” ë¹¼ê³ , term ì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•˜ì.\ncurl -s http://my-elastic-cluster-host:9200/index-name/_search?pretty -XPOST -d ' { \u0026quot;query\u0026quot; : { \u0026quot;bool\u0026quot;: { \u0026quot;should\u0026quot; : [ {\u0026quot;term\u0026quot; : { \u0026quot;contents\u0026quot; : \u0026quot;ê¸°ê°€\u0026quot; } }, {\u0026quot;match_phrase\u0026quot; : { \u0026quot;contents.ngram\u0026quot; : \u0026quot;ê¸°ê°€\u0026quot; } } ], \u0026quot;minimum_should_match\u0026quot; : 1 } } }' ìœ„ì˜ ì¿¼ë¦¬ëŠ” contents ì˜ token ê³¼ contents.ngram ì˜ tokenì„ ì°¾ê²Œ ëœë‹¤. ì¿¼ë¦¬ ê²°ê³¼ëŠ” ì•„ë˜ì™€ ê°™ì´ ì •ìƒì ìœ¼ë¡œ ì›í•˜ëŠ” ë¬¸ì„œë¥¼ ì°¾ì„ ìˆ˜ ìˆë‹¤.\n{ \u0026quot;took\u0026quot;: 8, \u0026quot;timed_out\u0026quot;: false, \u0026quot;_shards\u0026quot;: { \u0026quot;total\u0026quot;: 1, \u0026quot;successful\u0026quot;: 1, \u0026quot;skipped\u0026quot;: 0, \u0026quot;failed\u0026quot;: 0 }, \u0026quot;hits\u0026quot;: { \u0026quot;total\u0026quot;: 1, \u0026quot;max_score\u0026quot;: null, \u0026quot;hits\u0026quot;: [ { \u0026quot;_index\u0026quot;: \u0026quot;index-name\u0026quot;, \u0026quot;_type\u0026quot;: \u0026quot;poems\u0026quot;, \u0026quot;_id\u0026quot;: \u0026quot;1-1\u0026quot;, \u0026quot;_score\u0026quot;: null, \u0026quot;_source\u0026quot;: { \u0026quot;contents\u0026quot;: \u0026quot;ì§„ë‹¬ë˜ê½ƒ ë‚˜ ë³´ê¸°ê°€ ì—­ê²¨ì›Œ ê°€ì‹¤ ë•Œì—ëŠ” ë§ì—†ì´ ê³ ì´ ë³´ë‚´ ë“œë¦¬ìš°ë¦¬ë‹¤ ì˜ë³€ì— ì•½ì‚° ì§„ë‹¬ë˜ê½ƒ ì•„ë¦„ ë”°ë‹¤ ê°€ì‹¤ ê¸¸ì— ë¿Œë¦¬ìš°ë¦¬ë‹¤ ê°€ì‹œëŠ” ê±¸ìŒ ê±¸ìŒ ë†“ì¸ ê·¸ ê½ƒì„ ì‚¬ë¿íˆ ì¦ˆë ¤ë°Ÿê³  ê°€ì‹œì˜µì†Œì„œ ë‚˜ ë³´ê¸°ê°€ ì—­ê²¨ì›Œ ê°€ì‹¤ ë•Œì—ëŠ” ì£½ì–´ë„ ì•„ë‹ˆ ëˆˆë¬¼ í˜ë¦¬ìš°ë¦¬ë‹¤\u0026quot; } } ] } } ì™€ì¼ë“œì¹´ë“œ ì¿¼ë¦¬ë¥¼ ì‚¬ìš©í–ˆì„ ë•ŒëŠ” ê²°ê³¼ê°€ 230 ms ì˜€ë‹¤ë©´, ngram ì„ ì‚¬ìš©í•˜ì—¬ ì¡°ì •í•œ ë’¤ì—ëŠ” 8 ms ê°€ ê±¸ë ¸ë‹¤.\në¡œê·¸ ë¶„ì„ì˜ ê²½ìš° nginx access log ë¥¼ ElasticSearch ë¥¼ ì €ì¥í•˜ê³  ì¡°íšŒ \u0026amp; ë¶„ì„í•˜ëŠ” ê²½ìš°ë¼ë©´ URL ì— ìˆ«ìì™€ ì•ŒíŒŒë²³ì´ ì¡°í•©ëœ, íŠ¹ìˆ˜í•œ ID ê°’ ê°™ì€ ì‹ë³„ìê°€ ë¶™ëŠ” ê²½ìš°ê°€ ë§ë‹¤. ì˜ˆë¥¼ ë“¤ë©´ ex) ?user=3FGAZS1032\u0026amp;key2=ssssss ë¼ê³  ê°€ì •í•´ë³´ì.. ì´ ê²½ìš° user ê°€ 3FGAZS1032 ì¸ ê²½ìš°ë¥¼ ì°¾ëŠ”ë‹¤ë©´ ë¬¸ì œ ì—†ê² ì§€ë§Œ, user ê°’ì— 3FGAZSê°€ ë“¤ì–´ê°€ëŠ” ê²½ìš°ë¥¼ ì°¾ëŠ”ë‹¤ë©´, ì›í•˜ëŠ” ê²°ê³¼ë¥¼ ì–»ê¸°ê°€ ì–´ë µë‹¤. ë§ˆì°¬ê°€ì§€ë¡œ ì´ ê²½ìš°ë„ ngram ì„ í†µí•œ tokenize ë¥¼ êµ¬ì„±í–ˆë‹¤ë©´ partial mathching ì´ ê°€ëŠ¥í•´ì ¸ ì›í•˜ëŠ” ë¬¸ì„œë¥¼ ì°¾ì„ ìˆ˜ ìˆë‹¤.\n3FGAZS1032 ë¼ëŠ” ë‹¨ì–´ê°€ analyze ê°€ ì–´ë–»ê²Œ ë˜ëŠ”ì§€ ì‚´í´ë³´ì\ncurl -s http://my-log-es-cluster-host:9200/log-2018.07.14/_analyze?pretty -XPOST -d ' { \u0026quot;text\u0026quot;: \u0026quot;3FGAZS1032\u0026quot;, \u0026quot;analyzer\u0026quot;: \u0026quot;log_analyzer\u0026quot; } token ì´ í•˜ë‚˜ë§Œ ë‚˜ì˜¨ë‹¤.\n{ \u0026quot;tokens\u0026quot;: [ { \u0026quot;token\u0026quot;: \u0026quot;3FGAZS1032\u0026quot;, \u0026quot;start_offset\u0026quot;: 0, \u0026quot;end_offset\u0026quot;: 10, \u0026quot;type\u0026quot;: \u0026quot;\u0026lt;ALPHANUM\u0026gt;\u0026quot;, \u0026quot;position\u0026quot;: 0 } ] } ì´ ìƒí™©ì—ì„œ \\*3FGAZS\\* ë¼ëŠ” ì™€ì¼ë“œì¹´ë“œ ì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆì§€ë§Œ ì‘ë‹µì†ë„ê°€ ëŠë¦¬ë‹¤. ê·¸ë ‡ì§€ë§Œ ngram ì„ êµ¬ì„±í•˜ë©´ í›¨ì”¬ ë¹ ë¥´ë‹¤.\ncurl -s http://my-log-es-cluster-host:9200/log-2018.07.14/_search?pretty -XPOST -d ' { \u0026quot;_source\u0026quot;: [\u0026quot;user\u0026quot;,\u0026quot;path\u0026quot;], \u0026quot;query\u0026quot; : { \u0026quot;bool\u0026quot;: { \u0026quot;must\u0026quot;: [ \u0026quot;term\u0026quot;: { \u0026quot;user.ngram\u0026quot;: \u0026quot;3FGAZS\u0026quot; }, \u0026quot;term\u0026quot;: { \u0026quot;path.keyword\u0026quot;: \u0026quot;/user/playground\u0026quot; } ] } } }' ê²°ê³¼ê°€ 1ms ê°€ ë‚˜ì™”ë‹¤.\n{ \u0026quot;took\u0026quot;: 1, \u0026quot;timed_out\u0026quot;: false, \u0026quot;_shards\u0026quot;: { \u0026quot;total\u0026quot;: 1, \u0026quot;successful\u0026quot;: 1, \u0026quot;skipped\u0026quot;: 0, \u0026quot;failed\u0026quot;: 0 }, \u0026quot;hits\u0026quot;: { \u0026quot;total\u0026quot;: 39, \u0026quot;max_score\u0026quot;: null, \u0026quot;hits\u0026quot;: [ { \u0026quot;_index\u0026quot;: \u0026quot;log-2018.07.14\u0026quot;, \u0026quot;_type\u0026quot;: \u0026quot;log\u0026quot;, \u0026quot;_id\u0026quot;: \u0026quot;3078923\u0026quot;, \u0026quot;_score\u0026quot;: null, \u0026quot;_source\u0026quot;: { \u0026quot;user\u0026quot;: \u0026quot;3FGAZS1032\u0026quot;, \u0026quot;path\u0026quot;: \u0026quot;/user/playground\u0026quot; } } ...... ] } } wildcard ëŒ€ì‹  ngram ì„ ë„ì…í•˜ì—¬ ì–»ì€ íš¨ê³¼  ë¨¼ì € token ì„ ê¸°ì¤€ìœ¼ë¡œ wildcard ì—ì„œ ëª»ì°¾ëŠ” documentë¥¼ ì°¾ì„ ìˆ˜ ìˆë‹¤. ë°˜ì‘ ì†ë„ê°€ ì—„ì²­ ë¹¨ë¼ì§„ë‹¤. (1ms ë¼ë‹ˆ..) ëŒ€ì‹  token ì˜ ê°¯ìˆ˜ê°€ ë§ì•„ì§€ê¸° ë•Œë¬¸ì— inverted index ì‚¬ì´ì¦ˆê°€ ëŠ˜ì–´ë‚œë‹¤.  ê²°ë¡  ElasticSearch ì¿¼ë¦¬ë¥¼ ì‘ì„±í•˜ë©´ì„œ wildcard ë¥¼ ì‚¬ìš©í•  ë•Œ RDBMS ì˜ like \u0026quot;%keyword%\u0026quot; ì™€ ê°™ì´ ì‚¬ìš©í•˜ê³ ì í•œë‹¤ë©´ ngram ì„ ì‚¬ìš©í•œ tokenize ë¥¼ ê³ ë ¤í•´ë³´ëŠ”ê²Œ ì¢‹ë‹¤. wildcard ëŠ” term(token) level query ì´ê³ , ì´ ì°¨ì´ì ì„ ì˜ ì•Œì•„ ë‘˜ í•„ìš”ê°€ ìˆë‹¤. ë”ë¶ˆì–´ ngram ê³¼ match_phrase ì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•˜ë©´ ê¸´ ë‹¨ì–´ë‚˜ ë¬¸ì¥ì„ ê²€ìƒ‰ í‚¤ì›Œë“œë¡œ ì¡°íšŒí•˜ë”ë¼ë„ ì›í•˜ëŠ” ë¬¸ì„œë¥¼ ì˜ ì°¾ì„ ìˆ˜ ìˆë‹¤(ì½˜í…ì¸  ê²€ìƒ‰ì˜ ê²½ìš°).\në§ ë¶™ì´ëŠ” ë§ í…ŒìŠ¤íŠ¸ì™€ ë”ë¶ˆì–´ ê°•ì§„ìš°ë‹˜ë‹˜ê»˜ì„œ ê´€ë ¨ ë‚´ìš©ì„ í•¨ê»˜ ê³ ë¯¼í•´ì£¼ê³  ë„ì›€ì„ ì£¼ì…¨ë‹¤.\n"
},
{
	"permalink": "https://findstar.pe.kr/tags/match_phrase/",
	"title": "match_phrase",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/ngram/",
	"title": "ngram",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/partial-matching/",
	"title": "Partial Matching",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/wildcard/",
	"title": "wildcard",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/2018/07/07/elasticsearch-reindex/",
	"title": "ElasticSearch ì—ì„œ reindex ì„ í™œìš©í•˜ëŠ” ë°©ë²•",
	"tags": ["ElasticSearch", "reindex"],
	"description": "",
	"type": "post",
	"contents": "ê·¸ëŸ´ ê²ƒ ê°™ì§€ ì•Šì§€ë§Œ, ElasticSearch ì—ì„œëŠ” reindexë¥¼ ìˆ˜í–‰í•  ì¼ì´ ë§ì´ ë°œìƒí•œë‹¤. reindexë¥¼ ì‹¤í–‰í• ë•Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì˜µì…˜ì„ í™•ì¸í•´ ë³´ì•˜ë‹¤.\nElasticSearch ë¥¼ ì‚¬ìš©í•˜ë©´ì„œ\n ì¸ë±ìŠ¤ì˜ mapping ì„ ìˆ˜ì •í•´ì•¼ í•˜ê±°ë‚˜, ì´ì „ ë²„ì „ (2.X, 5.X - Rolling upgrade ë¥¼ ì‚¬ìš©í•œ ë²„ì „ ì—…ê·¸ë ˆì´ë“œë¥¼ ì§€ì›í•˜ì§€ ì•ŠëŠ” ES) ì—ì„œ ìµœì‹  ë²„ì „ìœ¼ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜ í•´ì•¼ í•  ë•Œ, indexì˜ ì´ë¦„ ë³€ê²½ì´ í•„ìš”í•  ë•Œ (rename) - ì´ê²½ìš°ëŠ” ì£¼ë¡œ alias ë¥¼ ì˜ í™œìš©í•˜ì§€ ì•Šì„ ë•Œ ë°œìƒí•œë‹¤.  reindexë¥¼ ì‹¤í–‰í•  ì¼ì€ ìƒê°ë³´ë‹¤ ìì£¼ ë°œìƒí•œë‹¤.\nreindex ë€ ë§ ê·¸ëŒ€ë¡œ ì¸ë±ì‹±ì„ ìƒˆë¡œ í•œë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤. ê¸°ì¡´ì— ì¡´ì¬í•˜ëŠ” index ì—ì„œ ìƒˆë¡œìš´ indexë¡œ ë°ì´í„°ë¥¼ ìƒˆë¡­ê²Œ ìƒ‰ì¸í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.\në‚˜ì˜ ê²½ìš°ì—ëŠ” ì¿¼ë¦¬ë¥¼ ì¶”ê°€í•˜ëŠ” ê³¼ì •ì—ì„œ ê³¼ì •ì—ì„œ aggregation ì„ ìˆ˜í–‰í•´ì•¼ í•˜ëŠ”ë°, mappingì´ ì˜ëª» ì„¤ì • ë˜ì–´ ìˆë‹¤ë˜ê°€, ì´ì „ ë°ì´í„°ì˜ ë§ˆì´ê·¸ë ˆì´ì…˜ ê³¼ì •ì—ì„œ source í•„ë“œ ì¼ë¶€ë¥¼ ì œì™¸í•´ì•¼ í•˜ê±°ë‚˜ í•˜ëŠ” ë“±ì˜ ì¼€ì´ìŠ¤ì—ì„œ reindex ê°€ í•„ìš”í–ˆë‹¤.\nê¸°ë³¸ì ì¸ reindex ì‹¤í–‰í•˜ê¸° ë‹¤ìŒì€ ê°€ì¥ ê¸°ë³¸ì ì¸ reindex ì‹¤í–‰ë°©ë²•ì´ë‹¤. source ì— ê¸°ì¡´ì˜ index, dest ì— ìƒˆë¡­ê²Œ ì¸ë±ì‹±í•  index ì´ë¦„ì„ ì§€ì •í•œë‹¤.\ncurl -H 'Content-Type: application/json' -XPOST http://my-elasticsearch-host:9200/_reindex -d `{ \u0026quot;source\u0026quot;: { \u0026quot;index\u0026quot;: \u0026quot;old-index-name\u0026quot; }, \u0026quot;dest\u0026quot;: { \u0026quot;index\u0026quot;: \u0026quot;new-index-name\u0026quot; } }` ì´ë ‡ê²Œ í•˜ë©´ ë°ì´í„°ì˜ ì–‘ì— ë”°ë¼ì„œ ì‹œê°„ì´ ê±¸ë¦¬ê¸´ í•˜ì§€ë§Œ ì •ìƒì ìœ¼ë¡œ ì™„ë£Œë˜ë©´ ì•„ë˜ì™€ ê°™ì€ ì‘ë‹µì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n{ \u0026quot;took\u0026quot; : 147, // ì†Œìš”ëœ ì‹œê°„ (ms) \u0026quot;timed_out\u0026quot;: false, // timeout ì´ ë°œìƒí–ˆëŠ”ì§€ ì—¬ë¶€ \u0026quot;created\u0026quot;: 120, // ìƒˆë¡­ê²Œ ìƒì„±ëœ document ì˜ ê°¯ìˆ˜ \u0026quot;updated\u0026quot;: 0, \u0026quot;deleted\u0026quot;: 0, \u0026quot;batches\u0026quot;: 1, \u0026quot;version_conflicts\u0026quot;: 0, \u0026quot;noops\u0026quot;: 0, \u0026quot;retries\u0026quot;: { \u0026quot;bulk\u0026quot;: 0, \u0026quot;search\u0026quot;: 0 }, \u0026quot;throttled_millis\u0026quot;: 0, \u0026quot;requests_per_second\u0026quot;: -1.0, \u0026quot;throttled_until_millis\u0026quot;: 0, \u0026quot;total\u0026quot;: 120, // ì „ì²´ ì²˜ë¦¬ëœ document ê°¯ìˆ˜ \u0026quot;failures\u0026quot; : [ ] } ë‹¤ë¥¸ ES í´ëŸ¬ìŠ¤í„°ì˜ ë°ì´í„°ë¥¼ reindex í•˜ê¸° ê²½ìš°ì— ë”°ë¼ì„œëŠ” ì‹ ê·œ í´ëŸ¬ìŠ¤í„°ë¥¼ ìš´ì˜í•´ì•¼ í•´ì„œ, í¬ëŸ¬ìŠ¤í„° ë‚´ë¶€ì—ì„œ ìƒˆë¡­ê²Œ reindex í•˜ëŠ”ê²Œ ì•„ë‹ˆë¼, remote ì˜ ES í´ëŸ¬ìŠ¤í„°ì˜ ë°ì´í„°ë¥¼ reindex í•´ì•¼ ë  ìˆ˜ë„ ìˆë‹¤. ì´ëŸ´ ë•Œì—ëŠ” \u0026ldquo;source\u0026rdquo; ì— \u0026ldquo;remote\u0026rdquo; ë¥¼ ì§€ì •í•˜ë©´ ëœë‹¤.\ncurl -H 'Content-Type: application/json' -XPOST http://my-elasticsearch-host:9200/_reindex -d `{ \u0026quot;source\u0026quot;: { \u0026quot;index\u0026quot;: \u0026quot;old-index-name\u0026quot;, \u0026quot;remote\u0026quot;: { \u0026quot;host\u0026quot;: \u0026quot;http://my-old-es-cluster-host:9200\u0026quot;, \u0026quot;username\u0026quot;: \u0026quot;user\u0026quot;, \u0026quot;password\u0026quot;: \u0026quot;pass\u0026quot; }, }, \u0026quot;dest\u0026quot;: { \u0026quot;index\u0026quot;: \u0026quot;new-index-name\u0026quot; } }`  \u0026ldquo;remote\u0026rdquo; ì˜ index ë¥¼ reindex í•˜ê³ ì í•œë‹¤ë©´, ê¸°ì¡´ í´ëŸ¬ìŠ¤í„°ì˜ host ê°€ whitelist ì— ì¶”ê°€ë˜ì–´ ìˆì–´ì•¼ í•œë‹¤. (elasticsearch.yml)  reindex.remote.whitelist: \u0026quot;otherhost:9200, another:9200, 127.0.10.*:9200, localhost:*\u0026quot; ê¸°ì¡´ index ì˜ ì¼ë¶€ í•„ë“œë§Œ reindex í•˜ëŠ” ë°©ë²• ì¼ë¶€ í•„ë“œë§Œ reindex í•˜ê±°ë‚˜(includes), ë¶ˆí•„ìš”í•œ í•„ë“œëŠ” ì œì™¸ì‹œí‚¬ ìˆ˜ë„ ìˆë‹¤. (excludes)\ncurl -H 'Content-Type: application/json' -XPOST http://my-elasticsearch-host:9200/_reindex -d `{ \u0026quot;source\u0026quot;: { \u0026quot;index\u0026quot;: \u0026quot;old-index-name\u0026quot;, \u0026quot;_source\u0026quot;: { \u0026quot;includes\u0026quot;: [\u0026quot;field1\u0026quot;, \u0026quot;field2\u0026quot;] } }, \u0026quot;dest\u0026quot;: { \u0026quot;index\u0026quot;: \u0026quot;new-index-name\u0026quot; } }` ì „ì²´ ë°ì´í„°ê°€ ì•„ë‹ˆë¼, ì¼ë¶€ ë°ì´í„°ë§Œ reindex í•˜ëŠ” ë°©ë²• ì¿¼ë¦¬ë¥¼ ì§ˆì˜í•´ì„œ ê¸°ì¡´ index ì—ì„œ ì¼ë¶€ ë°ì´í„°ë§Œì„ reindex í•  ìˆ˜ë„ ìˆë‹¤. ì¼ë°˜ì ì¸ ì¿¼ë¦¬ì™€ ë§ˆì°¬ê°€ì§€ë¡œ size ë¥¼ ì§€ì •í•  ìˆ˜ë„ ìˆë‹¤.\ncurl -H 'Content-Type: application/json' -XPOST http://my-elasticsearch-host:9200/_reindex -d `{ \u0026quot;source\u0026quot;: { \u0026quot;index\u0026quot;: \u0026quot;old-index-name\u0026quot;, \u0026quot;_source\u0026quot;: { \u0026quot;includes\u0026quot;: [\u0026quot;field1\u0026quot;, \u0026quot;field2\u0026quot;] }, \u0026quot;size\u0026quot;: 10000, \u0026quot;query\u0026quot;: { \u0026quot;bool\u0026quot;: { \u0026quot;filter\u0026quot;: [ { \u0026quot;match_phrase\u0026quot;: { \u0026quot;field1\u0026quot;: \u0026quot;search_keyword\u0026quot; } }, { \u0026quot;range\u0026quot;: { \u0026quot;datetime\u0026quot;: { \u0026quot;gte\u0026quot;: \u0026quot;2018-07-05T05:05:54.000Z\u0026quot; } } } ] } } }, \u0026quot;dest\u0026quot;: { \u0026quot;index\u0026quot;: \u0026quot;new-index-name\u0026quot; } }` reindex ë¥¼ ì‹¤í–‰í•˜ë©´ í•œêº¼ë²ˆì— ë§ì€ ë°ì´í„°ë¥¼ ìƒˆë¡œ ì¸ë±ì‹± í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— ES í´ëŸ¬ìŠ¤í„°ì˜ ë¶€í•˜ê°€ ë†’ì•„ì§„ë‹¤. ì´ë¯¸ ë¶€í•˜ê°€ ë†’ì€ í´ëŸ¬ìŠ¤í„°ë¼ë©´, ì„±ëŠ¥ì— ì—¬ìœ ê°€ ìˆëŠ”ì§€ ì˜ ì‚´í´ì„œ ì‹¤í–‰í•˜ë„ë¡ í•˜ì. ê·¸ë¦¬ê³  ì´ì™•ì´ë©´ ì–¸ì œ í•„ìš”í• ì§€ ëª¨ë¥´ëŠ” reindex ì˜ ë¶€ë‹´ì„ ìµœì†Œí™” í•˜ê¸° ìœ„í•´ì„œë¼ë„ index ëŠ” ì˜ ìª¼ê°œì„œ alias ë¡œ ê´€ë¦¬í•˜ëŠ” ìŠµê´€ì„ ë“¤ì´ë„ë¡ í•˜ì.\nì°¸ê³   https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-reindex.html "
},
{
	"permalink": "https://findstar.pe.kr/tags/reindex/",
	"title": "reindex",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/2018/06/29/elasticsearch-template/",
	"title": "ElasticSearch ì—ì„œ template ì„ í™œìš©í•˜ëŠ” ë°©ë²•",
	"tags": ["ElasticSearch", "template", "mapping"],
	"description": "",
	"type": "post",
	"contents": "ElasticSearchë¥¼ ë¡œê·¸ ë¶„ì„ìš©ìœ¼ë¡œ ì‚¬ìš©í•  ë•Œ ì¸ë±ìŠ¤ì˜ mappingì€ templateì„ ì‚¬ìš©í•´ì„œ ìƒì„±ë˜ë„ë¡ ì„¤ì •í•˜ë©´ í¸ë¦¬í•˜ë‹¤.\në¡œê·¸ ë¶„ì„ìš©ìœ¼ë¡œ ElasticSearch ë¥¼ ì‚¬ìš©í•˜ë©´ ì£¼ë¡œ ì¸ë±ìŠ¤ëŠ” daily/weekly/monthly ì¤‘ì— í•˜ë‚˜ë¡œ êµ¬ì„±í•˜ëŠ”ê²Œ ì¼ë°˜ì ì´ë‹¤. ë™ì¼í•œ ìœ í˜•ì˜ ì¸ë±ìŠ¤ë¥¼ ê³„ì†í•´ì„œ ìƒì„±í•˜ê²Œ ë˜ëŠ”ë°, ì˜ˆë¥¼ ë“¤ìë©´ nginx logì˜ ì¸ë±ìŠ¤ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ìƒì„±í•œë‹¤ê³  í•´ë³´ì.\n nginx-access-log-2018.06.20 nginx-access-log-2018.06.21 nginx-access-log-2018.06.22 nginx-access-log-2018.06.23 \u0026hellip;  ìœ„ì™€ ê°™ì€ ì¸ë±ìŠ¤ë¥¼ ìë™ìœ¼ë¡œ ìƒì„±í•  ë•Œ ì‚¬ìš© í•  mappingì„ ë¯¸ë¦¬ ì§€ì •í•  ìˆ˜ ìˆëŠ”ë° ì´ ê¸°ëŠ¥ì´ ë°”ë¡œ template ì´ë‹¤.\ní…œí”Œë¦¿ ìƒì„±í•˜ê¸° ë‹¤ìŒì€ nginx-access-log ë¼ëŠ” í…œí”Œë¦¿ì„ ìƒì„±í•˜ëŠ” ê²ƒìœ¼ë¡œ, ì¸ë±ìŠ¤ê°€ nginx-access-* ì— í•´ë‹¹í•˜ëŠ” íŒ¨í„´ì´ë¼ë©´, ì§€ì •ëœ mapping ìœ¼ë¡œ ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•œë‹¤.\n## nginx-access-log í…œí”Œë¦¿ ìƒì„± curl -X \u0026quot;PUT\u0026quot; \u0026quot;http://my-elasticsearch-server-host:9200/_template/nginx-access-log\u0026quot; \\ -H 'Content-Type: application/json; charset=utf-8' \\ -d $'{ \u0026quot;index_patterns\u0026quot;: [ \u0026quot;nginx-access-*\u0026quot; ], \u0026quot;mappings\u0026quot;: { \u0026quot;log\u0026quot;: { // type name \u0026quot;properties\u0026quot;: { \u0026quot;ip\u0026quot;: { \u0026quot;type\u0026quot;: \u0026quot;text\u0026quot; }, \u0026quot;host\u0026quot;: { \u0026quot;type\u0026quot;: \u0026quot;keyword\u0026quot; }, \u0026quot;uri\u0026quot;: { \u0026quot;type\u0026quot;: \u0026quot;text\u0026quot; }, \u0026quot;datetime\u0026quot;: { \u0026quot;type\u0026quot;: \u0026quot;date\u0026quot; }, \u0026quot;@timestamp\u0026quot;: { \u0026quot;type\u0026quot;: \u0026quot;date\u0026quot; } } } ........ } }' setting ì„¤ì •í•˜ê¸° mapping ë¿ë§Œ ì•„ë‹ˆë¼ setting ë„ ì§€ì •í•  ìˆ˜ ìˆë‹¤.\ncurl -X \u0026quot;PUT\u0026quot; \u0026quot;http://my-elasticsearch-server-host:9200/_template/new-template-name\u0026quot; \\ -d $'{ \u0026quot;index_patterns\u0026quot;: [ \u0026quot;nginx-access-*\u0026quot; ], \u0026quot;settings\u0026quot;: { // setting \u0026quot;number_of_shards\u0026quot;: 1 }, \u0026quot;mappings\u0026quot;: { \u0026quot;type1\u0026quot;: { \u0026quot;properties\u0026quot;: { \u0026quot;host_name\u0026quot;: { \u0026quot;type\u0026quot;: \u0026quot;keyword\u0026quot; }, \u0026quot;created_at\u0026quot;: { \u0026quot;type\u0026quot;: \u0026quot;date\u0026quot;, \u0026quot;format\u0026quot;: \u0026quot;EEE MMM dd HH:mm:ss Z YYYY\u0026quot; } } } } }' ì—¬ëŸ¬ê°œì˜ íŒ¨í„´ ì§€ì •í•˜ê¸° ì¸ë±ìŠ¤ íŒ¨í„´ì„ ì—¬ëŸ¬ê°œë¥¼ ì§€ì •í•˜ê³ ì í•  ë•ŒëŠ” ë°°ì—´ ì•ˆì— ê³„ì† ì¶”ê°€í•˜ë©´ ëœë‹¤.\ncurl -X \u0026quot;PUT\u0026quot; \u0026quot;http://my-elasticsearch-server-host:9200/_template/new-template-name\u0026quot; \\ -d $'{ \u0026quot;index_patterns\u0026quot;: [ \u0026quot;pattern1*\u0026quot;, \u0026quot;pattern2*\u0026quot;, \u0026quot;pattern3*\u0026quot;, \u0026quot;pattern4*\u0026quot; ], \u0026quot;settings\u0026quot;: { // setting \u0026quot;number_of_shards\u0026quot;: 1 }, \u0026quot;mappings\u0026quot;: { \u0026quot;type1\u0026quot;: { \u0026quot;properties\u0026quot;: { \u0026quot;host_name\u0026quot;: { \u0026quot;type\u0026quot;: \u0026quot;keyword\u0026quot; }, \u0026quot;created_at\u0026quot;: { \u0026quot;type\u0026quot;: \u0026quot;date\u0026quot;, \u0026quot;format\u0026quot;: \u0026quot;EEE MMM dd HH:mm:ss Z YYYY\u0026quot; } } } } }' ì°¸ê³   https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-templates.html "
},
{
	"permalink": "https://findstar.pe.kr/tags/mapping/",
	"title": "mapping",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/template/",
	"title": "template",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/hugo/",
	"title": "hugo",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/jekyll-to-hugo/",
	"title": "jekyll to hugo",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/2018/06/25/jekyll-to-hugo-thoughts/",
	"title": "jekyll ì—ì„œ hugo ë¡œ ì „í™˜í•œ ì†Œê°",
	"tags": ["hugo", "jekyll to hugo", "migration"],
	"description": "",
	"type": "post",
	"contents": "ì‚¬ìš©í•˜ë˜ github pages ê¸°ë°˜ íˆ´ì„ jekyll ì—ì„œ hugo ë¡œ ì „í™˜í•´ë³´ì•˜ë‹¤. ì•„ë˜ëŠ” ê·¸ ê³¼ì •ì—ì„œ ëŠë‚€ ì ì„ ì •ë¦¬í•´ë³´ì•˜ë‹¤.\nì „í™˜í•˜ë©´ì„œ ëŠë‚€ ì  hugo ì „í™˜í•œ ì´ìœ  jekyll ì—ì„œ hugo ë¡œ ì „í™˜í•œ ì´ìœ ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.\n hugo ê°€ ë°˜ì‘ì†ë„ê°€ í›¨~~ì”¬ ë¹ ë¥´ë‹¤ëŠ” ê²ƒ. (jekyll ì€ 2 s, hugo ëŠ” 70ms ) theme ë¥¼ ì»¤ìŠ¤í„°ë§ˆì´ì§• í•˜ê¸°ê°€ ì†ì‰½ë‹¤ëŠ” ê²ƒ. ë§¤ë‰´ì–¼ì´ ì˜ êµ¬ì„±ë˜ì–´ ìˆê³ , ì‹¬ì§€ì–´ ì˜ìƒìœ¼ë¡œ ì†Œê°œí•´ì¤€ë‹¤ëŠ” ê²ƒ. ê·¸ë¦¬ê³  ë¬´ì—‡ë³´ë‹¤ jekyll-paginate v2 ë¥¼ ì“°ë‹¤ê°€ github page ì—ì„œ ë™ì‘ì„ ì•ˆí•´ì„œ.. (ì‚¬ì‹¤ ì´ê²Œ ì œì¼ í¬ë‹¤)  hugo ì—ì„œ ë¶ˆí¸í•œ ì   jekyll ì—ì„œëŠ” plugin ìœ¼ë¡œ êµ¬í˜„ ê°€ëŠ¥í•œ ê²ƒë“¤ì´ ì§ì ‘ í•¸ë“¤ë§ í•´ì¤˜ì•¼ í•˜ëŠ” ë¶€ë¶„ë“¤ì´ ìˆì—ˆë‹¤. github page ê°€ native ë¡œ ì—°ê²°ë˜ì§€ ì•Šì•„ì„œ ë³„ë„ë¡œ ê´€ë¦¬í•´ì£¼ì–´ì•¼ í•œë‹¤ëŠ” ì . í…œí”Œë¦¿ ë¬¸ë²•ì´ ìƒëŒ€ì ìœ¼ë¡œ ë‚¯ì„¤ì–´ì„œ ì ì‘í•˜ëŠ”ë° ì• ë¥¼ ë¨¹ì—ˆë‹¤. (RTFM)  ì „í™˜ ì‘ì—…í•˜ë©´ì„œ ì•Œì•„ì•¼ í–ˆë˜ ê²ƒë“¤   theme ëŠ” ë³„ë„ë¡œ êµ¬ì„±í•˜ëŠ”ê²Œ í¸í•˜ë‹¤\në§¤ë‰´ì–¼ì—ëŠ” ë³„ë„ì˜ theme í”„ë¡œì íŠ¸ë¥¼ git submodule ë¡œ ê´€ë¦¬í•˜ëŠ”ê±¸ ì•ˆë‚´í•˜ê³  ìˆë‹¤. ë‚´ ê²½ìš°ëŠ” ì•„ì˜ˆ ìƒˆë¡œ ë§Œë“¤ì—ˆë‹¤.\n  ê¸°ë³¸ í…œí”Œë¦¿\nhugo ì—ëŠ” list í…œí”Œë¦¿, single í…œí”Œë¦¿ ë‘ ê°€ì§€ê°€ ê¸°ë³¸ í…œí”Œë¦¿ì´ë‹¤. í…Œë§ˆë¥¼ êµ¬ì„±í•œë‹¤ë©´ ìš” ì°¨ì´ë¥¼ ëª…í™•í•˜ê²Œ êµ¬ë¶„í•˜ì.\n  pagination ì€ jekyll ì´ ë” í¸í•´ë³´ì¸ë‹¤.\n  seo, tag archive ê°™ì€ ê¸°ëŠ¥ì€ ë³„ë„ë¡œ custom page ë¥¼ ë§Œë“¤ì–´ì„œ ì“°ëŠ”ê²Œ í¸í–ˆë‹¤.\n  shortcode ë¼ëŠ” ë³„ë„ì˜ custom ë‹¨ì¶•ê¸°ëŠ¥ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤. ë‚´ ê²½ìš°ëŠ” CSS class ì™€ ë§ì¶”ê¸° ìœ„í•´ì„œ ì•„ë˜ì²˜ëŸ¼ êµ¬ì„±í•´ì„œ ì¼ë‹¤.\n\u0026lt;figure class=\u0026#34;full-width caption\u0026#34; {{ with .Get \u0026#34;border\u0026#34; }} style=\u0026#34;border: 1px solid #ededed;\u0026#34; {{ end }}\u0026gt; \u0026lt;img src=\u0026#34;{{ .Get \u0026#34;src\u0026#34; }}\u0026#34; alt=\u0026#34;{{ .Get \u0026#34;alt\u0026#34; }}\u0026#34;/\u0026gt; {{ with .Get \u0026#34;caption\u0026#34; }} \u0026lt;figcaption class=\u0026#34;caption-text\u0026#34;\u0026gt;{{ . }}\u0026lt;/figcaption\u0026gt; {{ end }} \u0026lt;/figure\u0026gt;   related post ë¥¼ êµ¬ì„±í•˜ëŠ” ê±´ ì˜µì…˜ì´ ë§ìœ¼ë‹ˆ ì…ë§›ì— ë§ê²Œ ì˜ ë§ì¶°ì•¼ í•œë‹¤.\n  ì „ì²´ì ì¸ ì†Œê° hugoëŠ” github page ë¥¼ ì§ì ‘ ì§€ì›í•˜ì§€ ì•Šì•„ì„œ ë³„ë„ì˜ build \u0026amp; push ë¥¼ í•´ì¤˜ì•¼ í•˜ì§€ë§Œ ì´ê±´ í¬ê²Œ ë¬¸ì œë˜ì§€ ì•ŠëŠ” ê²ƒ ê°™ë‹¤. ì˜¤íˆë ¤ ë¹¨ë¼ì§„ ë°˜ì‘ ì†ë„ê°€ ë” ì¾Œì í•œ ëŠë‚Œì´ ë“¤ê³ , ë¹ ë¥¸ ì—…ë°ì´íŠ¸ì™€ í•¨ê»˜ ë§¤ë‰´ì–¼ì´ ì˜ ë§ˆë ¨ë˜ì–´ ìˆë‹¤ëŠ” ì ì´ ê¸ì •ì ì´ë¼ê³  ëŠê»´ì§„ë‹¤. ì°”ë”ì°”ë” ë§ˆì´ê·¸ë ˆì´ì…˜ í•˜ëŠë¼ ì‹œê°„ì€ 2ì£¼ ì •ë„ ê±¸ë ¸ëŠ”ë° í•˜ê³ ë‚˜ë‹ˆ ì˜ í–ˆë‹¤ëŠ” ëŠë‚Œì´ë‹¤. ì´ì œëŠ” í…Œë§ˆëŠ” ê·¸ë§Œì¢€ ê³ ì¹˜ê³  ê¸€ì„ ì¢€ ë” ì¨ì•¼ í• í…ë°..\n"
},
{
	"permalink": "https://findstar.pe.kr/tags/migration/",
	"title": "migration",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/limit_req_zone/",
	"title": "limit_req_zone",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/nginx/",
	"title": "nginx",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/2018/06/24/nginx-rate-limiting/",
	"title": "nginx reverse proxyë¡œ ë™ì¼ IP ì¤‘ë³µ ìš”ì²­ ì œí•œ",
	"tags": ["nginx", "rate litmiting", "limit_req_zone"],
	"description": "",
	"type": "post",
	"contents": "Nginx ë¡œ reverse proxyë¥¼ êµ¬ì„±í•  ë•Œ ê³¼ë„í•œ ìš”ì²­ì— ëŒ€í•œ ì œí•œì„ ë‘ê¸° ìœ„í•´ì„œ limit_req ëª¨ë“ˆì„ ì ìš©í•´ë³´ì•˜ë‹¤.\nnginxì—ì„œ ì§€ì›í•˜ëŠ” limit_req ëª¨ë“ˆì„ ì‚¬ìš©í•˜ë©´, ë™ì¼í•œ IP ì—ì„œ ê³¼ë„í•œ ìš”ì²­ì´ ìœ ì…ë  ë•Œ, ì´ë¥¼ ì œí•œí•  ìˆ˜ ìˆë‹¤.\nLimit req ì„¤ì • limit_req_zone $binary_remote_addr zone=depend_rate_limit:10m rate=10r/s; # binary_remote_addr : í´ë¼ì´ì–¸íŠ¸ì˜ IPë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì œí•œí•˜ê² ë‹¤ëŠ” ì˜ë¯¸. # zone name : depend_rate_limit # share memory assign : 10M # rate : 10 request / second í•˜ë‚˜ì”© ì‚´í´ë³´ìë©´,  limit_req_zone ì´ë¼ëŠ” ê²ƒì€ ìš”ì²­-requestë¥¼ í™•ì¸í•˜ê³  ì´ë¥¼ ì œí•œí•˜ê¸° ìœ„í•´ì„œ íŠ¹ì •í•œ ì˜ì—­(zone)ì„ ì„ ì–¸í•œë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤. $binary_remote_addr ì€ nginx ì—ì„œ ê¸°ë³¸ì ìœ¼ë¡œ ì œê³µí•˜ëŠ” ë‚´ì¥ ë³€ìˆ˜ë¡œ, í´ë¼ì´ì–¸íŠ¸ì˜ IPë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì œí•œì„ í•˜ê² ë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤. zone=depend_dos ë¼ëŠ” ê²ƒì€ zone ì˜ ì´ë¦„ì„ ì„¤ì •í•˜ëŠ” ê²ƒìœ¼ë¡œ, zoneì˜ ì´ë¦„ì€ ì„ì˜ë¡œ ë³€ê²½ì´ ê°€ëŠ¥í•˜ë‹¤ 30m ì´ë¼ëŠ” ê²ƒì€ zoneì—ì„œ í™œìš©ê°€ëŠ¥í•œ share memory size ë¡œ. 10M ì •ë„ë©´ ì¶©ë¶„í•˜ë‹¤. rate ëŠ” ìš”ì²­-request ì˜ ë¹„ìœ¨ë¡œ, ì—¬ê¸°ì—ì„œëŠ” ì´ˆë‹¹ 10ê°œ ì´ìƒì˜ ìš”ì²­-request ì´ ìœ ì…ë˜ë©´ ì œí•œì„ í•˜ê² ë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤. (r/s, r/m ê°€ëŠ¥)  ì´ì œ ë‹¤ìŒê³¼ ê°™ì´ ì ìš©í•˜ë©´ ëœë‹¤. http { limit_req_zone $binary_remote_addr zone=depend_rate_limit:10m rate=10r/s; ... server { ... location / { ... limit_req zone=depend_rate_limit burst=5; } burst ë¥¼ ì ìš©í•œ ê²ƒì€ rate(ì—¬ê¸°ì„œëŠ” 10r/s) ì´ìƒì˜ request-ìš”ì²­ì— ëŒ€í•´ì„œ 5ê°œ ê¹Œì§€ëŠ” queueì— ë³´ê´€í•˜ë„ë¡ í•˜ê³ , ê·¸ ì´ìƒì€ ì—ëŸ¬ë¥¼ ë°˜í™˜í•˜ê²Œ í•œë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤.\nì—ëŸ¬ ë°˜í™˜ ê¸°ë³¸ì ìœ¼ë¡œ ì •ì˜í•œ rate ë¥¼ ë„˜ì–´ì„œëŠ” request-ìš”ì²­ì— ëŒ€í•´ì„œëŠ” 503 ì—ëŸ¬ë¥¼ ë°˜í™˜í•˜ëŠ”ë°. ì´ë¥¼ ë³€ê²½í•  ìˆ˜ ìˆë‹¤. 429 status codeëŠ” Too Many Requestsë¥¼ ì˜ë¯¸í•œë‹¤. ì°¸ê³ \n limit_req zone=depend_rate_limit burst=5 nodelay; limit_req_status 429; log level ì„¤ì • ì œí•œì— ê±¸ë¦° request-ìš”ì²­ì„ ê¸°ë¡í•  ë•Œ log level ì„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.\n limit_req zone=depend_rate_limit burst=5 nodelay; limit_req_status 429; limit_req_log_level error; ì œí•œì—ì„œ ì œì™¸í•  IP ì„¤ì • ì‹¤ì œë¡œ limit_req ëª¨ë“ˆì„ ì ìš©í•˜ê¸° ì „ì—, ë‚´ë¶€ ë„¤íŠ¸ì›Œí¬ ëŒ€ì—­ì´ë‚˜, íŠ¹ì • IPì— ëŒ€í•´ì„œëŠ” ì œí•œì„ ë‘ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤.\n geo $apply_limit { default $binary_remote_addr; 10.10.0.0/16 ''; # ë‚´ë¶€ ë„¤íŠ¸ì›Œí¬ ëŒ€ì—­ 10.10.*.* ì€ access limit ì‚¬ìš©ì•ˆí•¨ 211.33.188.246 ''; # ì™¸ë¶€ì˜ íŠ¹ì • IP 211.33.188.246 ëŠ” access limit ì‚¬ìš©ì•ˆí•¨ } ... ... limit_req_zone $apply_limit zone=depend_rate_limit:10m rate=10r/s; ... geo ëª¨ë“ˆì„ ì‚¬ìš©í•´ì„œ client ip ë¥¼ í™•ì¸í•´ì„œ $apply_limit ì´ë¼ëŠ” ë³€ìˆ˜ë¥¼ ìƒˆë¡­ê²Œ í• ë‹¹í–ˆë‹¤. 10.10.. ëŒ€ì—­ ì´ê±°ë‚˜, (ë‚´ë¶€ ë„¤íŠ¸ì›Œí¬ ëŒ€ì—­ì¸ ê²½ìš°), ì™¸ë¶€ì˜ íŠ¹ì • 211.33.188.246 ì¸ ê²½ìš°ì—ëŠ” ë¹ˆê°’ì´ ì§€ì •ëœë‹¤.\nì´ë ‡ê²Œ í•˜ê³  ë‚˜ì„œ limit_req_zone ì— ì •ì˜í•œ $apply_limit ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´, ì˜ˆì™¸ë¡œí•œ IP ì— ëŒ€í•´ì„œëŠ” ì ‘ì†ì œí•œì´ ë™ì‘í•˜ì§€ ì•ŠëŠ”ë‹¤.\nì°¸ê³   http://nginx.org/en/docs/http/ngx_http_limit_req_module.html https://sarc.io/index.php/nginx/99-2014-03-18-14-30-00 https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429 "
},
{
	"permalink": "https://findstar.pe.kr/tags/rate-litmiting/",
	"title": "rate litmiting",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/2018/06/03/change-alias-on-elasticsearch-index/",
	"title": "ElasticSearch ì—ì„œ Index Alias ë³€ê²½í•˜ê¸°",
	"tags": ["ElasticSearch", "index alias"],
	"description": "",
	"type": "post",
	"contents": "6ì›” 3ì¼ (ì¼) TIL ElasticSearch ì—ì„œ index ì˜ alias ë¥¼ ë³€ê²½í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë³´ì•˜ë‹¤.\nAlias í™•ì¸ ë¨¼ì € ElasticSearch í´ëŸ¬ìŠ¤í„°ì— /_alias ë¡œ ì ‘ì†í•˜ë©´ í˜„ì¬ ìƒì„±ëœ ì¸ë±ìŠ¤ ë“¤ê³¼ ì—°ê²°ëœ alias ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n{ \u0026#34;activity-log-index\u0026#34;: { \u0026#34;aliases\u0026#34;: { } }, \u0026#34;my-contents-index-v1\u0026#34;: { \u0026#34;aliases\u0026#34;: { \u0026#34;contents\u0026#34;: { } } }, \u0026#34;my-contents-index-v2\u0026#34;: { \u0026#34;aliases\u0026#34;: { } } } í˜„ì¬ my-contents-index-v1 ì´ë¼ëŠ” ì¸ë±ìŠ¤ì— contents ë¼ëŠ” alias ê°€ ë¶€ì—¬ë˜ì–´ ìˆë‹¤. ì´ë¥¼ my-contents-index-v2 ìœ¼ë¡œ êµì²´í•´ë³´ê² ë‹¤.\ncurl -XPOST 'http://my-elasticsearch-host:9200/_aliases?pretty' -d' { \u0026quot;actions\u0026quot; : [ { \u0026quot;remove\u0026quot; : { \u0026quot;index\u0026quot; : \u0026quot;my-contents-index-v1\u0026quot;, \u0026quot;alias\u0026quot; : \u0026quot;contents\u0026quot; } }, { \u0026quot;add\u0026quot; : { \u0026quot;index\u0026quot; : \u0026quot;my-contents-index-v2\u0026quot;, \u0026quot;alias\u0026quot; : \u0026quot;contents\u0026quot; } } ] }' í•œë²ˆì˜ ì¿¼ë¦¬ë¥¼ í†µí•´ì„œ my-contents-index-v1 ì—ì„œëŠ” alias ê°€ ì‚­ì œë˜ê³  my-contents-index-v2 ì—ëŠ” alias ê°€ ì¶”ê°€ë˜ì—ˆë‹¤.\nì´í›„ ë‹¤ì‹œ /_alias ë¡œ í™•ì¸í•´ë³´ë©´ ë³€ê²½ëœ ê²°ê³¼ë¥¼ í™•ì¸ê°€ëŠ¥í•˜ë‹¤\n{ \u0026quot;activity-log-index\u0026quot;: { \u0026quot;aliases\u0026quot;: { } }, \u0026quot;my-contents-index-v1\u0026quot;: { \u0026quot;aliases\u0026quot;: { } }, \u0026quot;my-contents-index-v2\u0026quot;: { \u0026quot;aliases\u0026quot;: { \u0026quot;contents\u0026quot;: { } } } } "
},
{
	"permalink": "https://findstar.pe.kr/tags/index-alias/",
	"title": "index alias",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/til/",
	"title": "Today I Learned",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": "Today I Learned\n"
},
{
	"permalink": "https://findstar.pe.kr/tags/filebeat/",
	"title": "filebeat",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/logstash/",
	"title": "logstash",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/2018/05/28/install-and_configuration-filebeat-logstash/",
	"title": "logstashì™€ filebeat ì„¤ì •í•˜ê¸°",
	"tags": ["ElasticSearch", "logstash", "filebeat", "install"],
	"description": "",
	"type": "post",
	"contents": "Elasticsearchì˜ ë²„ì „ì—…ì„ ì§€ì›í•˜ê¸° ìœ„í•´ì„œ logstash ì™€ filebeatë¥¼ ìƒˆë¡­ê²Œ ì„¤ì¹˜í•˜ê³  ì„¤ì •í•´ë³´ì•˜ë‹¤. ì§„í–‰í•œ ì‘ì—… ë‚´ìš©ì„ ì •ë¦¬ í•´ë³´ì•˜ë‹¤.\nì„œë²„ êµ¬ì„± ë¨¼ì € ì„œë²„ êµ¬ì„±ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.\n ElasticSearch í´ëŸ¬ìŠ¤í„°ê°€ ë³„ë„ë¡œ ì¡´ì¬ LogStash 1ëŒ€ ë‹¤ìˆ˜ì˜ ì›¹ì„œë²„ì— ê°ê° Filebeat ë¥¼ ì„¤ì¹˜.   filebeat filebeat ì„¤ì¹˜   filebeat ë¥¼ yumì„ í†µí•´ì„œ ì„¤ì¹˜\nsudo rpm --import https://packages.elastic.co/GPG-KEY-elasticsearch   /etc/yum.repods.d/elastic.repo ì¶”ê°€\n[elastic-6.x] name=Elastic repository for 6.x packages baseurl=https://artifacts.elastic.co/packages/6.x/yum gpgcheck=1 gpgkey=https://artifacts.elastic.co/GPG-KEY-elasticsearch enabled=1 autorefresh=1 type=rpm-md   yum ì„ í†µí•´ì„œ ì„¤ì¹˜\nyum install filebeat   filebeat ì„¤ì • filebeat ì—ì„œëŠ” json í˜•íƒœë¡œ logstash ì—ê²Œ ë°ì´í„°ë¥¼ ì „ë‹¬í•˜ê³ , ì´ë•Œ message í•„ë“œì— ìˆ˜ì§‘í•œ ë¡œê·¸ íŒŒì¼ì˜ ë°ì´í„°ê°€ ë‹´ê²¨ì§„ë‹¤. ìˆ˜ì§‘í•˜ë ¤ëŠ” log file ì˜ ìœ í˜•ì— ë”°ë¼ì„œ community beatsë¥¼ ì‚¬ìš©í•  ìˆ˜ë„ ìˆì§€ë§Œ, ë‚˜ì˜ ê²½ìš°ì—ëŠ” Custom patternì˜ ë¡œê·¸ íŒŒì¼ì„ ìˆ˜ì§‘í•  ì˜ˆì •ì´ë¼ logstashì—ì„œ pasring í•˜ëŠ” í˜•íƒœë¥¼ ì„ íƒí–ˆë‹¤. (ì§ì ‘ beatë¥¼ ë§Œë“¤ ìˆ˜ë„ ìˆë‹¤.ë§í¬, ì–¸ì–´ëŠ” golang.)\n /etc/filebeat/filebeat.yml íŒŒì¼ ë³€ê²½    filebeat.prospectors: # Each - is a prospector. Most options can be set at the prospector level, so # you can use different prospectors for various configurations. # Below are the prospector specific configurations. - type: log enabled: true paths: - /var/log/my_log_path/*.log fields: index_name: \"my_custom_file_index_name\" #----------Elasticsearch output--------------- ì£¼ì„ì²˜ë¦¬ # (beats ì—ì„œ ë°”ë¡œ ES ë¡œ ë°ì´í„° ì „ë‹¬í•˜ì§€ ì•ŠìŒ) #----------Logstash output ------------------- ì£¼ì„í•´ì œ # (beats ì—ì„œ logstash ë¡œ ë°ì´í„° ì „ë‹¬) output.logstash: # The Logstash hosts hosts: [\"my-logstash-server-host:5044\"] ...    ìˆ˜ì§‘í•  logë¥¼ ì •ì˜í•˜ê³  fields ë¥¼ ì¶”ê°€í•˜ì˜€ë‹¤. ì¶”ê°€í•œ fieldsëŠ” logstashì— ë³€ìˆ˜ë¡œ ì „ë‹¬ëœë‹¤. í•„ìš”í•œ ê²½ìš° ì—¬ëŸ¬ê°œë¥¼ ì¶”ê°€ í•  ìˆ˜ ìˆë‹¤.  filebeat ì‹¤í–‰ service filebeat start filebeat ë°ëª¬ ë¡œê·¸ í™•ì¸ tail -f /var/log/filebeat/filebeat filebeat ì—ì„œ file ì„ ë‹¤ì‹œ ì½ì–´ ë“¤ì–´ì•¼ í•˜ëŠ” ê²½ìš°   filebeat ëŠ” íŒŒì¼ì„ ì–´ë””ê¹Œì§€ ì½ì–´ ë“¤ì˜€ëŠ”ì§€ ë©”íƒ€ ì •ë³´ë¥¼ /var/lib/filebeat/registry íŒŒì¼ì— ê¸°ë¡í•˜ê³  ìˆë‹¤.\n  ë”°ë¼ì„œ ì´ ë©”íƒ€ ì •ë³´ë¥¼ ê°•ì œë¡œ reset í•˜ë ¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ í•˜ë©´ ëœë‹¤. (ê²½í—˜ì ìœ¼ë¡œ ì„¤ì¹˜ê°€ ì˜ ë˜ì—ˆëŠ”ì§€ í™•ì¸ë  ë•Œê¹Œì§€ëŠ” ë©”íƒ€ ì •ë³´ë¥¼ ì—¬ëŸ¬ë²ˆ reset í•´ì•¼í–ˆë‹¤.)\n  echo \u0026quot;[]\u0026quot; \u0026gt; /var/lib/filebeat/registry logstash logstash ì„¤ì¹˜  logstash ëŠ” Java ê°€ ì¤€ë¹„ëœ í™˜ê²½ì—ì„œ Download Linkì—ì„œ ë‹¤ìš´ë°›ì•„ì„œ ì„¤ì¹˜í–ˆë‹¤.  logstash plugin ì„¤ì¹˜  ì‚¬ìš©í•  í•„í„°ì¤‘ì—ì„œ bundle ë¡œ ì œê³µë˜ì§€ ì•ŠëŠ” alter ì„¤ì¹˜  bin/logstash-plugin install logstash-filter-alter Validating logstash-filter-alter Installing logstash-filter-alter Installation successful logstash ì— filter ì„¤ì •   grok, mutate, json, geoip, alter í•„í„°ë¥¼ ì„¤ì •í–ˆê³  filebeat ì—ì„œ fields ë¡œ ë„˜ê²¨ë°›ì€ index_nameì„ ì‚¬ìš©í–ˆë‹¤.\n  date í•„í„°ëŠ” ê¸°ì¤€ ì‹œê°ì„ filebeat ì— ì˜í•´ì„œ íŒŒì‹±ëœ ì‹œê°ì„ ì‚¬ìš©í•˜ì§€ ì•Šê³ , log ì— ê¸°ë¡ëœ ì‹œê°ìœ¼ë¡œ ì§€ì •í•˜ë„ë¡ í•œë‹¤.\ninput { beats { port =\u0026gt; \u0026#34;5044\u0026#34; } } filter { grok { match =\u0026gt; { \u0026#34;message\u0026#34; =\u0026gt; \u0026#34;%{TIMESTAMP_ISO8601:time}\\t%{DATA:tag}\\t{ % {DATA:data} }\u0026#34; } } mutate { add_field =\u0026gt; { \u0026#34;json_data\u0026#34; =\u0026gt; \u0026#34;{ %{data}}\u0026#34; } } json { source =\u0026gt; \u0026#34;json_data\u0026#34; } if [fields][index_name] == \u0026#34;qna5\u0026#34; { geoip { source =\u0026gt; \u0026#34;remote_addr\u0026#34; } } alter { remove_field =\u0026gt; [ \u0026#34;data\u0026#34;, \u0026#34;json_data\u0026#34; ] } date { match =\u0026gt; [ \u0026#34;time\u0026#34;, \u0026#34;yyyy-MM-dd\u0026#39;T\u0026#39;HH:mm:ssZZ\u0026#34; ] } } output { elasticsearch { hosts =\u0026gt; \u0026#34;my-elastcisearch-server-host:9200\u0026#34; index =\u0026gt; \u0026#34;%{[fields][index_name]}-%{+YYYY.MM.dd}\u0026#34; document_type =\u0026gt; \u0026#34;%{[fields][index_name]}\u0026#34; } } # debug ë¥¼ ìœ„í•´ì„œëŠ” ì•„ë˜ì˜ ì¶œë ¥ìœ¼ë¡œ ì¡°ì •.  #output {  # stdout { codec =\u0026gt; json }  #}     logstash ì‹¤í–‰ nohup logstash/bin/logstash -f logstash.conf \u0026gt; /var/log/logstash/logstash.out elasticsearch í™•ì¸  ì¸ë±ìŠ¤ì™€ ë°ì´í„°ê°€ ì œëŒ€ë¡œ ë“¤ì–´ì˜¤ëŠ”ì§€ í™•ì¸í•˜ë©´ ëœë‹¤.  ì°¸ê³   https://www.elastic.co/guide/en/beats/filebeat/current/setup-repositories.html http://yongho1037.tistory.com/709 http://dgkim5360.tistory.com/entry/managing-multiple-heterogeneous-inputs-on-filebeat-and-logstash http://blog.plura.io/?p=3363 https://www.elastic.co/guide/en/beats/filebeat/current/configuration-filebeat-options.html#_literal_tags_literal https://github.com/logstash-plugins/logstash-patterns-core/blob/master/patterns/grok-patterns (grok íŒ¨í„´ ëª¨ìŒ) https://grokdebug.herokuapp.com/ (grok íŒ¨í„´ ì‚¬ìš©ì‹œ í…ŒìŠ¤íŠ¸) https://www.elastic.co/blog/geoip-in-the-elastic-stack (geoip ì‚¬ìš©) "
},
{
	"permalink": "https://findstar.pe.kr/2018/05/13/upload-file-on-curl/",
	"title": "CURL ì—ì„œ íŒŒì¼ ì—…ë¡œë“œ í•˜ê¸°",
	"tags": ["curl", "file upload"],
	"description": "",
	"type": "post",
	"contents": "5ì›” 13ì¼ (ìˆ˜) TIL ì‘ì„±í•œ APIë¥¼ í…ŒìŠ¤íŠ¸ í•˜ê¸° ìœ„í•´ì„œ Postman ì´ë‚˜ Pawë¥¼ ì£¼ë¡œ ì‚¬ìš©í•˜ëŠ”ë°, CURLì„ ì‚¬ìš©í•´ì„œ CLIì—ì„œ í…ŒìŠ¤íŠ¸í•´ì•¼ ë˜ëŠ” ê²½ìš°ë„ ì¢…ì¢… ìˆë‹¤. ìƒˆë¡­ê²Œ APIë¥¼ í…ŒìŠ¤íŠ¸ í•˜ë˜ ì¤‘ CURLì„ ì‚¬ìš©í•´ì„œ íŒŒì¼ ì—…ë¡œë“œ APIë¥¼ í…ŒìŠ¤íŠ¸ í•˜ëŠ” ë°©ë²•ì„ í™•ì¸í•´ ë´¤ë‹¤.\nê¸°ë³¸ ì‚¬ìš©ë²• ë¨¼ì € íŒŒì¼ì„ ì—…ë¡œë“œ í•˜ëŠ” requestë¥¼ ìœ„í•´ì„œëŠ” multipart/form-data í˜•ì‹ìœ¼ë¡œ ë³´ë‚´ì•¼ í•˜ëŠ”ë° ì´ë¥¼ ìœ„í•´ì„œ ì‚¬ìš©í•  CURL ì˜µì…˜ì€ -F(--form) ì´ë‹¤. (ëŒ€ë¬¸ì!!) ê·¸ë¦¬ê³  íŒŒì¼ì˜ pathë¥¼ ì§€ì •í•´ì„œ ë³´ë‚´ë©´ ëœë‹¤.\n$ curl -F â€˜file1=@/upload/file/pathâ€™ http://file.testApi.com ì—¬ëŸ¬ê°œ íŒŒì¼ ì „ì†¡ ì—¬ëŸ¬ê°œì˜ íŒŒì¼ì„ ë³´ë‚´ì•¼ í•˜ëŠ” ê²½ìš°ì—ëŠ” -F ì˜µì…˜ì„ ì—°ì†í•´ì„œ ì‚¬ìš©í•˜ë©´ ëœë‹¤.\n$ curl -F â€˜file1=@/upload/file1/pathâ€™ -F â€˜file2=@/upload/file2/pathâ€™ http://file.testApi.com íŒŒì¼ë³€ìˆ˜ê°€ ë°°ì—´ì¸ ê²½ìš° ê°€ë”ì”© ìˆ˜ì‹ í•˜ëŠ” ì„œë²„ì˜ íŒŒì¼íŒŒë¼ë¯¸í„°ê°€ ë°°ì—´ì—° ê²½ìš°ë„ ìˆë‹¤ ì´ ê²½ìš°ëŠ” ì•„ë˜ì²˜ëŸ¼ í•˜ë©´ ëœë‹¤.\n$ curl -F â€˜file[]=@/upload/file1/pathâ€™ -F â€˜file[]=@/upload/file2/pathâ€™ http://file.testApi.com ë‹¤ë¥¸ ë³€ìˆ˜ê°’ í•¨ê»˜ ì „ë‹¬ íŒŒì¼ê³¼ í•¨ê»˜ ë‹¤ë¥¸ ì¸ìë¥¼ ê°™ì´ ë„˜ê²¨ì¤˜ì•¼ ë˜ëŠ” ê²½ìš°ë„ ìˆëŠ”ë° ì´ëŸ´ ë•ŒëŠ” path í˜•íƒœê°€ ì•„ë‹Œ(@ ê°€ ì—†ëŠ”) í˜•íƒœë¡œ ë³´ë‚´ë©´ ëœë‹¤.\n$ curl -F â€˜file1=@/upload/file/pathâ€™ -F 'userId=1' -F 'title=test' http://file.testApi.com filename ì§€ì • íŒŒì¼ì¸ìë§ê³ , ì›ë˜ì˜ íŒŒì¼ì´ë¦„ì„ ëª…ì‹œí•˜ê¸°ë¥¼ ì›í•  ìˆ˜ë„ ìˆë‹¤.\n$ curl -F â€˜file1=@/upload/file/path;filename=Profile1.pngâ€™ http://file.testApi.com ì°¸ê³  : https://medium.com/@petehouston/upload-files-with-curl-93064dcccc76\n"
},
{
	"permalink": "https://findstar.pe.kr/tags/file-upload/",
	"title": "file upload",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/spring-boot/",
	"title": "spring boot",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/2018/05/02/start-spring-boot-1/",
	"title": "Spring Boot ë§¤ë‰´ì–¼ ë½€ê°œê¸° 1",
	"tags": ["study", "spring boot"],
	"description": "",
	"type": "post",
	"contents": "ê´€ë¦¬í•˜ë˜ Spring í”„ë¡œì íŠ¸ë¥¼ ë²„ì „ì—…ê³¼ í•¨ê»˜ Gradle ë° Boot ê¸°ë°˜ìœ¼ë¡œ ì „í™˜í•˜ê³ ì í•˜ëŠ” ì´ìŠˆê°€ ìˆì–´ íšŒì‚¬ ë™ë£Œë¶„ê³¼ í•¨ê»˜ Spring Boot ë¥¼ ì°¨ê·¼ì°¨ê·¼ í•™ìŠµí•´ë³´ê¸°ë¡œ í–ˆë‹¤. Spring Boot ë¥¼ ì¢€ ë” ì˜ ì´í•´í•´ì•¼ê² ë‹¤ëŠ” ë§ˆìŒì— ì‹œì‘í–ˆëŠ”ë°, ì•¼ì‹¬ì°¨ê²Œ \u0026ldquo;Spring Boot ë§¤ë‰´ì–¼ ë½€ê°œê¸°!\u0026quot; ë¼ê³  ìŠ¤í„°ë”” ì œëª©ì„ ì •í–ˆë‹¤. (ê³¼ì—°..)\nìŠ¤í„°ë””ë¥¼ ì–´ë–¤ ë°©ì‹ìœ¼ë¡œ ì§„í–‰í• ê¹Œ ê³ ë¯¼í•˜ë‹¤ê°€ ë°±ê¸°ì„ ë‹˜ì˜ ìœ íŠœë¸Œë¥¼ ì°¸ê³ í•´ì„œ ì˜ìƒê³¼ í•¨ê»˜ ë§¤ë‰´ì–¼ì„ í›‘ì–´ ë³´ìëŠ” ì•„ì´ë””ì–´ê°€ ë‚˜ì™”ê³ , ë‚˜ì˜ì§€ ì•Šê² ë‹¤ ì‹¶ì–´ì„œ ê·¸ë ‡ê²Œ í•˜ê¸°ë¡œ í–ˆë‹¤. ì¼ì •ì€ í•œë‹¬ ì•ˆì— í•„ìš”í•œ ê¸°ëŠ¥ë“¤ì„ í™•ì¸í•˜ëŠ” ê±¸ë¡œ ì •í–ˆë‹¤. ì–´ì°¨í”¼ ìŠ¤í„°ë”” ë©¤ë²„ëŠ” ì™„ì „ ì´ˆì‹¬ìê°€ ì•„ë‹ˆê¸° ë•Œë¬¸ì—, ê²°êµ­ ëŒ€ìƒì€ : ìë°” ìŠ¤í”„ë§ì„ ì‚¬ìš©í•´ë³¸ ê²½í—˜ì´ ìˆìœ¼ë©°, í”„ë ˆì„ì›Œí¬ ë° ê°œë°œ ê²½í—˜ì´ ì¢€ ìˆëŠ” ì‚¬ëŒì´ ë˜ì—ˆë‹¤. Getting Startedë¥¼ ê¸°ì¤€ìœ¼ë¡œ ìœ íŠœë¸Œ ì˜ìƒì€ ì•Œì•„ì„œ ì±™ê²¨ë³´ë©´ ë  ê²ƒ ê°™ê³ , ìœ íŠœë¸Œìƒì—ì„œëŠ” ì˜ ë‹¤ë£¨ì§€ ì•ŠëŠ” Gradle ë§Œ ì¡°ê¸ˆ ë” ì„œë¡œ ë‚´ìš©ì„ ë³´ê°•í•˜ê¸°ë¡œ í–ˆë‹¤. (ì´ë ‡ê²Œ ë§í•˜ì§€ë§Œ, ì‚¬ì‹¤ ë‚œ ë°›ì•„ë¨¹ëŠ” ìª½.. ì£¼ë„ëŠ” ë™ë£Œë¶„ê»˜ì„œ..)\nì˜¤ëŠ˜ì€ ê·¸ ì²«ë²ˆì§¸ ê¸°ë¡ì´ë‹¤.\nì²«ë²ˆì§¸ ë‚ ì´ë¯€ë¡œ, ê¸°ë³¸ì ì¸ ë§¤ë‰´ì–¼ í˜ì´ì§€ë¥¼ í›‘ì–´ë³´ê³ , ëª©ì°¨ë¥¼ í™•ì¸í•˜ê³ , í•œë‹¬ê°„ ì§„í–‰í•  ë¶„ëŸ‰ì„ ëŒ€ëµ ê°€ëŠ í•´ ë³´ì•˜ë‹¤. ë¨¼ì € Getting Started í˜ì´ì§€ì˜ ëª©ì°¨ì¸ë°, ëª©ì°¨ë¥¼ ë³´ê³  ëŠë‚€ê±´, ë§¤ë‰´ì–¼ì— í•„ìš”í•œê±´ ì™ ë§Œí¼ ë‹¤ ìˆê¸° ë•Œë¬¸ì—, ë§¤ë‰´ì–¼ë§Œ ì˜ ë³´ë©´ ëŒ€ëµì ì¸ êµ¬ë™ë°©ì‹ê³¼ ê¸°ëŠ¥ì„ íŒŒì•…í•˜ëŠ”ë° ë¬¸ì œê°€ ì—†ê² ë‹¤ëŠ” ìƒê°ì´ì—ˆë‹¤. ê·¸ë ‡ì§€ë§Œ ë‹¤ë“¤ ë§¤ë‰´ì–¼ì„ ì˜ í™•ì¸ ì•ˆí•˜ëŠ”ê²Œ ë¬¸ì œë‹¤.(RTFM)\nI. Spring Boot Documentation II. Getting Started III. Using Spring Boot IV. Spring Boot features V. Spring Boot Actuator: Production-ready features VI. Deploying Spring Boot Applications VII. Spring Boot CLI VIII. Build tool plugins IX. â€˜How-toâ€™ guides X. Appendices I. Spring Boot Documentation ëŠ” ê°œê´„ì ì¸ ì†Œê°œì´ë‹¤. 1. ì´ ë¬¸ì„œì— ëŒ€í•´ì„œ ì„¤ëª… HTML, PDF, EPUB ìœ¼ë¡œ í™•ì¸ê°€ëŠ¥í•˜ë‹¤ëŠ” ì•ˆë‚´\n2. ë„ì›€ì´ í•„ìš”í•  ë•Œ ë‹¤ìŒì„ ì°¸ê³ í•˜ì„¸ìš”.  spring.io stackoverflow github issue  3. ì²«ë²ˆì§¸ë¡œ í• ì¼  ì†Œê°œ, ì‹œìŠ¤í…œ í•„ìš”ì‚¬í•­, ì„¤ì¹˜í•˜ê¸°ë¥¼ í™•ì¸í•˜ê³  íŠœí† ë¦¬ì–¼1, íŠœí† ë¦¬ì–¼2ë¥¼ ì§„í–‰í•´ë³´ì. ì˜ˆì œ1, ì˜ˆì œ2  4. Spring Boot ì™€ ë™ì‘í•˜ëŠ” ê²ƒë“¤  Build System: ë©”ì´ë¸, ê·¸ë˜ë“¤, Ant, Starter - ìš”ê±´ Bootì—ì„œ ì†Œê°œí•˜ëŠ” ê²ƒ. Best practices : ì½”ë“œ êµ¬ì¡°, @Configuration ì–´ë…¸í…Œì´ì…˜, @EnableAutoConfiguration ì–´ë…¸í…Œì´ì…˜, ë¹ˆê³¼ ì˜ì¡´ì„± ì£¼ì… ì½”ë“œ ì‹¤í–‰ë°©ë²• : IDE, íŒ¨í‚¤ì§€, ë©”ì´ë¸, ê·¸ë˜ë“¤ íŒ¨í‚¤ì§• : ì‹¤ì„œë²„ìš© JAR íŒ¨í‚¤ì§• Spring Boot CLI  5. Spring Boot ì˜ ê¸°ëŠ¥ë“¤  í•µì‹¬ ê¸°ëŠ¥ : Spring Application, External Configuration, Profiles, Logging ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ : MVC, Embedded Container SQL , NO-SQL Messaging : JMS, RabbitMQ, Kafka ë“±.. Testing Extending  6. ì‹¤ì„œë¹„ìŠ¤ì—ì„œ í™œìš©í•˜ê¸°  Endpoing ê´€ë¦¬ HTTP / JMX Monitoring : Metrics, Audting, Tracing, Process  7. ê¸°íƒ€ í† í”½  Boot Application ë°°í¬ : í´ë¼ìš°ë“œ. ë¹Œë“œ íˆ´ í”ŒëŸ¬ê·¸ì¸ : ë©”ì´ë¸, ê·¸ë˜ë“¤  II. Getting Started ì„ ì°¸ê³ í•´ì„œ í”„ë¡œì íŠ¸ë¥¼ ì‹¤í–‰í•´ ë³¸ë‹¤. 8. Spring Boot ì†Œê°œí•˜ê¸° Spring Boot ëŠ” ì†ì‰½ê²Œ ë‹¨ë…ìœ¼ë¡œ ì‹¤í–‰ê°€ëŠ¥(standalone)í•œ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“¤ ìˆ˜ ìˆë„ë¡ ë„ì™€ì¤ë‹ˆë‹¤. ë˜í•œ ì‹¤í–‰ê°€ëŠ¥í•œ jar í˜•íƒœë¡œ íŒ¨í‚¤ì§•ë  ìˆ˜ ìˆê³ , ì´ë¥¼ ë„ì™€ì£¼ê¸° ìœ„í•œ CLIë„ ì œê³µí•©ë‹ˆë‹¤.\n ìŠ¤í”„ë§ ê°œë°œìë¥¼ ìœ„í•œ ë¹ ë¥´ê³ , ì†ì‰¬ìš´ ì ‘ê·¼ì´ ê°€ëŠ¥ ê²½í—˜ì„ ì œê³µí•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤. ë³„ë‹¤ë¥¸ ì„¤ì •ì—†ì´ë„ êµ¬ë™ì´ ê°€ëŠ¥í•œ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‘ì€ ê·œëª¨ì—ì„œ ë¶€í„° í° í”„ë¡œì íŠ¸ì— ì´ë¥´ê¸° ê¹Œì§€ ìˆ˜ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. XML ì„¤ì •ì„ ìœ„í•œ ì½”ë“œ ìƒì„±ì´ë‚˜ í•„ìš”ì‚¬í•­ì„ ê°€ì§€ì§€ ì•ŠìŠµë‹ˆë‹¤.  9. ì‹œìŠ¤í…œ ìš”êµ¬ì‚¬í•­ Spring Boot 2.0.1 ë²„ì „ì€ Java 8 ë˜ëŠ” 9 ê·¸ë¦¬ê³  ìŠ¤í”„ë§í”„ë ˆì„ì›Œí¬ 5.0.5 ì´ìƒì„ í•„ìš”ë¡œ í•˜ê³ . ë¹Œë“œíˆ´ì€ ë©”ì´ë¸ 3.2+, ê·¸ë˜ë“¤4ë¥¼ ì§€ì›í•œë‹¤.\n10. ì„œë¸”ë¦¿ : ë‹¤ìŒì˜ embedded ì„œë¸”ë¦¿ì„ ì œê³µí•œë‹¤. ì„œë¸”ë¦¿ 3.1 ì´ìƒì„ ì§€ì›í•˜ëŠ” ì»¨í…Œì´ë„ˆë“¤ì„ ì§€ì›í•œë‹¤\n Tomcat 8.5 Jetty 9.4 Undertow 1.4  11. ì„¤ì¹˜í•˜ê¸°   ì„¤ì¹˜ëŠ” ì—¬ëŸ¬ê°€ì§€ ë°©ë²•ì´ ìˆëŠ”ë° ì¼ë‹¨ ë¨¼ì € mavan ê¸°ë°˜ìœ¼ë¡œ ì‹œì‘í•´ ë³´ë„ë¡ í•œë‹¤.\n  ë¨¼ì € ë‚´ê°€ ì‚¬ìš©í•˜ëŠ” IntelliJ ì—ì„œ new project ë¥¼ ì„ íƒí•˜ê³  maven í”„ë¡œì íŠ¸ë¥¼ ì„ íƒí•˜ì\n  ê·¸ ë‹¤ìŒ groupid ex) com.example, artifactid ex) demo ë¥¼ ì§€ì •í•˜ê³ \n  Next ë¥¼ ëˆŒëŸ¬ project name ê³¼ í”„ë¡œì íŠ¸ê°€ ì €ì¥ë  ìœ„ì¹˜ë¥¼ ì§€ì •í•œë‹¤.\n  ì´ì œ pom.xml íŒŒì¼ì— parent, dependencies, build ë¥¼ ì¶”ê°€í•´ì„œ ë‹¤ìŒì²˜ëŸ¼ êµ¬ì„±í•˜ì.\n\u0026lt;?xml version=\u0026quot;1.0\u0026quot; encoding=\u0026quot;UTF-8\u0026quot;?\u0026gt; \u0026lt;project xmlns=\u0026quot;http://maven.apache.org/POM/4.0.0\u0026quot; xmlns:xsi=\u0026quot;http://www.w3.org/2001/XMLSchema-instance\u0026quot; xsi:schemaLocation=\u0026quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\u0026quot;\u0026gt; \u0026lt;modelVersion\u0026gt;4.0.0\u0026lt;/modelVersion\u0026gt; \u0026lt;groupId\u0026gt;com.example\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;demo\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.0-SNAPSHOT\u0026lt;/version\u0026gt; \u0026lt;!-- Inherit defaults from Spring Boot --\u0026gt; \u0026lt;parent\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-starter-parent\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;2.0.1.RELEASE\u0026lt;/version\u0026gt; \u0026lt;/parent\u0026gt; \u0026lt;!-- Add typical dependencies for a web application --\u0026gt; \u0026lt;dependencies\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-starter-web\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;/dependencies\u0026gt; \u0026lt;!-- Package as an executable jar --\u0026gt; \u0026lt;build\u0026gt; \u0026lt;plugins\u0026gt; \u0026lt;plugin\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-maven-plugin\u0026lt;/artifactId\u0026gt; \u0026lt;/plugin\u0026gt; \u0026lt;/plugins\u0026gt; \u0026lt;/build\u0026gt; \u0026lt;/project\u0026gt;   pom.xml íŒŒì¼ ì—ì„œ spring-boot-starter-parent ì„ ì…ë ¥í•  ë•Œ ë²„ì „ì„ ì§€ì •í•˜ë©´, í•˜ìœ„ ex) spring-boot-starter-web ì—ì„œë„ ë™ì¼í•œ ë²„ì „ì„ ë”°ë¥¸ë‹¤.\n  IDE ì˜ View - Tool windows - Maven project viewë¥¼ ì—´ì–´ì„œ maven reimport ë¥¼ ì‹¤í–‰í•˜ì. maven ì˜ì¡´ íŒ¨í‚¤ì§€ë“¤ì„ ë‹¤ìš´ë°›ëŠ”ë‹¤.\n  src/main/java/com.example/ ìœ„ì¹˜ì— Application.java íŒŒì¼ì„ ìƒˆë¡­ê²Œ ì‘ì„±í•˜ì\npackage com.example; import org.springframework.boot.*; import org.springframework.boot.autoconfigure.*; import org.springframework.web.bind.annotation.*; @RestController @EnableAutoConfiguration public class Application { @RequestMapping(\u0026quot;/\u0026quot;) String home() { return \u0026quot;Hello World!\u0026quot;; } public static void main(String[] args) throws Exception { SpringApplication.run(Application.class, args); } }   maven project view ì—ì„œ run maven build ë¥¼ ì‹¤í–‰í•´ì„œ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰ì‹œì¼œ ë³´ì http://localhsot:8080 ì—ì„œ Hello world ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n  ì–´ë…¸í…Œì´ì…˜ì„ ì¡°ê¸ˆ ì‚´í´ë³´ë©´, @RequestMapping ì–´ë…¸í…Œì´ì…˜ì€ ë¼ìš°íŒ… ì •ë³´ë¥¼ ì œê³µí•œë‹¤.\n  @RestController ì–´ë…¸í…Œì´ì…˜ì€ ì½œëŸ¬ì—ì„œ ì§ì ‘ ê²°ê³¼ ë¬¸ìì—´ì„ ëŒë ¤ì£¼ë„ë¡ ìŠ¤í”„ë§ì—ê²Œ ì§€ì‹œí•œë‹¤. ì´ ë‘˜ì€ spring MVC ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ MVC ì„¹ì…˜ì—ì„œ ë” ìì„¸íˆ ë³´ë„ë¡ í•œë‹¤.\n  @EnableAutoConfiguration ì–´ë…¸í…Œì´ì…˜ì€ ì¶”ê°€í•œ jarë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì–´ë–»ê²Œ ìŠ¤í”„ë§ì„ ì„¤ì •í•  ê²ƒì¸ì§€ ìŠ¤í”„ë§ ë¶€íŠ¸ê°€ ì¶”ì¸¡í•˜ë„ë¡ ì§€ì‹œí•œë‹¤. spring-boot-stater-webì€ í†°ìº£, ìŠ¤í”„ë§ MVCë¥¼ ì¶”ê°€í•˜ê¸° ë•Œë¬¸ì— ìë™-ì„¤ì •ì€ ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ê°œë°œí•œë‹¤ê³  ì˜ˆìƒí•˜ê³ , ê·¸ì— ë”°ë¼ ìŠ¤í”„ë§ì„ set up í•œë‹¤.\n  ì´ì œ ì´ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ íŒ¨í‚¤ì§• í•´ë³´ì. maven project view ì—ì„œ Lifecycle \u0026gt; package ë¥¼ ì‹¤í–‰í•˜ë©´ ì‹¤í–‰ê°€ëŠ¥í•œ jar íŒŒì¼ì´ target ë””ë ‰í† ë¦¬ ë°ì— ìƒì„±ëœë‹¤.\n  console ì—ì„œ java -jar target/demo-1.0-SNAPSHOT.jar ë¼ê³  ì…ë ¥í•´ë³´ì. maven project ì—ì„œ ì‹¤í–‰í•œ ê²°ê³¼ì™€ ë™ì¼í•œ ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ êµ¬ë™ëœë‹¤.\n  ì¼ë‹¨ ì²«ë‚ ì€ ìš”ì •ë„ì˜ ë‚´ìš©ì„ ì§„í–‰í•´ë³´ì•˜ê³ , ì´í›„ì— ì°¨ê·¼ì°¨ê·¼ ë‹¤ë¥¸ ë‚´ìš©ì„ ì‚´í´ë³¼ ì˜ˆì •ì´ë‹¤. ì²«ë‚ ì—ëŠ” maven ìœ¼ë¡œ ì‹œì‘í–ˆì§€ë§Œ ì•ìœ¼ë¡œì˜ ëª©í‘œëŠ” gradleì„ ì¶”ê°€ì ìœ¼ë¡œ ì ìš©í•´ë³´ë„ë¡ í•˜ê² ë‹¤.\nTo be continue..\nì°¸ê³   Spring Boot Getting Started "
},
{
	"permalink": "https://findstar.pe.kr/tags/study/",
	"title": "study",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/ansible/",
	"title": "ansible",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/2018/04/04/ansible-awx-installation/",
	"title": "Ansible AWX ë¥¼ ì„¤ì¹˜í•´ë³´ê¸°",
	"tags": ["ansible", "awx", "installation", "ansible tower"],
	"description": "",
	"type": "post",
	"contents": "Ansible AWS ì„¤ì¹˜í•´ë³´ê¸° ë°°ê²½ ansibleì„ íŒ€ì—ì„œ ì‚¬ìš©í•˜ë©´ì„œ, ëª‡ê°€ì§€ ì´ëŸ°ê²Œ ìˆì—ˆìœ¼ë©´ í•˜ëŠ” ì ì´ ìˆì—ˆëŠ”ë°, ê·¸ ì¤‘í•˜ë‚˜ê°€ ë°”ë¡œ GUI í™˜ê²½ì´ë‹¤. ë¬¼ë¡  CLI ì½˜ì†” ìƒì—ì„œ playbookì„ ì‹¤í–‰í•˜ëŠ”ë°ëŠ” ì•„ë¬´ ë¬¸ì œê°€ ì—†ê³  ì˜ ì‚¬ìš©í•˜ê³  ìˆì§€ë§Œ, GUIì—ì„œë„ ë³´ê¸° ì‰½ê²Œ playbookì„ ì‹¤í–‰í•˜ê³  ë˜í•œ ëˆ„ê°€ ì–¸ì œ playbookì„ ì‹¤í–‰í–ˆëŠ”ì§€ ê¸°ë¡ë˜ë©´ ì¢‹ê² ë‹¤ëŠ” ë°”ë¨ì´ ìˆì—ˆë‹¤. Ansible TowerëŠ” ì´ëŸ¬í•œ ë°”ë¨ì„ í•´ì†Œì‹œì¼œ ì¤„ ìˆ˜ ìˆëŠ” ëŒ€ì•ˆì´ë¼ê³  ìƒê°ì´ ë˜ì§€ë§Œ, ë¼ì´ì„¼ìŠ¤ ë¹„ìš©ì´ ë¹„ì‹¸ê¸°ë¡œ ìœ ëª…(?) í•´ì„œ, í¬ê¸°í•˜ê³  ìˆì—ˆëŠ”ë°. Redhatì—ì„œ Ansible Tower ì˜ ì˜¤í”ˆì†ŒìŠ¤ ë²„ì „ìœ¼ë¡œ Ansible AWXë¥¼ ë°œí‘œí–ˆë‹¤! (ëŒ€ì¸ë°°\u0026hellip;Redhat.)\níŠ¹ì§• AWX(Townerì˜ ì˜¤í”ˆì†ŒìŠ¤ ë²„ì „)ëŠ” stanaloneìœ¼ë¡œ êµ¬ë™í•˜ë©°, job(playbook) ì— ëŒ€í•œ ìˆ˜í–‰ history, ì‚¬ìš©ìë³„ ê¶Œí•œì œì–´, GUI, ìŠ¤ì¼€ì¤„ë§ì„ í†µí•œ ì‹¤í–‰ ê¸°ëŠ¥ë“±ì„ ì œê³µí•œë‹¤.\n   ì ‘ê·¼ ê¶Œí•œ ì œì–´ ì‚¬ìš©ì ë° íŒ€ì„ êµ¬ì„±í•˜ê³  ê¶Œí•œì„ ì„¤ì •í•˜ì—¬ ì—‘ì„¸ìŠ¤ë¥¼ ì œí•œí•  ìˆ˜ ìˆë‹¤.     ìŠ¤ì¼€ì¤„ë§ ì‘ì—… ì¼ì •ì„ ì˜ˆì•½í•˜ê³  ë°˜ë³µ ì˜µì…˜ì„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤ .     ê°€ì‹œì„± ë™ì‘ì¤‘ì¸ job ê³¼ jobì˜ ìƒíƒœ, ë‚´ì—­ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.     ì¸ë²¤í† ë¦¬ ëŒ€ìƒ ì„œë²„ë“¤ì˜ êµ¬ì„± ë° dynamic inventory ë¥¼ ì‚¬ìš©í•˜ì—¬ í´ë¼ìš°ë“œì—ì„œ ë™ì ìœ¼ë¡œ ìƒì„±ë˜ê³  ì‚­ì œë˜ëŠ” ì„œë²„ë“¤ì˜ listë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤.    ë‹¨ì¼ ì‹œìŠ¤í…œìœ¼ë¡œ êµ¬ë™ë˜ëŠ”ë° ì‚¬ìš©ëœ ê¸°ìˆ ì€ ë‹¤ìŒê³¼ ê°™ë‹¤\n Django Angular JS 1.* Pgsql RabbitMQ memcached  ì´ˆê¸° ë°œí‘œ ë•Œ ë¶€í„° Github Repoë¥¼ ë³´ë©´ì„œ ë²„ì „ì—…ê³¼ ì´ìŠˆë“¤ì„ ì‚´í´ë³´ì•˜ëŠ”ë°, ì´ˆê¸°ì—ëŠ” install guideê°€ ë¶€ì‹¤í•´ì„œ ì‚½ì§ˆì´ ë§ì•˜ë‹¤. 1.0.3 ë¶€í„° dockerë¥¼ í†µí•œ ì„¤ì¹˜ê°€ ì¢€ ë” ê°„í¸í•´ì¡Œê¸° ë•Œë¬¸ì—, ì´ ë²„ì „ë¶€í„°ëŠ” ê·¸ëƒ¥ docker êµ¬ì„±ìœ¼ë¡œ ì„¤ì¹˜ë¥¼ ì§„í–‰í–ˆë‹¤. AWXì—ì„œëŠ” ì™„ì„±ëœ docker-compose.yml íŒŒì¼ì„ ì œê³µí•´ì£¼ì§€ ì•Šê¸° ë•Œë¬¸ì—, ê°ì¢… ì„¤ì •ì„ êµ¬ì„±í•˜ê³ , ìì²´ì ìœ¼ë¡œ ì œê³µë˜ëŠ” playbookì„ ì‹¤í–‰í•˜ë©´ docker-compose íŒŒì¼ì´ ìƒì„±ë˜ëŠ” êµ¬ì¡°ì´ë‹¤. ë‹¤ìŒì€ Centos 7.4 ì—ì„œ AWXì˜ ì„¤ì¹˜ ê³¼ì •ì„ ê¸°ë¡í•œ ê²ƒì´ë‹¤.\nì„¤ì¹˜  í•„ìš”í•œ package ì„¤ì¹˜  $ sudo yum -y install epel-release $ sudo yum -y install git gettext ansible docker nodejs npm gcc-c++ bzip2 $ sudo yum -y install python-docker-py  docker ë°ëª¬ ì‹œì‘  $ sudo systemctl start docker $ sudo systemctl enable docker  awx clone  $ git clone https://github.com/ansible/awx.git $ cd awx/installer/   inventory í¸ì§‘ (í•µì‹¬!!!)\n ì„¤ì¹˜í•˜ë ¤ëŠ” í™˜ê²½ì´ proxyë¥¼ í†µí•´ì„œ ì™¸ë¶€ì— ì—‘ì„¸ìŠ¤ í•œë‹¤ë©´ : host_port, http_proxy, https_proxy, no_proxy ì„¤ì •ì„ ìì²´ í™˜ê²½ì— ë§ê²Œ ë³€ê²½í•œë‹¤. postgres_data_dir ìœ„ì¹˜ ë³€ê²½ : ì´ˆê¸°ì— /tmp ë¡œ ì¡í˜€ ìˆëŠ”ë° ì´ë¥¼ ê·¸ëŒ€ë¡œ ë‘ê³  ì„¤ì¹˜í•˜ë©´, ì²˜ìŒì—ëŠ” ì˜ ëœ¨ì§€ë§Œ, OS ê°€ ì„ì‹œë””ë ‰í† ë¦¬ë¥¼ ì •ë¦¬í•´ë²„ë¦¬ë©´ DB Dataê°€ ë‚ ì•„ê°€ ì‘ì—…í•œ ë°ì´í„°ë¥¼ ìƒì–´ë²„ë¦¬ëŠ” ì‚¬íƒœê°€.. use_docker_compose=true : installer playbook ì„ ì‹¤í–‰í•˜ì—¬ ë‚˜ì˜ í™˜ê²½ì— ë§ì¶°ì§„ docker-compose.yml íŒŒì¼ì„ ìƒì„±í•˜ëŠ”ê²ƒì„ enable í•˜ëŠ” ì˜µì…˜. ì´í›„ì—ëŠ” docker-composeë¥¼ í†µí•´ì„œ ì»¨í…Œì´ë„ˆë¥¼ ì œì–´í•˜ì. docker_compose_dir=/var/lib/awx : docker-composeë¥¼ ì‚¬ìš©í•˜ê¸°ë¡œ í–ˆë‹¤ë©´, docker-compose.yml íŒŒì¼ì´ ìƒì„±ë  ë””ë ‰í† ë¦¬ë¥¼ ì§€ì •í•´ì•¼í•œë‹¤. dockerhub_version : docker hub ì—ì„œ ë°›ì•„ì˜¬ awx ë²„ì „ì´ë‹¤. latest ìœ¼ë¡œ ì§€ì •ë˜ì–´ ìˆëŠ”ë°. ì•„ì§ì€ ì•ˆì •í™”ê°€ ëœë˜ì–´ ìˆëŠ”ê²ƒ ê°™ì•„ì„œ ê°€ê°‘ì  íƒœê·¸ë¥¼ ì§€ì •í•´ì„œ ì“´ë‹¤. (í˜„ì¬ ìµœì‹ ì€ Docker Hubì—ì„œ í™•ì¸)    ë‹¤ìŒì€ ë‚´ê°€ ì„¤ì •í•œ ë‚´ì—­ì´ë‹¤.\n  dockerhub_version=1.0.4.83 postgres_data_dir=/var/awx/pgdocker use_docker_compose=true docker_compose_dir=/var/lib/awx  ì´ì œ playbookì„ ì‹¤í–‰í•´ì„œ AWXë¥¼ ì„¤ì¹˜í•œë‹¤.  ansible-playbook -i inventory install.yml  docker_compose_dir ë¡œ ì´ë™í•´ë³´ë©´ docker-compose.yml íŒŒì¼ì´ ìƒì„±ë˜ì—ˆë‹¤.  docker-compose up -d   ì´ì œ ì›¹ ë¸Œë¼ìš°ì €ë¡œ ì ‘ê·¼í•´ë³´ì \n  ì´ˆê¸° ì ‘ì† ê³„ì •ì€ admin/password ì´ë‹¤. \n  ì—¬ê¸°ê¹Œì§€í•˜ë©´, AWXëŠ” ì„¤ì¹˜ê°€ ì™„ë£Œëœê²ƒì´ë‹¤. ì´ì œ projectë¥¼ ì„¤ì •í•´ë³´ì.\n credential ì¶”ê°€     í•­ëª© ì„¤ì •ê°’     name Ansible Control Node Credential   description playbook ì„ ì‹¤í–‰í•˜ê¸° ìœ„í•´ì„œ control node ì— ì ‘ì†í•˜ê¸° ìœ„í•œ credential   organization Default   type machine   username ssh ê³„ì •ëª…   password ssh íŒ¨ìŠ¤ì›Œë“œ   PRIVILEGE ESCALATION sudo     project ì¶”ê°€     í•­ëª© ì„¤ì •ê°’     name Project Name   description í”„ë¡œì íŠ¸ ì„¤ëª…   organization Default   SCM type git   SCM Url ansible playbook github repo ì£¼ì†Œ   SCM Branch    SCM Update Options Clean, Update on Launch ì²´í¬      inventory ì¶”ê°€\nansible ì„ CLI ì—ì„œ ë‹¤ë£° ë•ŒëŠ” hosts íŒŒì¼ì„ ì§€ì •í•˜ë©´ ë˜ì—ˆì§€ë§Œ, awx ì—ì„œëŠ” target nodeë“¤ì„ dbë¡œ ê´€ë¦¬í•œë‹¤. ë”°ë¼ì„œ ì—°ê²°ëœ SCM ì—ì„œ hosts íŒŒì¼ì„ ì½ì–´ ì˜¤ê±°ë‚˜ (ë§¤ë²ˆ playbook ì´ ì‹¤í–‰ë˜ê¸° ì „ì— hosts ë‚´ì—­ì„ ì—…ë°ì´íŠ¸ í•œë‹¤)/dynamic inventory(í´ë¼ìš°ë“œì™€ ê°™ì´ target node ë“¤ì´ ìœ ì—°í•˜ê²Œ ìƒì„±/ì‚­ì œë˜ì–´ ë³€ê²½ë˜ëŠ” ê²½ìš°)/ ë˜ëŠ” ìˆ˜ë™ìœ¼ë¡œ ì§ì ‘ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤..\n  job template ì¶”ê°€\n     í•­ëª© ì„¤ì •ê°’     name ì‹¤í–‰í•  playbook ì˜ ì œëª©   description ì‹¤í–‰í•  playbook ì˜ ì„¤ëª…   job type run (check ì¸ê²½ìš°ì—ëŠ” dry run ë§Œ ìˆ˜í–‰)   inventory UI ìƒì—ì„œ ì¶”ê°€í•œ inventory ì—°ê²°   project Project Name   playbook í”„ë¡œì íŠ¸ì— ì—°ê²°ëœ SCM(git)ì—ì„œ playbook ë¦¬ìŠ¤íŠ¸ë¥¼ ìë™ìœ¼ë¡œ ë¶ˆëŸ¬ì™€ ê·¸ ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•œë‹¤.   machen Credential Ansible Control Node Credential : playbook ì„ ì‹¤í–‰í•˜ê¸° ìœ„í•œ control node ì— ì ‘ì†í•˜ê¸° ìœ„í•œ ê³„ì •ì •ë³´   Options Enable Privilges Escalation (sudo í•„ìš”ì‹œ ì²´í¬)      run job template\ntemplate ì—ì„œ ë“±ë¡í•œ jobì„ run(ë¡œì¼“ ëª¨ì–‘ ì•„ì´ì½˜ í´ë¦­) í•˜ë©´ ëœë‹¤. ì´ë ‡ê²Œ ë˜ë©´ jobs ë©”ë‰´ì— ì‹¤í–‰ ì´ë ¥ì´ ì¶”ê°€ëœë‹¤.\n  Identity added: /tmp/awx_40_wPmxLi/credential_6 (/tmp/awx_40_wPmxLi/credential_6) Using /etc/ansible/ansible.cfg as config file PLAY [all] ********************************************************************* TASK [delete project directory before update] ********************************** skipping: [localhost] TASK [check repo using git] **************************************************** skipping: [localhost] TASK [update project using git] ************************************************ changed: [localhost] TASK [Set the git repository version] ****************************************** ok: [localhost] TASK [update project using hg] ************************************************* skipping: [localhost] TASK [Set the hg repository version] ******************************************* skipping: [localhost] TASK [parse hg version string properly] **************************************** skipping: [localhost] TASK [update project using svn] ************************************************ skipping: [localhost] TASK [Set the svn repository version] ****************************************** skipping: [localhost] TASK [parse subversion version string properly] ******************************** skipping: [localhost] TASK [Ensure the project directory is present] ********************************* skipping: [localhost] TASK [Fetch Insights Playbook(s)] ********************************************** skipping: [localhost] TASK [Save Insights Version] *************************************************** skipping: [localhost] TASK [Repository Version] ****************************************************** ok: [localhost] =\u0026gt; { \u0026quot;msg\u0026quot;: \u0026quot;Repository Version fafb252e642065bff7dfa4349adeade7e085825d\u0026quot; } TASK [Write Repository Version] ************************************************ changed: [localhost] PLAY [all] ********************************************************************* TASK [detect requirements.yml] ************************************************* skipping: [localhost] TASK [fetch galaxy roles from requirements.yml] ******************************** skipping: [localhost] PLAY RECAP ********************************************************************* localhost : ok=4 changed=2 unreachable=0 failed=0 ì´ì œ í•„ìš”í•œ ë§Œí¼ job template(playbook)ì„ ì—°ê²°í•˜ê³  ì‹¤í–‰í•˜ë©´ ëœë‹¤. ìš”ì•½í•˜ìë©´, awx clone =\u0026gt; inventory íŒŒì¼ ì„¤ì • =\u0026gt; docker-compose up ì´ë‹¤. ë³´ë‹¤ ìì„¸í•œ ì„¤ì¹˜ëŠ” install ê°€ì´ë“œë¥¼ í™•ì¸í•˜ì. ë‹¤ìŒì—ëŠ” Kubernetes ì—ì„œ ì„¤ì¹˜í•´ë´ì•¼ ê² ë‹¤.\nì¶”ê°€ ì‚¬í•­   dynamic inventory ì„¤ì • : AWS or GCP or OpenStack ê³¼ ê°™ì´ ì¸ìŠ¤í„´ìŠ¤ê°€ dynamic í•˜ê²Œ ìƒì„±/ì‚­ì œë˜ëŠ” ê²½ìš°ì— target nodeë¥¼ íŠ¹ì •í•  ìˆ˜ ì—†ë‹¤. ì´ëŸ°ê²½ìš° Cloud insfra ì—ì„œ ì§€ì›ë˜ëŠ” APIë¥¼ í†µí•´ì„œ inventory target node(hosts)ë¥¼ ì§ˆì˜í•´ì˜¤ëŠ” ë°©ë²•ì´ ìˆëŠ”ë° ì´ë¥¼ dynamic inventoryë¼ê³  í•œë‹¤.\n  AWX ëŠ” standalone ìœ¼ë¡œ API ì„œë²„ë¡œ ë™ì‘ì´ ê°€ëŠ¥í•˜ë‹¤. ë”°ë¼ì„œ jenkins ë‚˜ ë‹¤ë¥¸ íˆ´/ì‹œìŠ¤í…œì—ì„œ APIë¥¼ í˜¸ì¶œí•˜ì—¬ job templateì„ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤. https://github.com/ansible/tower-cli ë¥¼ ì°¸ê³ .\n  ì°¸ê³   ì˜ˆì œ - https://github.com/ansible/ansible-examples Best priatices - http://docs.ansible.com/ansible/latest/playbooks_best_practices.html Ansible Essential - https://www.ansible.com/blog/ansible-best-practices-essentials AWX ì‚¬ìš© - https://steemit.com/utopian-io/@adson/ansible-open-sources-ansible-tower-with-awx  "
},
{
	"permalink": "https://findstar.pe.kr/tags/ansible-tower/",
	"title": "ansible tower",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/awx/",
	"title": "awx",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/installation/",
	"title": "installation",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/difference/",
	"title": "difference",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/2018/01/24/difference-between-null-and-empty-string-elasticsearch/",
	"title": "ElasticSearch ì—ì„œ null ê³¼ empty string ì˜ ì°¨ì´",
	"tags": ["ElasticSearch", "null", "empty string", "difference"],
	"description": "",
	"type": "post",
	"contents": "1ì›” 24ì¼ (ìˆ˜) TIL ElasticSearch ì—ì„œ indexing ì„ ì²˜ë¦¬í•  ë•Œ, json ê°ì²´ë¥¼ ìƒì„±í•˜ë©´ì„œ ì†ì„±ê°’ì´ ë•Œë¡œëŠ” null ë˜ ì–´ë–¨ë•ŒëŠ” ë¹ˆ ë¬¸ìì—´ \u0026quot;\u0026quot; ë¡œ ì±„ì›Œë„£ì„ ë•Œê°€ ìˆì—ˆëŠ”ë° ë³´ë‹¤ ëª…í™•í•˜ê²Œ ì´í•´í•˜ê³  ì²˜ë¦¬í•˜ê¸° ìœ„í•´ì„œ null ê°’ê³¼ empty string(\u0026quot;\u0026quot;) ì˜ ì°¨ì´ë¥¼ ì•Œì•„ë³´ì•˜ë‹¤.\n ê²°ë¡ ë¶€í„° ë§í•˜ìë©´ ë‘˜ì˜ ì°¨ì´ëŠ” ì—†ë‹¤ë¼ê³  ì´ì•¼ê¸° í•  ìˆ˜ ìˆê² ë‹¤. ê·¸ ì´ìœ ëŠ” ë°”ë¡œ inverted index ë¥¼ ìƒê°í•˜ë©´ ì•Œ ìˆ˜ ìˆëŠ” ê±´ë°, null ê³¼ empty string ì€ ë‘˜ë‹¤ analyzer ì— ì˜í•´ì„œ ë¶„ì„ëœ ì´í›„ inverted indexë¥¼ í•˜ë‚˜ì´ìƒ ìƒì„±í•˜ì§€ ëª»í•˜ê¸° ë–„ë¬¸ì— ES ì…ì¥ì—ì„œëŠ” ë‘˜ì˜ ì°¨ì´ê°€ ì—†ëŠ” ê²ƒì´ë‹¤.\nê·¸ë ‡ë‹¤ë©´\n null ë˜ëŠ” empty string ê³¼ ë‹¤ë¥´ê²Œ ì•„ì˜ˆ mapping field ê°€ ì—†ëŠ” ê²½ìš°ëŠ” ì–´ë– í•œê°€? ì´ ë˜í•œ inverted index ê°€ ìƒì„±ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ë™ì¼í•˜ê²Œ ì·¨ê¸‰ë˜ëŠ”ê°€?   ì´ ê²½ìš°ì—ë„ ë§ˆì°¬ê°€ì§€ë‹¤. inverted index ê°€ ìƒì„±ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì—, ë‘ê°œëŠ” ë™ì¼í•˜ê²Œ ì·¨ê¸‰ëœë‹¤.\n  exist ì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•´ë„ ë§ˆì°¬ê°€ì§€ë‹¤. ë‹¤ìŒì˜ 5ê°œ ë°ì´í„°ê°€ ìˆë‹¤ê³  ê°€ì •í•´ë³´ì.  { \u0026quot;tags\u0026quot; : [\u0026quot;search\u0026quot;] } // id 1 { \u0026quot;tags\u0026quot; : [\u0026quot;search\u0026quot;, \u0026quot;open_source\u0026quot;] } // id 2 { \u0026quot;other_field\u0026quot; : \u0026quot;some data\u0026quot; } // id 3 { \u0026quot;tags\u0026quot; : null } // id 4 { \u0026quot;tags\u0026quot; : [\u0026quot;search\u0026quot;, null] } // id 5 ì•„ë˜ì™€ ê°™ì´ ì§ˆì˜ë¥¼ í•˜ë©´,\n{ \u0026quot;query\u0026quot; : { \u0026quot;constant_score\u0026quot; : { \u0026quot;filter\u0026quot; : { \u0026quot;exists\u0026quot; : { \u0026quot;field\u0026quot; : \u0026quot;tags\u0026quot; } } } } } ë‹¤ìŒì˜ ê²°ê³¼ë¥¼ í™•ì¸ê°€ëŠ¥í•˜ë‹¤.\n\u0026quot;hits\u0026quot; : [ { \u0026quot;_id\u0026quot; : \u0026quot;1\u0026quot;, \u0026quot;_score\u0026quot; : 1.0, \u0026quot;_source\u0026quot; : { \u0026quot;tags\u0026quot; : [\u0026quot;search\u0026quot;] } }, { \u0026quot;_id\u0026quot; : \u0026quot;5\u0026quot;, \u0026quot;_score\u0026quot; : 1.0, \u0026quot;_source\u0026quot; : { \u0026quot;tags\u0026quot; : [\u0026quot;search\u0026quot;, null] } }, { \u0026quot;_id\u0026quot; : \u0026quot;2\u0026quot;, \u0026quot;_score\u0026quot; : 1.0, \u0026quot;_source\u0026quot; : { \u0026quot;tags\u0026quot; : [\u0026quot;search\u0026quot;, \u0026quot;open source\u0026quot;] } } ]  ê²°ê³¼ëŠ” exist ì¿¼ë¦¬ë¥¼ ì§ˆì˜í•´ë„ 3, 4ë²ˆ ë°ì´í„°ê°€ hit ë˜ì§€ ì•ŠëŠ”ë‹¤. mapping field ê°€ ì•„ì˜ˆ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê²½ìš°ì™€ null, empty string ì¸ ê²½ìš° ëª¨ë‘ ë™ì¼í•˜ë‹¤.\n  ê·¸ë ‡ë‹¤ë©´, ì†ì„±ê°’ì´ null ì¸ documentë¥¼ DSL ì„ í†µí•´ì„œ ì°¾ì„ ìˆ˜ ìˆì„ê¹Œ?  ì•„ë˜ì™€ ê°™ì´ ì§ˆì˜í•˜ë©´,\n{ \u0026quot;query\u0026quot; : { \u0026quot;constant_score\u0026quot; : { \u0026quot;filter\u0026quot;: { \u0026quot;missing\u0026quot; : { \u0026quot;field\u0026quot; : \u0026quot;tags\u0026quot; } } } } } ë‹¤ìŒì˜ ê²°ê³¼ë¥¼ í™•ì¸ê°€ëŠ¥í•˜ë‹¤\n\u0026quot;hits\u0026quot; : [ { \u0026quot;_id\u0026quot; : \u0026quot;3\u0026quot;, \u0026quot;_score\u0026quot; : 1.0, \u0026quot;_source\u0026quot; : { \u0026quot;other_field\u0026quot; : \u0026quot;some data\u0026quot; } }, { \u0026quot;_id\u0026quot; : \u0026quot;4\u0026quot;, \u0026quot;_score\u0026quot; : 1.0, \u0026quot;_source\u0026quot; : { \u0026quot;tags\u0026quot; : null } } ] mapping field ìƒì—ì„œ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê²½ìš°ì™€, value ê°€ null ì¸ ê²½ìš° ëª¨ë‘ë¥¼ ì°¾ëŠ”ë‹¤. ë”°ë¼ì„œ ì•„ì˜ˆ fieldê°€ ì—†ëŠ” ê²½ìš°ë§Œ ë”± ì§€ì •í•´ì„œ ì°¾ì„ ìˆ˜ëŠ” ì—†ë‹¤.\n ìš”ì•½í•˜ìë©´, inverted indexë¥¼ ê¸°ì¤€ìœ¼ë¡œ ëª¨ë“  ES query ì™€ dataë¥¼ ìƒê°í•˜ë©´ ëœë‹¤ëŠ” ê²ƒì´ë‹¤. null, empty string(\u0026quot;\u0026quot;), missing field ëª¨ë‘ ë™ì¼í•˜ë‹¤.\n ì°¸ê³  : https://www.elastic.co/guide/en/elasticsearch/guide/current/_dealing_with_null_values.html\n"
},
{
	"permalink": "https://findstar.pe.kr/tags/empty-string/",
	"title": "empty string",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/null/",
	"title": "null",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/golang/",
	"title": "Golang",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/2018/01/23/null-scan-for-mysql-struct-golang/",
	"title": "Golang ì—ì„œ Mysql ë°ì´í„°ë¥¼ Struct ì— Scan í•  ë•Œ Null ì²˜ë¦¬ ê²½í—˜ê¸°",
	"tags": ["Golang", "mysql", "struct", "json", "null"],
	"description": "",
	"type": "post",
	"contents": "1ì›” 23ì¼ (í™”) TIL ìµœê·¼ ElasticSearch ì— bulk insert ë¥¼ í•˜ê¸° ìœ„í•œ golang ê¸°ë°˜ì˜ ê°„ë‹¨í•œ íˆ´ì„ ë§Œë“¤ê³  ìˆë‹¤. mysql ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¨ ë‹¤ìŒì— ì´ë¥¼ JSONìœ¼ë¡œ ë³€í™˜í•´ì„œ ElasticSearchë¡œ bulk insert í•˜ëŠ” êµ¬ì¡°ì¸ë°, ì´ ê³¼ì •ì—ì„œ mysql rows ë¥¼ golang ì—ì„œ scan í•˜ë©´ì„œ ì•Œê²Œëœ ë‚´ìš©ì„ ì •ë¦¬í•´ë³´ì•˜ë‹¤.\në¨¼ì € golang íˆ´ì„ ë§Œë“¤ë©´ì„œ ì‚¬ìš©í•œ íŒ¨í‚¤ì§€ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.\n\t\u0026quot;gopkg.in/olivere/elastic.v5\u0026quot; \u0026quot;database/sql\u0026quot; _ \u0026quot;github.com/go-sql-driver/mysql\u0026quot; \u0026quot;encoding/json\u0026quot; ì²˜ìŒ ìƒì„±í•œ Postë¼ëŠ” ì´ë¦„ì˜ structëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.\ntype Post struct { PostId int64 `json:\u0026quot;postId\u0026quot;` AuthorId int64 `json:\u0026quot;authorId\u0026quot;` Category int64 `json:\u0026quot;categoryId\u0026quot;` Title string `json:\u0026quot;title\u0026quot;` Content string `json:\u0026quot;content\u0026quot;` Created string `json:\u0026quot;created\u0026quot;` Ip string `json:\u0026quot;-\u0026quot;` Ip1 int64 `json:\u0026quot;ip1\u0026quot;` Ip2 int64 `json:\u0026quot;ip2\u0026quot;` Ip3 int64 `json:\u0026quot;ip3\u0026quot;` Ip4 int64 `json:\u0026quot;ip4\u0026quot;` } ì²˜ìŒì—ëŠ” ì¿¼ë¦¬ë¥¼ í•´ì˜¨ ë‹¤ìŒì— rows.Scan ì™€ ê°™ì´ Post type ì˜ ì†ì„±ì— ê°’ì„ ë„£ìœ¼ë©´ ë˜ê² ì§€ë¼ê³  ìƒê°í–ˆì—ˆëŠ”ë°, ì‹¤ì œë¡œëŠ” ê°’ì´ null ì¸ê²½ìš° ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤ (ì—¬ê¸°ì„œëŠ” category ê°’ì´ null ì¸ ê²½ìš°ê°€ ì¡´ì¬í–ˆë‹¤.)\nsql: Scan error on column index 3: unsupported driver -\u0026gt; Scan pair: \u0026lt;nil\u0026gt; -\u0026gt; *int64 ë”°ë¼ì„œ ì´ê²½ìš°ëŠ” sql íŒ¨í‚¤ì§€ì—ì„œ ì œê³µí•˜ëŠ” sql.NullStringì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤.\nNullString ì€ ë‹¤ìŒê³¼ ê°™ì´ valid ë¥¼ í™•ì¸í•´ì„œ ê·¸ ê°’ì„ ì´ìš©í•´ì•¼ í•œë‹¤.\nif post.RawCategoryId.Valid { post.CategoryId = post.RawCategoryId.Int64 } ìµœì¢…ì ìœ¼ë¡œ struct ëŠ” ë‹¤ìŒì²˜ëŸ¼ êµ¬ì„±í–ˆë‹¤.\ntype Post struct { PostId int64 `json:\u0026quot;postId\u0026quot;` AuthorId int64 `json:\u0026quot;authorId\u0026quot;` RawCategory sql.NullInt64 `json:\u0026quot;-\u0026quot;` Category int64 `json:\u0026quot;categoryId\u0026quot;` Title string `json:\u0026quot;title\u0026quot;` Content string `json:\u0026quot;content\u0026quot;` Created string `json:\u0026quot;created\u0026quot;` Ip string `json:\u0026quot;-\u0026quot;` Ip1 int64 `json:\u0026quot;ip1\u0026quot;` Ip2 int64 `json:\u0026quot;ip2\u0026quot;` Ip3 int64 `json:\u0026quot;ip3\u0026quot;` Ip4 int64 `json:\u0026quot;ip4\u0026quot;` } sql íŒ¨í‚¤ì§€ì—ì„œ ì œê³µí•˜ëŠ” íƒ€ì…ì€ ë‹¹ì—°í•˜ê² ì§€ë§Œ. NullString, NullBool, NullInt64, NullFloat64 ê°€ ìˆë‹¤.\nì´í›„ì— ì´ post struct ë¥¼ ì´ìš©í•´ì„œ JSONì„ ë§Œë“¤ë©´ ëœë‹¤. ë‚´ ê²½ìš°ì—ëŠ” ì¶”ê°€ì ìœ¼ë¡œ IPë¥¼ ip1, ip2, ip3, ip4 ë¡œ ë‚˜ëˆ´ëŠ”ë° ì´ëŠ” ES ì¿¼ë¦¬ë¥¼ í¸ë¦¬í•˜ê²Œ í•˜ê¸° ìœ„í•´ì„œë‹¤.\nì°¸ê³ ë¡œ JSONìœ¼ë¡œ json.Marshal(post) í•  ë•Œì—ëŠ” struct ì—ì„œ json:\u0026quot;-\u0026quot; ìœ¼ë¡œ ì„ ì–¸í•œ ì†ì„±ì€ Marshal ê²°ê³¼ì— í¬í•¨ë˜ì§€ ì•ŠëŠ”ë‹¤.\nì°¸ê³  : https://medium.com/aubergine-solutions/how-i-handled-null-possible-values-from-database-rows-in-golang-521fb0ee267\n"
},
{
	"permalink": "https://findstar.pe.kr/tags/json/",
	"title": "json",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/mysql/",
	"title": "mysql",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/struct/",
	"title": "struct",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/2018/01/19/understanding-query-on-elasticsearch/",
	"title": "ElasticSearch ì—ì„œ term, match, match_phrase ì¿¼ë¦¬ì— ëŒ€í•œ ì´í•´",
	"tags": ["ElasticSearch", "term", "match", "match_phrase", "query DSL"],
	"description": "",
	"type": "post",
	"contents": "1ì›” 19ì¼ (ê¸ˆ) TIL ì‘ì„±í•œ ElasticSearch ì¿¼ë¦¬ë¥¼ í…ŒìŠ¤íŠ¸ í•´ë³´ë‹¤ê°€ ì •í™•í•˜ê²Œ ì´í•´í•˜ì§€ ëª»í•œ ìƒíƒœê³  ì‘ì„±í•˜ê³  ìˆëŠ” í‚¤ì›Œë“œë¥¼ ë°œê²¬í–ˆë‹¤. ì‘ì„±í•œ ì¿¼ë¦¬ì—ëŠ” term, match, match_phraseê°€ ë¬´ë¶„ë³„í•˜ê²Œ ì‚¬ìš©ë˜ê³  ìˆì—ˆëŠ”ë°, ë‹¤ì‹œê¸ˆ ë¬¸ì„œë¥¼ í™•ì¸í•´ë³´ê³ , ìŠì–´ë¨¹ê¸° ì „ì— ì •ë¦¬í•´ë´¤ë‹¤.\nterm ì‚¬ì „ì  ì˜ë¯¸ë¡œ ë³´ìë©´ ìš©ì–´ ì¯¤ ë˜ê² ë‹¤. í•´ë‹¹ content ì˜ inverted index ì— ì €ì¥ë˜ëŠ” token ë“¤ ì¤‘ì—ì„œ ì¿¼ë¦¬ì˜ í‚¤ì›Œë“œì™€ ì¼ì¹˜í•˜ëŠ” ë…€ì„ì´ ìˆëŠ”ì§€ ì°¾ì•„ì¤€ë‹¤.\noriginal text ê°€ *\u0026ldquo;ì—¬ëŸ¬ê°œì˜ ë¬¼ê±´ë“¤\u0026rdquo;*ì´ê³ , ë‹¤ìŒì²˜ëŸ¼ tokenize ëœë‹¤ë©´,\ncurl -XPOST 'localhost:9200/my_index/_analyze?pretty' -H 'Content-Type: application/json' -d' { \u0026quot;analyzer\u0026quot;: \u0026quot;my_custom_analyzer\u0026quot;, \u0026quot;text\u0026quot;: \u0026quot;ì—¬ëŸ¬ê°œì˜ ë¬¼ê±´ë“¤\u0026quot; } { \u0026quot;tokens\u0026quot; : [ { \u0026quot;token\u0026quot; : \u0026quot;ì—¬ëŸ¬\u0026quot;, \u0026quot;start_offset\u0026quot; : 0, \u0026quot;end_offset\u0026quot; : 2, \u0026quot;type\u0026quot; : \u0026quot;MM\u0026quot;, \u0026quot;position\u0026quot; : 0 }, { \u0026quot;token\u0026quot; : \u0026quot;ê°œ\u0026quot;, \u0026quot;start_offset\u0026quot; : 2, \u0026quot;end_offset\u0026quot; : 3, \u0026quot;type\u0026quot; : \u0026quot;NNB\u0026quot;, \u0026quot;position\u0026quot; : 1 }, { \u0026quot;token\u0026quot; : \u0026quot;ë¬¼ê±´\u0026quot;, \u0026quot;start_offset\u0026quot; : 5, \u0026quot;end_offset\u0026quot; : 7, \u0026quot;type\u0026quot; : \u0026quot;NNG\u0026quot;, \u0026quot;position\u0026quot; : 2 }, { \u0026quot;token\u0026quot; : \u0026quot;ë¬¼ê±´ë“¤\u0026quot;, \u0026quot;start_offset\u0026quot; : 5, \u0026quot;end_offset\u0026quot; : 8, \u0026quot;type\u0026quot; : \u0026quot;NNG\u0026quot;, \u0026quot;position\u0026quot; : 2 } ] } term ì¿¼ë¦¬ë¥¼ í†µí•´ì„œ ê²€ìƒ‰ ê²°ê³¼ì— í¬í•¨í•˜ë ¤ë©´ ë‹¤ìŒì˜ 4ê°€ì§€ ì¿¼ë¦¬ê°€ ê°€ëŠ¥í•˜ë‹¤.\n{ \u0026quot;query\u0026quot;: { \u0026quot;bool\u0026quot;: { \u0026quot;must\u0026quot;: [ { \u0026quot;term\u0026quot;: { \u0026quot;content\u0026quot;: \u0026quot;ì—¬ëŸ¬\u0026quot; } } ] } } } { \u0026quot;query\u0026quot;: { \u0026quot;bool\u0026quot;: { \u0026quot;must\u0026quot;: [ { \u0026quot;term\u0026quot;: { \u0026quot;content\u0026quot;: \u0026quot;ê°œ\u0026quot; } } ] } } } { \u0026quot;query\u0026quot;: { \u0026quot;bool\u0026quot;: { \u0026quot;must\u0026quot;: [ { \u0026quot;term\u0026quot;: { \u0026quot;content\u0026quot;: \u0026quot;ë¬¼ê±´\u0026quot; } } ] } } } { \u0026quot;query\u0026quot;: { \u0026quot;bool\u0026quot;: { \u0026quot;must\u0026quot;: [ { \u0026quot;term\u0026quot;: { \u0026quot;content\u0026quot;: \u0026quot;ë¬¼ê±´ë“¤\u0026quot; } } ] } } } match termê³¼ ë§ˆì°¬ê°€ì§€ë¡œ inverted index ì— ì €ì¥ë˜ëŠ” token ë“¤ ì¤‘ì—ì„œ ì¼ì¹˜í•˜ëŠ” ë…€ì„ì´ ìˆëŠ”ì§€ ì°¾ì•„ì£¼ëŠ”ë°, ì°¨ì´ì ì€ ë°”ë¡œ ê²€ìƒ‰í•˜ëŠ” í‚¤ì›Œë“œë¥¼ analyze í•œë‹¤ëŠ” ê²ƒì´ë‹¤. ì´ analyze í•œ ê²°ê³¼ì˜ token ë“¤ ì¤‘ì—ì„œ í•˜ë‚˜ë¼ë„ ì¼ì¹˜í•˜ë©´ ê²°ê³¼ document ì— í¬í•¨ëœë‹¤.\në”°ë¼ì„œ original text ê°€ ìœ„ì™€ ê°™ì„ ë•Œ ê°€ëŠ¥í•œ ì¿¼ë¦¬ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.\n{ \u0026quot;query\u0026quot;: { \u0026quot;bool\u0026quot;: { \u0026quot;must\u0026quot;: [ { \u0026quot;match\u0026quot;: { \u0026quot;content\u0026quot;: \u0026quot;ì—¬ëŸ¬ê°œ\u0026quot; } } ] } } } { \u0026quot;query\u0026quot;: { \u0026quot;bool\u0026quot;: { \u0026quot;must\u0026quot;: [ { \u0026quot;match\u0026quot;: { \u0026quot;content\u0026quot;: \u0026quot;ì—¬ëŸ¬ì‚¬\u0026quot; } } ] } } } { \u0026quot;query\u0026quot;: { \u0026quot;bool\u0026quot;: { \u0026quot;must\u0026quot;: [ { \u0026quot;match\u0026quot;: { \u0026quot;content\u0026quot;: \u0026quot;ë‚˜ì˜ ë¬¼ê±´ë“¤\u0026quot; } } ] } } } ê·¸ ë°–ì— ë” ìˆì„ ìˆ˜ ìˆë‹¤\u0026hellip;\nmatch_phrase phrase ë‹¨ì–´ëŠ” ì‚¬ì „ì  ì˜ë¯¸ëŠ” êµ¬ ì¸ë°, í”íˆ ì˜ì–´ ë¬¸ë²• ê³µë¶€í•  ë•Œ ë“¤ì–´ë³´ì•˜ë˜ ëª…ì‚¬êµ¬, ë¶€ì‚¬, ì „ì¹˜ì‚¬êµ¬\u0026hellip; ì˜ êµ¬ ì´ë‹¤. ë‘˜ ë˜ëŠ” ê·¸ ì´ìƒì˜ ì–´ì ˆë¡œ ì´ë£¨ì–´ì ¸ í•œ ë©ì–´ë¦¬ë¡œì¨ ì ˆì´ë‚˜ ë¬¸ì¥ì˜ ì„±ë¶„ì´ ë˜ëŠ” ë™ì¼í•œ ë§ì˜ ë‹¨ìœ„ ë¼ê³  í•œë‹¤. ì—¬ê¸°ì„œ í¬ì¸íŠ¸ëŠ” ë‘˜ ì´ìƒ!, ì´ë£¨ì–´ì ¸! ì´ë‹¤. ì¦‰ match ê°€ token ë“¤ ì¤‘ì— ì¼ì¹˜í•˜ëŠ” keyword ê°€ í•˜ë‚˜ë¼ë„ ì¡´ì¬í•œë‹¤ë©´ ê²°ê³¼ document ì— í¬í•¨ëœë‹¤ë©´, match_phrase ê°€ ê²€ìƒ‰ match ì²˜ëŸ¼ keywordë¥¼ analyze í•˜ëŠ” ê²ƒì€ ë™ì¼í•˜ë‚˜ ê·¸ ê²°ê³¼ token ë“¤ì´ ëª¨ë‘ ì¡´ì¬í•˜ê³ , ìˆœì„œë„ ìˆœì°¨ì ìœ¼ë¡œ ë™ì¼í•œ document ë§Œì„ ê²€ìƒ‰ ê²°ê³¼ì— í¬í•¨í•œë‹¤ëŠ” ì°¨ì´ê°€ ìˆë‹¤.\në”°ë¼ì„œ match ì™€ ê°™ì´ \u0026ldquo;ë‚˜ì˜ ë¬¼ê±´ë“¤\u0026rdquo; ì´ë¼ëŠ” ê²€ìƒ‰ í‚¤ì›Œë“œë¥¼ ë„£ëŠ”ë‹¤ë©´, ë‚˜ ë¼ëŠ” token ì´ ë“¤ì–´ ìˆì§€ë„ ì•Šê³  ìˆœì„œë„ ë§ì§€ ì•Šìœ¼ë‹ˆ. ì—¬ëŸ¬ê°€ì§€ ë¬¼ê±´ë“¤ ì´ë¼ëŠ” document ëŠ” ê²°ê³¼ì— í¬í•¨ë˜ì§€ ì•ŠëŠ”ë‹¤.\nì´ ë•Œ ê°€ëŠ¥í•œ ì¿¼ë¦¬ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.\n{ \u0026quot;query\u0026quot;: { \u0026quot;bool\u0026quot;: { \u0026quot;must\u0026quot;: [ { \u0026quot;match_phrase\u0026quot;: { \u0026quot;content\u0026quot;: \u0026quot;ì—¬ëŸ¬ê°œ\u0026quot; } } ] } } } { \u0026quot;query\u0026quot;: { \u0026quot;bool\u0026quot;: { \u0026quot;must\u0026quot;: [ { \u0026quot;match_phrase\u0026quot;: { \u0026quot;content\u0026quot;: \u0026quot;ì—¬ëŸ¬ê°œì˜ ë¬¼ê±´ë“¤\u0026quot; } } ] } } } ìˆœì„œë§Œ ë°”ê¿”ë„ ì•ˆëœë‹¤\n{ \u0026quot;query\u0026quot;: { \u0026quot;bool\u0026quot;: { \u0026quot;must\u0026quot;: [ { \u0026quot;match_phrase\u0026quot;: { \u0026quot;content\u0026quot;: \u0026quot;ë¬¼ê±´ë“¤ ì—¬ëŸ¬ê°œ\u0026quot; } } ] } } } ì‚¬ìš©ì˜ˆ  term ì˜ ê²½ìš°ì—ëŠ” ë¬¸ì„œì˜ tag ë¥¼ ê²€ìƒ‰í•  ë•Œ ì‚¬ìš©í•  ìˆ˜ ìˆê² ë‹¤. ë³¸ë¬¸ ê²€ìƒ‰ì—ì„œëŠ” match_phrase ë¥¼ ì‚¬ìš©í•˜ëŠ”ê²Œ match ë³´ë‹¤ëŠ” ì í•©í•˜ë‹¤ê³  ìƒê°ëœë‹¤. (ë¬¼ë¡  nested should ì™€ í•¨ê»˜ ë” ë„£ì–´ì•¼í•œë‹¤.)  ì˜¤ëŠ˜ë„ ë˜ í•œë²ˆ ëŠë‚€ë‹¤. RTFM. ë¬¸ì„œë¥¼ ì˜ ì½ì.\n"
},
{
	"permalink": "https://findstar.pe.kr/tags/match/",
	"title": "match",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/query-dsl/",
	"title": "query DSL",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/term/",
	"title": "term",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/2018/01/17/understanding-whildcard-query-on-elasticsearch/",
	"title": "ElasticSearch ì—ì„œ wildcard ì¿¼ë¦¬ì— ëŒ€í•œ ì´í•´",
	"tags": ["ElasticSearch", "wildcard", "query DSL", "inverted index"],
	"description": "",
	"type": "post",
	"contents": "1ì›” 17ì¼ (ìˆ˜) TIL ElasticSearch ì—ì„œ ì¿¼ë¦¬ë¥¼ ì‘ì„±í•˜ë˜ ì¤‘ wildcard ì¿¼ë¦¬ì˜ ê²°ê³¼ê°€ ë‚´ê°€ ìƒê°í–ˆë˜ ê²ƒ ê³¼ëŠ” ë‹¬ë¼ì„œ ë‚´ìš©ì„ ì •ë¦¬í•´ë³¸ë‹¤. wildcard queryë¥¼ ì‘ì„±í•  ë•Œ ê¸°ëŒ€í•œ ê²ƒì€ RDBMS ì˜ like \u0026lsquo;%keyword%\u0026rsquo; ì™€ ê°™ì€ í˜•íƒœê°€ ê°€ëŠ¥í•  ê²ƒìœ¼ë¡œ ê¸°ëŒ€í–ˆëŠ”ë°, ë§‰ìƒ ì¿¼ë¦¬ ê²°ê³¼ë¥¼ í™•ì¸í•´ ë³´ë‹ˆ ì›í•˜ëŠ” í˜•íƒœê°€ ì•„ë‹ˆì—ˆë‹¤.\noriginal text ê°€ *\u0026ldquo;ì—¬ëŸ¬ê°œì˜ ë¬¼ê±´ë“¤\u0026rdquo;*ì´ê³ , ë‚´ê°€ ì‹œë„í•œ ì¿¼ë¦¬ëŠ” ë‹¤ìŒê³¼ ê°™ì•˜ë‹¤.\n{ \u0026quot;query\u0026quot;: { \u0026quot;bool\u0026quot;: { \u0026quot;must\u0026quot;: [ { \u0026quot;wildcard\u0026quot;: { \u0026quot;title\u0026quot;: \u0026quot;*ì—¬ëŸ¬ê°œ*\u0026quot; } } ] } }, \u0026quot;size\u0026quot;: 100 } ê·¸ëŸ°ë° ê²°ê³¼ëŠ” ì•„ë˜ì™€ ê°™ì´ hits count ê°€ 0 ì´ì—ˆë‹¤.\n{ \u0026quot;took\u0026quot;: 243, \u0026quot;timed_out\u0026quot;: false, \u0026quot;hits\u0026quot;: { \u0026quot;total\u0026quot;: 0, \u0026quot;max_score\u0026quot;: null, \u0026quot;hits\u0026quot;: [] } } ì›ì¸ì€ ë°”ë¡œ wildcard query ê°€ term level query ì´ê¸° ë•Œë¬¸ì´ë‹¤.\nterm level query ë¬¸ì„œë¥¼ í™•ì¸í•´ ë³´ì. (ì§„ì‘ì— ì¢€ ì½ì—ˆì–´ì•¼ í•˜ëŠ”ë°..)\nterm ì¦‰ inverted index ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ê²°ê³¼ë¥¼ ì°¾ëŠ”ë‹¤ëŠ” ì˜ë¯¸ë‹¤. ë‹¤ì‹œ ë§í•´ analyzed ëœ term keyword ê°€ ìˆì–´ì•¼ í•˜ë©°, ë¬¸ì„œë¥¼ ìƒ‰ì¸í•  ë•Œ í† í¬ë‚˜ì´ì§•ëœ ë‹¨ì–´ê°€ ì•„ë‹ˆë¼ë©´ inverted indexì— ë“¤ì–´ ìˆì§€ ì•Šê¸° ë•Œë¬¸ì—, ì•„ì˜ˆ ë¹„êµ ëŒ€ìƒì— í¬í•¨ë˜ì§€ ì•ŠëŠ” ê²ƒì´ë‹¤.\në‚´ê°€ í…ŒìŠ¤íŠ¸í•œ custom analyzerì˜ í† í¬ë‚˜ì´ì§•ì€ ì•„ë˜ì™€ ê°™ì•˜ìœ¼ë‹ˆ,\ncurl -XPOST 'localhost:9200/my_index/_analyze?pretty' -H 'Content-Type: application/json' -d' { \u0026quot;analyzer\u0026quot;: \u0026quot;my_custom_analyzer\u0026quot;, \u0026quot;text\u0026quot;: \u0026quot;ì—¬ëŸ¬ê°œì˜ ë¬¼ê±´ë“¤\u0026quot; } { \u0026quot;tokens\u0026quot; : [ { \u0026quot;token\u0026quot; : \u0026quot;ì—¬ëŸ¬\u0026quot;, \u0026quot;start_offset\u0026quot; : 0, \u0026quot;end_offset\u0026quot; : 2, \u0026quot;type\u0026quot; : \u0026quot;MM\u0026quot;, \u0026quot;position\u0026quot; : 0 }, { \u0026quot;token\u0026quot; : \u0026quot;ê°œ\u0026quot;, \u0026quot;start_offset\u0026quot; : 2, \u0026quot;end_offset\u0026quot; : 3, \u0026quot;type\u0026quot; : \u0026quot;NNB\u0026quot;, \u0026quot;position\u0026quot; : 1 }, { \u0026quot;token\u0026quot; : \u0026quot;ë¬¼ê±´\u0026quot;, \u0026quot;start_offset\u0026quot; : 5, \u0026quot;end_offset\u0026quot; : 7, \u0026quot;type\u0026quot; : \u0026quot;NNG\u0026quot;, \u0026quot;position\u0026quot; : 2 }, { \u0026quot;token\u0026quot; : \u0026quot;ë¬¼ê±´ë“¤\u0026quot;, \u0026quot;start_offset\u0026quot; : 5, \u0026quot;end_offset\u0026quot; : 8, \u0026quot;type\u0026quot; : \u0026quot;NNG\u0026quot;, \u0026quot;position\u0026quot; : 2 } ] } í† í¬ë‚˜ì´ì§•ëœ ê²°ê³¼ì— \u0026ldquo;ì—¬ëŸ¬ê°œ\u0026rdquo; ë¼ëŠ” ë‹¨ì–´ëŠ” ì—†ê¸° ë•Œë¬¸ì—, ì²˜ìŒ ì§ˆì˜í•œ wildcard ê²°ê³¼ê°€ hitsê°€ 0 ì¼ ìˆ˜ ë°–ì— ì—†ì—ˆë˜ ê²ƒì´ë‹¤.\nì•„ ë¬¸ì„œë¥¼ ì¢€ ë” ì˜ ì½ì.. ì˜¤ëŠ˜ì˜ êµí›ˆ \u0026ldquo;RTFM\u0026rdquo;\n"
},
{
	"permalink": "https://findstar.pe.kr/tags/inverted-index/",
	"title": "inverted index",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/phpstorm/",
	"title": "phpstorm",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/speed-up/",
	"title": "speed up",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/vm-options/",
	"title": "vm options",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/2018/01/05/increse-heap-memory-on-phpstorm/",
	"title": "ëŠë ¤ì§„ PHPStormì—ì„œ Heap Memoryë¥¼ ëŠ˜ë¦¬ëŠ” ë°©ë²•",
	"tags": ["phpstorm", "speed up", "vm options"],
	"description": "",
	"type": "post",
	"contents": "1ì›” 05ì¼ (ê¸ˆ) TIL ì´ì „ì—, phpstormì—ì„œ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” í”ŒëŸ¬ê·¸ì¸ì„ ë¹„í™œì„±í™” ì‹œì¼œì„œ ì•½ê°„ì˜ ì†ë„ í–¥ìƒì„ ê°€ì ¸ì™”ë‹¤ë©´, ì´ì œëŠ” ì•„ì˜ˆ Heap Memory Sizeë¥¼ ëŠ˜ë ¤ë³´ê¸°ë¡œ í–ˆë‹¤. IDEë¥¼ ì‚¬ìš©í•˜ë‹¤ê°€ ë³´ë©´ ì—´ì–´ë‘” Tabì´ ë§ì•„ì§€ë©´ì„œ ìŠ¬ìŠ¬ Heap memory sizeê°€ ì°¨ê¸° ì‹œì‘í•˜ëŠ”ë°, ì´ê±´ ì˜ˆì „ì— Eclipseë¥¼ ì“¸ ë•Œ ë¶€í„°, Intellij, Webstorm, Phpstorm ê°€ë¦¬ì§€ ì•Šê³  ë‚˜íƒ€ë‚˜ëŠ” ì¦ìƒì´ë‹¤. ì»¤ì„œê°€ ë ‰ ê±¸ë¦° ê²ƒ ì²˜ëŸ¼ ëŠë¦¬ê²Œ ì´ë™í•˜ê¸° ì‹œì‘í•˜ë©´, ìš°ì¸¡ í•˜ë‹¨ì— Memory Indicatorë¥¼ ë°”ë¼ë³´ê³ ëŠ”, ì—¬ê¸°ì„œ ë§¤ë²ˆ Heap Memory Size ë¥¼ í™•ì¸í•˜ê³  í´ë¦­í•´ì£¼ë©´ì„œ í•œë²ˆì”© ì •ë¦¬ê°€ ë˜ëŠ”ë°, ê·¸ëŸ¬ê³  ë‚˜ë©´ ë‹¤ì‹œ ê´œì°®ì•„ì§€ê³ ëŠ” í–ˆë‹¤. ì•„ì˜ˆ Heap Memory Size ì„¤ì •ì„ ë³€ê²½í•˜ê¸° ìœ„í•´ì„œ ì„¤ì •ì„ ë³€ê²½í•´ë´¤ë‹¤.\në¨¼ì € heap memory ë¥¼ ì •í™•í•˜ê²Œ í™•ì¸í•˜ê¸° ìœ„í•´ì„œ memory indicatorë¥¼ í™•ì¸í•´ë³´ì.\n1 ë¨¼ì € ì„¤ì •ì˜ appearance ì—ì„œ window optionì˜ show memory indicatoë¥¼ ì¼œì.\n 2 ê·¸ëŸ¬ë©´ ì—ë””í„° ìš°ì¸¡ í•˜ë‹¨ì— ìš”ë ‡ê²Œ ë©”ëª¨ë¦¬ê°€ í‘œì‹œëœë‹¤\n 3 ê·¸ëŸ°ë‹¤ìŒì˜ help ë©”ë‰´ì˜ Edit Custom Vm Optionì„ ì„ íƒí•˜ì\n 4 ì´ì œ Custom Optionì„ ì§€ì •í•˜ë©´ ë˜ëŠ”ë° í•µì‹¬ì€ Xmx ë¶€ë¶„ì¸ë° maximum memory ì´ë‹¤. ì´ê±¸ ë¨¸ì‹ ì˜ ram ì— ë”°ë¼ì„œ ëŠ˜ë ¤ì£¼ì ë‚´ê°€ ì“°ëŠ” ë§¥ë¶ì˜ RAMì€ 16G ì¸ë° Xmx ë¥¼ ì²˜ìŒì—ëŠ” 500M ì—ì„œ 2G ë¡œ ë³€ê²½í•´ì¤¬ë‹¤.\n ì´ì œ IDEë¥¼ ì¬ì‹œì‘í•˜ë©´ ëŠ˜ì–´ë‚œ memory ë¥¼ indicator ì—ì„œ í™•ì¸ê°€ëŠ¥í•˜ê³ , ë²„ë²…ê±°ë¦¼ì´ í›¨~~~ì”¬ ì¤„ì–´ë“¤ì—ˆë‹¤.\n"
},
{
	"permalink": "https://findstar.pe.kr/2018/01/04/disable-unused-plugins-phpstorm/",
	"title": "PHPStormì—ì„œ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” í”ŒëŸ¬ê·¸ì¸ ë¹„í™œì„±í™” ì‹œí‚¤ê¸°.",
	"tags": ["phpstorm", "speed up", "unused plugins"],
	"description": "",
	"type": "post",
	"contents": "1ì›” 04ì¼ (ëª©) TIL phpstormì´ ì¡°ê¸ˆ ë²„ë²…ê±°ë¦¬ë©´ì„œ ëŠë¦° ëŠë‚Œì´ ë“¤ì—ˆë‹¤. ë‚´ ê²½ìš°ì—ëŠ”, JavaScript ì™€ php ê°€ ê°™ì´ ë“¤ì–´ ìˆëŠ” í…œí”Œë¦¿ íŒŒì¼ì„ ìˆ˜ì •í•˜ê±°ë‚˜, ë§ˆí¬ë‹¤ìš´MD íŒŒì¼ì„ ìˆ˜ì •í•  ë•Œ ê·¸ëŸ° ì¦ìƒë“¤ì´ ì‹¬í•´ì¡Œë‹¤. ì¼ë‹¨ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” í”ŒëŸ¬ê·¸ì¸ë“¤ì„ ë¹„í™œì„±í™” ì‹œì¼œì„œ ì†ë„ê°€ ì¡°ê¸ˆ ê°œì„ ë˜ëŠ”ì§€ í™•ì¸í•´ ë³´ê¸°ë¡œ í–ˆë‹¤.\nì•„ë˜ì˜ í”ŒëŸ¬ê·¸ì¸ë“¤ì€ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ.\n ASP : ASP ì½”ë”© í• ì¼ì´ ì—†ì–´ì„œ í•´ì œ Behat : BDD framework ì¸ Behatì„ ì‚¬ìš©í•˜ì§€ ì•Šì•„ì„œ í•´ì œ (ì´ê±¸ uncheck í•˜ë©´ ì—°ê²°ëœ codeception framework ë„ í•´ì œëœë‹¤) CoffeeScript : ì»¤í”¼ìŠ¤í¬ë¦½íŠ¸ ì½”ë”© í• ì¼ì´ ì—†ì–´ì„œ í•´ì œ CVS : subversion ì´ì „ì— í™œì•½í•˜ë˜ CVS ì´ë‹¤. ë‚˜ëŠ” gitë§Œ ì‚¬ìš©í•˜ë¯€ë¡œ í•´ì œ Drupal support : Drupal í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ í•´ì œ Gherikin : ìŠ¤íƒ€íŠ¸ë™ì„ ë³´ê¸´í–ˆì§€ë§Œ. ì´ê±´ ê·¸ëƒ¥ ìœ„íŠ¸ìš©ì´ë‹¤. í•´ì œ Google App Engine Support : GAE ì—°ë™ì„ í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ í•´ì œ (ë‚œ AWS\u0026hellip;) Haml : ì‚¬ìš©í•˜ì§€ ì•Šì•„ í•´ì œ Handlebars/Mustache : ì´ê±´ ì‚¬ìš©í•˜ëŠ” ì‚¬ëŒì€ ì œë²• ìˆì„ ìˆ˜ ìˆì§€ë§Œ, ë‚˜ëŠ” ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” í…œí”Œë¦¿ì´ë¼ í•´ì œ  hg4idea : Mercurial version control systemì„ ì‚¬ìš©í•˜ì§€ ì•Šì•„ í•´ì œ. Joomla : Joomla í”„ë ˆì„ì›Œí¬ë„ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ í•´ì œ Perforce : perforce VCS ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ í•´ì œ Phing : PHP ë¹Œë“œíˆ´ì¸ Phing ì´ì§€ë§Œ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ í•´ì œ(ì°¸ê³ ë¡œ apache ant ê¸°ë°˜ì˜ ë¹Œë“œ íˆ´ì´ë‹¤.) PHPSpec : Behat ì²˜ëŸ¼ BDD framework ì´ì§€ë§Œ ì‚¬ìš©í•˜ì§€ ì•Šì•„ í•´ì œ Subversion : Git ë§Œ ì“´ë‹¤.. subversion ë„ ì•ˆë…•~ í•´ì œ. TextMate : TextMate ë„ ì‚¬ìš©í•˜ì§€ ì•Šì•„ í•´ì œ. Twig : Twig í…œí”Œë¦¿ë„ ì‚¬ìš©í•˜ì§€ ì•Šì•„ í•´ì œ WordPress Support : Wordpress ë„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤. í•´ì œ. Vagrant : Vagrant ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆì§€ë§Œ, IDE ë ˆë²¨ì—ì„œ ì—°ë™í•˜ì§€ ì•ŠëŠ”ë‹¤. í•´ì œ. tslint : Type Script Lint ì‚¬ìš©í•˜ì§€ ì•Šì•„ í•´ì œ.  ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” í”ŒëŸ¬ê·¸ì¸ë“¤ì„ í•´ì œí•˜ê³  apply í•˜ë©´ IDEë¥¼ ì¬ì‹œì‘í•˜ê² ëƒê³  ë¬¼ì–´ë³´ëŠ”ë° ë°”ë¡œ ì¬ì‹œì‘í•´ì¤¬ë‹¤. ì•½ê°„(?) ì¾Œì í•´ì§„ ë“¯ ëŠê»´ì§€ì§€ë§Œ, í”Œë¼ì‹œë³´ ì¸ê²ƒ ê°™ê¸°ë„.. ë‹¤ìŒì€ Heap Sizeë¥¼ ëŠ˜ë¦¬ë„ë¡ VM Options ì„ ì¡°ì •í•´ë´ì•¼ê² ë‹¤.\n"
},
{
	"permalink": "https://findstar.pe.kr/tags/unused-plugins/",
	"title": "unused plugins",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/jetbrains/",
	"title": "jetbrains",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/macro-key-mapping/",
	"title": "macro key mapping",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/2018/01/03/create-macro-shortcut-on-phpstorm/",
	"title": "PHPStorm ì—ì„œ ë§¤í¬ë¡œ ë‹¨ì¶•í‚¤ë¥¼ ì§€ì •í•˜ëŠ” ë°©ë²•",
	"tags": ["phpstorm", "jetbrains", "macro key mapping"],
	"description": "",
	"type": "post",
	"contents": "1ì›” 03ì¼ (ìˆ˜) TIL  ì°¸ê³  ë§¤ë‰´ì–¼ : Jetbrains Recording Macros  phpstormì˜ ë²„ì „ì„ ì˜¬ë ¸ëŠ”ë° ì§€ì •í•´ë†“ì€ macro key mapping ì´ ì´ìƒí•´ì¡Œë‹¤. ì§€ìš°ê³  ìƒˆë¡œ ë§Œë“¤ë ¤ë‹ˆ macro ì„¤ì • í•˜ëŠ” ë°©ë²•ì„ ê¹Œë¨¹ì–´ì„œ ê¸°ì–µì„ ë”ë“¬ì–´ì„œ ë‹¤ì‹œ í•œë²ˆ ì •ë¦¬í•´ë³¸ë‹¤.\n1 ë¨¼ì € phpstorm ì˜ Edit -\u0026gt; Macros ë¥¼ ì‚´í´ë³´ì.\n 2 ë‹¤ìŒìœ¼ë¡œ Macros ì—ì„œ Start Macro Recording ì„ ì„ íƒí•˜ì.\n 3 ê·¸ëŸ¼ ì•„ë¬´ëŸ° í‘œì‹œ ì—†ì´ ì»¤ì„œë§Œ ê¹œë¹¡ ê±°ë¦´í…ë° ìš°ì¸¡ í•˜ë‹¨ì— ë³´ë©´ Recodring ì´ë¼ê³  í‘œì‹œê°€ ë˜ê³  ìˆë‹¤.\n 4 ì´ì œ ìì‹ ì´ ì €ì¥í•˜ê³  ì‹¶ì€ Custom í•œ ì•¡ì…˜ë“¤ì„ ìˆ˜í–‰í•˜ë©´ ëœë‹¤. ë‚´ ê²½ìš°ì—ëŠ” Option + F1 (Select In)ì„ ëˆ„ë¥¸ë‹¤ìŒ, ìˆ«ì í‚¤ \u0026lsquo;1\u0026rsquo;ì„ ëˆŒëŸ¬ì„œ project viewë¡œ ì´ë™í•˜ëŠ” ì•¡ì…˜ì„ ì·¨í–ˆë‹¤.\nì´ë ‡ê²Œ í•˜ë©´ ì›í•  ë•Œ í˜„ì¬ í¸ì§‘ì¤‘ì¸ íŒŒì¼ì˜ ìœ„ì¹˜ë¡œ project viewì˜ ì„ íƒëœ ë¼ì¸ì„ ì´ë™ì‹œí‚¬ ìˆ˜ ìˆë‹¤. autoscroll from source ë¼ëŠ” ê¸°ëŠ¥ìœ¼ë¡œë„ ë™ì¼í•œ needs ë¥¼ í•´ì†Œ í•  ìˆ˜ ìˆì§€ë§Œ ë‚´ê°€ ì›í•˜ëŠ”ê±´, í•­ìƒì´ ì•„ë‹Œ íŠ¹ì • ì•¡ì…˜ì„ ìˆ˜í–‰í•  ë•Œë§Œ ì´ì—ˆê¸° ë•Œë¬¸ì— macro ë¡œ ë§Œë“¤ì—ˆë‹¤.\n5 ê·¸ ë‹¤ìŒì— ë‹¤ì‹œ Macro ë§¤ë‰´ì—ì„œ Stop Macro Recordingì„ ì„ íƒí•˜ì.\n 6 ë ˆì½”ë”©ì´ ì§„í–‰ë˜ëŠ” ë™ì•ˆ ìˆ˜í–‰í•œ ì•¡ì…˜ë“¤ì„ í•˜ë‚˜ì˜ ë§¤í¬ë¡œë¡œ ë§Œë“ ë‹¤. ì´ì œ ì´ë¦„ì„ ì§€ì •í•˜ì\n 7 ì´ë¦„ê¹Œì§€ ì €ì¥í•˜ê³  ë‚˜ë©´, Edit -\u0026gt; Macros -\u0026gt; ì•„ë˜ìª½ì— ìƒˆë¡œìš´ ì´ë¦„ì˜ Macro ë“¤ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n 8 ì´ì œ Command + , ë¥¼ ëˆŒëŸ¬ ì„¤ì • ì°½ì—ì„œ keymap ì„ ëˆ„ë¥¸ ë‹¤ìŒ macros ì— ë³´ë©´ ì €ì¥ëœ ë§¤í¬ë¡œì˜ ë¦¬ìŠ¤íŠ¸ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ì—¬ê¸°ì„œ ë‚´ê°€ ì›í•˜ëŠ” ë§¤í¬ë¡œì— í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤ë¥¼ ì§€ì •í•˜ë©´ ë!\n ì´ì œ ë§ˆìŒê» ë‚´ê°€ ì›í•˜ëŠ” ëŒ€ë¡œ ì¡°í•©í•œ ë§¤í¬ë¡œë¥¼ ë‹¨ì¶•í‚¤ë¡œ ì‚¬ìš©í•˜ë©´ ëœë‹¤.\n"
},
{
	"permalink": "https://findstar.pe.kr/tags/fluentd/",
	"title": "fluentd",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/til/2018-01-02-local-test-for-fluentd-output/",
	"title": "Fluentd ë¥¼ ë¡œì»¬ì—ì„œ í…ŒìŠ¤íŠ¸ í•´ë³´ëŠ” ë°©ë²•",
	"tags": ["fluentd"],
	"description": "",
	"type": "post",
	"contents": "1ì›” 02ì¼ (í™”) TIL  Fluentd  fluentd (ì´í•˜ td-agent)ë¥¼ ì„¤ì¹˜í›„ì— confë¥¼ ì„¤ì •í•˜ê³  ë‚˜ë©´ ë™ì‘ì„ ì˜ í•˜ëŠ”ì§€ í™•ì¸í•´ì•¼ ë˜ëŠ” ê²½ìš°ê°€ ìˆëŠ”ë° ì•„ë˜ì™€ ê°™ì´ í…ŒìŠ¤íŠ¸ í•´ë³¼ ìˆ˜ ìˆì—ˆë‹¤. /etc/td-agent/td-agent.conf ê°€ ë‹¤ìŒê³¼ ê°™ì„ ë•Œ:\n\u0026lt;source\u0026gt; ..... ..... ..... \u0026lt;/source\u0026gt; # ê²°ê³¼ ê°’ì— hostname ì„ ì¶”ê°€ë¡œ ë§ë¶™ì„. \u0026lt;filter accesslog\u0026gt; @type record_transformer \u0026lt;record\u0026gt; source \u0026quot;#{Socket.gethostname}\u0026quot; path ${record[\u0026quot;host\u0026quot;]} \u0026lt;/record\u0026gt; \u0026lt;/filter\u0026gt; # Local ì—ì„œ í…ŒìŠ¤íŠ¸ í•´ë³¼ ë•Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” match \u0026lt;match accesslogs\u0026gt; type stdout \u0026lt;/match\u0026gt;  $ td-agent -c /etc/td-agent/td-agent.conf\n ìœ„ì™€ ê°™ì´ ì…ë ¥í•˜ë©´ ì½˜ì†”ìƒì—ì„œ standard outì„ í†µí•´ì„œ match ë˜ëŠ” ê²°ê³¼ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ë§Œì•½ ì—¬ê¸°ì—ì„œ error ë‚˜ warning ì„ í™•ì¸í•œë‹¤ë©´, td-agent.conf íŒŒì¼ì˜ source ì™€ filterë¥¼ ì ì ˆí•˜ê²Œ ìˆ˜ì •í•´ì„œ ë‹¤ì‹œ í…ŒìŠ¤íŠ¸ í•´ì„œ ì„¤ì •ì„ ë§ì¶”ë©´ ëœë‹¤.\n"
},
{
	"permalink": "https://findstar.pe.kr/tags/iterm/",
	"title": "iterm",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/2017/01/03/itermocil/",
	"title": "itermocilì„ ì‚¬ìš©í•´ì„œ ë‹¤ìˆ˜ì˜ ì„œë²„ì— SSH ì ‘ì†í•˜ê¸°",
	"tags": ["ssh", "iterm", "macro"],
	"description": "SSH connect to multiple server by itermocil",
	"type": "post",
	"contents": "ì–¼ë§ˆì „ ì‘ì—…í•˜ëŠ” ì„œë¹„ìŠ¤ì˜ ì„œë²„ì˜ OS êµì²´ë¥¼ ì§„í–‰í–ˆë‹¤. ì´ ê³¼ì •ì—ì„œ ì‚¬ìš©í•˜ê²Œëœ itermocil íˆ´ì„ ì†Œê°œí•´ë³¸ë‹¤.\nì²˜ìŒ ê³„íšìœ¼ë¡œëŠ” Docker ê¸°ë°˜ì˜ ë°°í¬ í™˜ê²½ì„ êµ¬ì„±í•˜ë ¤ê³  í–ˆëŠ”ë°, ì‹œê°„ì´ ëª¨ìë¼ ì§„í–‰í•˜ì§€ëŠ” ëª»í–ˆê³ ,\nì˜ˆì „ ë³´ë‹¤ ì¡°ê¸ˆ ë” ë‚˜ì€ ìˆ˜ì¤€ì˜ ë°°í¬í™˜ê²½ì„ êµ¬ì„±í•˜ëŠ” ë° ë§Œì¡±í•´ì•¼ë§Œ í–ˆë‹¤.\nCentos7 í™˜ê²½ì„ êµ¬ì„±í•˜ì˜€ëŠ”ë°, ì„¤ì¹˜ í•œ ë’¤ë¡œë„ ìì˜í•˜ê²Œ í™˜ê²½ì„¤ì •ê³¼, ëª‡ê°€ì§€ ê¶Œí•œì„¤ì •ì„ ì¶”ê°€ì ìœ¼ë¡œ ì§„í–‰í–ˆì—ˆë‹¤.\nì´ë•Œ ë¶ˆí¸í•œ ì ì´ í•˜ë‚˜ ìˆì—ˆëŠ”ë°, ê·¸ê²ƒì€ ë°”ë¡œ í•œë²ˆì— ë‹¤ìˆ˜ì˜ ì„œë²„ì— SSH ì ‘ì†í•˜ëŠ” ë°©ë²• ì´ë‹¤.\në‚´ê°€ ì‚¬ìš©í•˜ëŠ” í„°ë¯¸ë„ í”„ë¡œê·¸ë¨ì€ iterm ì¸ë°, Mac ì—ì„œ ê°œë°œì€ í•˜ëŠ” ì‚¬ëŒì¹˜ê³  itermì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì‚¬ëŒì„ ë³¼ ìˆ˜ê°€ ì—†ì„ ë§Œí¼ ì‚¬ë‘ë°›ëŠ” í”„ë¡œê·¸ë¨ì´ë‹¤.\në¬¼ë¡  tmux ë‚˜ ê¸°íƒ€ ë°©ë²•ìœ¼ë¡œë„ ë‹¤ìˆ˜ì˜ ì„œë²„ì— ì‰½ê²Œ ì ‘ì†í•´ ë³¼ ìˆ˜ ìˆì§€ë§Œ, ë‚˜ëŠ” alias í˜•íƒœë¡œ predefined ëœ macro ê°™ì€ íˆ´ì„ ì›í–ˆê³ ,\nì´ê³¼ì •ì—ì„œ itermocil ì´ë¼ëŠ” íˆ´ì„ ë°œê²¬í–ˆë‹¤.\nitermocil ì†Œê°œ ì´ë¦„ì—ì„œ ì•Œ ìˆ˜ ìˆë“¯ì´ iterm ì—ì„œ ì‚¬ìš©í•˜ëŠ” ì¼ì¢…ì˜ ë§¤í¬ë¡œë¼ê³  í•  ìˆ˜ ìˆë‹¤.\n\u0026ldquo;pre-configured layouts of windows and panes\u0026rdquo; ë¼ê³  ë˜ì–´ ìˆëŠ”ë° ë§ ê·¸ëŒ€ë¡œ ì‚¬ì „ì— ì •ì˜ëœ ìœˆë„ìš°ì™€ íŒ¨ë„ ë ˆì´ì•„ì›ƒ ê´€ë¦¬ì ì´ë‹¤.\nì‚¬ìš©ë²•ë„ ê°„ë‹¨í•œë°\nitermocil layout-name ì´ë ‡ê²Œ í•˜ë©´ ì§€ì •ëœ ë ˆì´ì•„ì›ƒì— ì •ì˜ëœ ëª…ë ¹ì–´ë“¤ì„ ìˆ˜í–‰í•˜ì—¬ ì¤€ë‹¤.\nì„¤ì¹˜ë°©ë²• brew ë¥¼ í†µí•´ì„œ ì„¤ì¹˜í•˜ê³  í™ˆ ë””ë ‰í† ë¦¬ì— .itermocil ë””ë ‰í† ë¦¬ë¥¼ ë§Œë“¤ì–´ ì¤€ë‹¤.\nì´í›„ì— yml í¬ë§·ì˜ ë ˆì´ì•„ì›ƒ íŒŒì¼ì„ ë§Œë“¤ë©´ ëœë‹¤.\nì²˜ìŒì—ëŠ” ë ˆì´ì•„ì›ƒíŒŒì¼ì´ ì—†ì„ í…Œë‹ˆ ìƒ˜í”Œì„ êµ¬ì„±í•  ìˆ˜ ìˆê²Œ ì§€ì›í•˜ê³  ìˆë‹¤\n# brew ë¡œ ì„¤ì¹˜ $ brew install TomAnthony/brews/itermocil # ë ˆì´ì•„ì›ƒì„ ì €ì¥í•˜ê¸° ìœ„í•œ .itermocil ë””ë ‰í† ë¦¬ ìƒì„± $ mkdir ~/.itermocil # sample ë ˆì´ì•„ì›ƒ í¸ì§‘í•˜ê¸° $ itermocil --edit sample # sample ë ˆì´ì•„ì›ƒ ì‹¤í–‰í•˜ê¸° $ itermocil sample ë ˆì´ì•„ì›ƒ íŒŒì¼ êµ¬ì„±ë°©ë²• ë ˆì´ì•„ì›ƒ íŒŒì¼ì„ êµ¬ì„±í•˜ëŠ” ë°©ë²•ì„ ë‹¤ì–‘í•˜ê²Œ ì§€ì›í•˜ê³  ìˆëŠ”ë°, ìì„¸í•œê±´ ë§¤ë‰´ì–¼ì—ì„œ ì„¤ëª…í•˜ê³  ìˆìœ¼ë‹ˆ, ë¬¸ì„œë¥¼ ì°¸ê³ í•˜ê¸¸ ë°”ë€ë‹¤.\në‚´ ê²½ìš°ì—ëŠ” ì•½ 20ëŒ€ì˜ ì„œë²„ì— ì ‘ì†í•˜ê¸° ìœ„í•´ì„œ ë‹¤ìŒê³¼ ê°™ì´ ì²˜ë¦¬í–ˆë‹¤.\nwindows: - name: web-server root: ~/project/working-directory layout: tiled panes: - ssh findstar@service-web1.our-product.io - ssh findstar@service-web11.our-product.io - ssh findstar@service-web2.our-product.io - ssh findstar@service-web12.our-product.io - ssh findstar@service-web3.our-product.io - ssh findstar@service-web13.our-product.io - ssh findstar@service-web4.our-product.io - ssh findstar@service-web14.our-product.io - ssh findstar@service-web5.our-product.io - ssh findstar@service-web15.our-product.io - ssh findstar@service-web6.our-product.io - ssh findstar@service-web16.our-product.io - ssh findstar@service-web7.our-product.io - ssh findstar@service-web17.our-product.io - ssh findstar@service-web8.our-product.io - ssh findstar@service-web18.our-product.io - ssh findstar@service-web9.our-product.io - ssh findstar@service-web19.our-product.io - ssh findstar@service-web10.our-product.io - ssh findstar@service-web20.our-product.io ìœ„ì—ì„œ ë‚´ê°€ ì‚¬ìš©í•œ ë ˆì´ì•„ì›ƒ ì†ì„±ì€ tiled ì¸ë°, ì´ë°–ì—ë„ ë‹¤ì–‘í•œ ë ˆì´ì•„ì›ƒì„ ì§€ì›í•˜ë‹ˆ ë¬¸ì„œë¥¼ ì°¸ê³ í•˜ì.\nì €ë ‡ê²Œ êµ¬ì„±í•œ íŒŒì¼ì„ web-server.ymlë¡œ ì €ì¥í•˜ê³  itermocil web-server ë¼ê³  ì…ë ¥í•˜ë©´ 20ëŒ€ì˜ iterm panel ë“±ì¥í•˜ëŠ”ë°, ì œë²• ë©‹ì ¸ë³´ì¸ë‹¤.\n ë¬¼ë¡  ë‚˜ì™€ ê°™ì´ itermocilì„ ì‚¬ìš©í•˜ì—¬ ë‹¤ìˆ˜ì˜ ì„œë²„ì— ì ‘ì†í•˜ê¸¸ ì›í•˜ëŠ” ì‚¬ëŒì´ ì–¼ë§ˆë‚˜ ë˜ëŠ”ì§€ëŠ” ì•Œ ìˆ˜ ì—†ì§€ë§Œ,\në‚˜ë¡œì¨ëŠ” ìœ ìš©í•˜ê²Œ ì‚¬ìš©í•˜ì—¬ ê¸°ë¡ìœ¼ë¡œ ë‚¨ê²¨ë†“ëŠ”ë‹¤.\n"
},
{
	"permalink": "https://findstar.pe.kr/tags/macro/",
	"title": "macro",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/ssh/",
	"title": "ssh",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/accesscontrol/",
	"title": "accessControl",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/2016/11/08/apache_2_4_custom_error_log_access_constrol/",
	"title": "apache 2.4ì—ì„œ ë‹¬ë¼ì§„ ê¸°ëŠ¥ 2ê°€ì§€",
	"tags": ["apache2.4", "customLog", "errorLogFormat", "accessControl"],
	"description": "apache 2.4 changes errorLogFormat and access control",
	"type": "post",
	"contents": "apache 2.4ë²„ì „ì„ ì‚¬ìš©í•˜ë©´ì„œ ì´ì „ë²„ì „ê³¼ëŠ” ë‹¬ë¼ì§„ ë‘ê°€ì§€ ë¶€ë¶„ì— ëŒ€í•´ì„œ ì•Œê²Œ ë˜ì—ˆë‹¤. í•˜ë‚˜ëŠ” ErrorLog ì—ì„œ CustomLog formatì´ ê°€ëŠ¥í•´ì¡Œë‹¤ëŠ” ì ê³¼, AccessControlì˜ ë¬¸ë²•ì´ ë‹¬ë¼ì¡Œë‹¤ëŠ” ê²ƒì´ë‹¤. Custom Error LogëŠ” ì˜ ì“°ë©´ ì—ëŸ¬ë¥¼ ì¶”ì í•  ë•Œ ì •ë§ ìœ ìš©í•˜ë‹¤.\nìµœê·¼ ì›¹ì„œë²„ë¥¼ CentOS 7 ê¸°ë°˜ìœ¼ë¡œ ì¬ì„¤ì¹˜í•˜ë©´ì„œ apache 2.4 ë²„ì „ì„ ì‚¬ìš©í•´ ë³´ì•˜ë‹¤. 2.2 ë²„ì „ê³¼ëŠ” ë‹¤ë¥¸ ë¶€ë¶„ì¤‘ì— 2ê°€ì§€ ë¶€ë¶„ì„ ì‚´í´ë³´ì•˜ëŠ”ë° ë‹¤ìŒê³¼ ê°™ë‹¤.\nErrorLog ì—ì„œ Custom Log Format ì´ ê°€ëŠ¥í•´ì¡Œë‹¤. apache 2.4 ì—ì„œëŠ” Error Log ì— ëŒ€í•´ì„œ Format ì„¤ì •ì´ ê°€ëŠ¥í•˜ë‹¤. ì‚¬ìš© í‚¤ì›Œë“œëŠ” ErrorLogFormat ì´ê³  ë§¤ë‰´ì–¼ì„ ì°¸ê³ í•˜ì. link\nì´ì „ê¹Œì§€ëŠ” access log ì— ëŒ€í•´ì„œë§Œ LogFormat ì´ ê°€ëŠ¥í–ˆëŠ”ë° 2.4ë¶€í„° error log ì— ëŒ€í•´ì„œë„ formating ì´ ì„¤ì • ê°€ëŠ¥í•´ì¡Œë‹¤. ëŒ€ë¶€ë¶„ì˜ ì›¹ì„œë¹„ìŠ¤ì—ì„œ error log ëŠ” ì„œë¹„ìŠ¤ì˜ ë‹¤ì–‘í•œ ì˜¤ë¥˜ë¥¼ ì¶”ì í•˜ê³ , ìƒíƒœë¥¼ í™•ì¸í•˜ë°ëŠ” ì£¼ìš”í•˜ê²Œ ì‚¬ìš©ë˜ê¸° ë•Œë¬¸ì— ì´ë¥¼ í™œìš©í•˜ë©´ ë””ë²„ê¹…ì´ í›¨ì”¬ ìˆ˜ì›”í•´ì§„ë‹¤.\nì‚¬ìš©ë¬¸ë²•ì€ ë‹¤ìŒê³¼ ê°™ê³ , ìƒê°ë³´ë‹¤ ì–´ë µì§€ ì•Šë‹¤.\n ErrorLogFormat \u0026ldquo;[%{u}t] [%m:%l] [host:%{Host}i , ip:%a] %7F: %E: %M ,\\ referer\\ %{Referer}i ,\\ User-Agent\\ %{User-Agent}i\u0026rdquo;\n ì—¬ê¸°ì„œ ì‚¬ìš©í•œ Format í‚¤ì›Œë“œë“¤ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.\n   Format í‚¤ì›Œë“œ ì„¤ëª…     %{u}t ì‹œê°„ì„ ê¸°ë¡í•œë‹¤ ì´ë•Œ micro-second ê¹Œì§€ í¬í•¨í•œë‹¤. micro-second ê°€ í•„ìš”ì—†ë‹¤ë©´ %t ë§Œ ì“°ë©´ ëœë‹¤.   %m ì—ëŸ¬ ë¡œê·¸ë¥¼ ê¸°ë¡í•˜ê²Œëœ apache ëª¨ë“ˆì˜ ì´ë¦„ì„ ê¸°ë¡í•œë‹¤. ê¸°ë³¸ì ìœ¼ë¡œëŠ” coreê°€ ê¸°ë¡ë˜ê³ , ì—ëŸ¬ë¥¼ ê¸°ë¡í•˜ëŠ” ëª¨ë“ˆëª…ì´(ex, authz_core )ê¸°ë¡ëœë‹¤.   %l ë¡œê·¸ ë ˆë²¨ì´ ê¸°ë¡ëœë‹¤.   %{Host}i ì„œë²„ê°€ 2ê°œ ì´ìƒì˜ virtual host ë¥¼ ê°€ì§€ëŠ” ê²½ìš° ì´ë¥¼ êµ¬ë¶„í•˜ê¸° ìœ„í•´ì„œ ì¶”ê°€í–ˆë‹¤. ì •í™•í•˜ê²ŒëŠ” ${name}i ì˜ í˜•íƒœì¸ë° ì—¬ê¸°ì„œ nameì€ Request header ì˜ name ì´ë‹¤.   %a client ì˜ IP ë¥¼ ê¸°ë¡í•œë‹¤.   %F ë¬¸ì œê°€ ë°œìƒí•œ ì†ŒìŠ¤ íŒŒì¼ì˜ ì´ë¦„ê³¼ line number ë¥¼ ê¸°ë¡í•œë‹¤.   %E ì—ëŸ¬ status code ê°€ ê¸°ë¡ëœë‹¤. ëŒ€ë¶€ë¶„ êµ¬ê¸€ë§í•˜ê²Œ ë˜ëŠ” í•µì‹¬ í‚¤ì›Œë“œ.   %M ì‹¤ì œ ë¡œê·¸ ë©”ì„¸ì§€ ë‚´ìš©ì´ë‹¤.   %{Referer}i Request ì˜ Referer ë¥¼ ê¸°ë¡í•˜ë„ë¡ í–ˆë‹¤.   %{User-Agent}i User-Agent ë¥¼ ê¸°ë¡í•˜ë„ë¡ í–ˆë‹¤.    %{name}i ì˜ ê²½ìš°ì—ëŠ” apache confì—ì„œ SetEnvIf ë“±ìœ¼ë¡œ ì„¤ì •í•œ íŒŒë¼ë¯¸í„°ë„ ê¸°ë¡í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ìœ ìš©í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\nê¸°íƒ€ ë³´ë‹¤ ìì„¸í•œ ë‚´ìš©ì€ ë§¤ë‰´ì–¼ì„ ì°¸ê³ í•˜ë©´ ëœë‹¤.\nAccess Control ë¬¸ë²•ì˜ ë³€ê²½ ê¸°ì¡´ì˜ apache 2.2 ì™€ ë¹„êµí•˜ì—¬ access control ë¬¸ë²•ì´ ë³€ê²½ë˜ì—ˆë‹¤. ë¬¼ë¡  ì´ì „ 2.2 ë²„ì „ê¹Œì§€ ì‚¬ìš©ë˜ë˜ ë¬¸ë²•ì„ ì™„ì „íˆ ì‚¬ìš©í•˜ì§€ ëª»í•˜ëŠ” ê²ƒì€ ì•„ë‹ˆê³  mod_access_compat apache ëª¨ë“ˆì´ ì„¤ì¹˜ë˜ì–´ ìˆë‹¤ë©´ ì‚¬ìš©ê°€ëŠ¥í•˜ë‹¤. ë‹¤ë§Œ ì´ê²½ìš° 2.2 ë¬¸ë²•ê³¼ 2.4 ë¬¸ë²•ì„ í˜¼ìš©í•˜ë©´, ì›í•˜ëŠ” ëŒ€ë¡œ ë™ì‘í•˜ì§€ ì•Šì„ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì´ì™•ì´ë©´ í•œìª½ìœ¼ë¡œ í†µì¼í•˜ëŠ” ê²ƒì´ ì¢‹ì•„ë³´ì¸ë‹¤. ë‚˜ì˜ ê²½ìš°ì—ëŠ” 2.4 ë¬¸ë²•ìœ¼ë¡œ í†µì¼í–ˆë‹¤.\n// 2.2 ì˜ ë¬¸ë²• \u0026lt;Location /server-status\u0026gt; SetHandler server-status Order deny,allow Deny from all Allow from 127.0.0.1 \u0026lt;/Location\u0026gt; \u0026lt;FilesMatch \u0026quot;^\\.ht\u0026quot;\u0026gt; Order allow,deny Deny from all Satisfy All \u0026lt;/FilesMatch\u0026gt; // 2.4ì˜ ë¬¸ë²• \u0026lt;Location /server-status\u0026gt; SetHandler server-status Require all denied Require ip 127.0.0.1 \u0026lt;/Location\u0026gt; \u0026lt;FilesMatch \u0026quot;^\\.ht\u0026quot;\u0026gt; Require all denied Satisfy All \u0026lt;/FilesMatch\u0026gt; ë‹¤ìŒì€ ì¡°ê¸ˆ ë” ë³µì¡í•œ access control ì´ë‹¤.\n// 2.2 ë¬¸ë²• #bingbot ì„ ë§‰ì•„ë³´ì•˜ë‹¤. BrowserMatch \u0026quot;bingbot\u0026quot; bingbot #192.168.10.10 IPë¥¼ ë§‰ì•„ë³´ì•˜ë‹¤. SetEnvIfNoCase Remote_Addr 192.168.10.10 ddosIP \u0026lt;Location /\u0026gt; Order allow,deny Allow from all Deny from env=bingbot Deny from env=ddosIP \u0026lt;/Location\u0026gt; // 2.4 ë¬¸ë²• #bingbot ì„ ë§‰ì•„ë³´ì•˜ë‹¤. BrowserMatch \u0026quot;bingbot\u0026quot; bingbot #192.168.10.10 IPë¥¼ ë§‰ì•„ë³´ì•˜ë‹¤. SetEnvIfNoCase Remote_Addr 192.168.10.10 ddosIP \u0026lt;Location /\u0026gt; \u0026lt;RequireAny\u0026gt; \u0026lt;RequireAll\u0026gt; Require all granted Require not env bingbot Require not env ddosIP \u0026lt;/RequireAll\u0026gt; \u0026lt;/RequireAny\u0026gt; \u0026lt;/Location\u0026gt; ì§€ê¸ˆ ë‹¹ì¥ì€ apache 2.2 ì—ì„œ ì‚¬ìš©í•˜ë˜ access control ë¬¸ë²•ì„ ë°”ê¾¸ì§€ ì•Šì•„ë„ ë˜ì§€ë§Œ, ë¯¸ë˜ì—ëŠ” ì—†ì–´ì§ˆ ê²ƒì´ê¸° ë•Œë¬¸ì— ì‹œê°„ì´ ë‚œë‹¤ë©´ ê³ ì³ì£¼ëŠ” ê²Œ ì¢‹ì€ê²ƒ ê°™ë‹¤.\në³´ë‹¤ ìì„¸í•œ ë¬¸ë²•ì€ ë§¤ë‰´ì–¼ì„ ì°¸ê³ í•˜ì.\n"
},
{
	"permalink": "https://findstar.pe.kr/tags/apache2.4/",
	"title": "apache2.4",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/customlog/",
	"title": "customLog",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/errorlogformat/",
	"title": "errorLogFormat",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/composer/",
	"title": "composer",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/speedup/",
	"title": "speedup",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/tips/",
	"title": "tips",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/2016/11/06/composer-speed-up/",
	"title": "ì»´í¬ì €ì˜ ì†ë„ë¥¼ ì˜¬ë¦¬ëŠ” ë°©ë²•",
	"tags": ["tips", "composer", "speedup"],
	"description": "composer speed up",
	"type": "post",
	"contents": "PHP ì˜ ì˜ì¡´ì„± ê´€ë¦¬ë„êµ¬ì¸ ì»´í¬ì € ë¥¼ ì‚¬ìš©í•  ë•Œ, composer install ì´ë‚˜ composer update ì‹œì— ì†ë„ê°€ ëŠë ¤ì„œ ë‹µë‹µí•¨ì„ ëŠë‚„ ë•Œê°€ í•œë‘ë²ˆì´ ì•„ë‹ˆë‹¤. êµ¬ê¸€ì—ì„œ composer speed up ìœ¼ë¡œ ê²€ìƒ‰ì„ í•´ë³´ë©´ ë§ì€ ì‚¬ëŒë“¤ì´ ë™ì¼í•œ ë‹µë‹µí•¨ì„ ëŠë¼ê³  ìˆë‹¤ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\nëª‡ê°€ì§€ ë°©ë²•ì„ í†µí•´ì„œ ì¡°ê¸ˆ ë” ì¾Œì í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì•Œì•„ë³´ì.\nì»´í¬ì €ì˜ ì†ë„ë¥¼ ê°œì„ í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì€ í”ŒëŸ¬ê·¸ì¸ê³¼, ì»¤ë§¨ë“œ ì‚¬ìš© íŒ¨í„´, ì˜µì…˜ ì„¤ì • ë“±ì´ ìˆëŠ”ë° í•˜ë‚˜ì”© ì‚´í´ë³´ì.\nPrestissimo Plugin ì„¤ì¹˜í•˜ê¸° prestissimoëŠ” ì»´í¬ì €ì˜ global í”ŒëŸ¬ê·¸ì¸ì¤‘ í•˜ë‚˜ë¡œ ì»´í¬ì €ì˜ ë‹¤ì–‘í•œ ì˜ì¡´ì„± íŒ¨í‚¤ì§€ë“¤ì„ ë³‘ë ¹ë¡œ ë‹¤ìš´ë°›ì„ ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ë…€ì„ì´ë‹¤.\në‚´ë¶€ì ìœ¼ë¡œ curl multi ì˜µì…˜ì„ í†µí•´ì„œ ì˜ì¡´ì„± íŒ¨í‚¤ì§€ë“¤ì„ ë‹¤ìš´ë°›ë„ë¡ í•´ì„œ ì†ë„ í–¥ìƒì— í° ê¸°ì—¬ë¥¼ í•˜ëŠ” ë°©ì‹ì´ë‹¤. ì»´í¬ì €ë¥¼ ìì£¼ ì‚¬ìš©í•œë‹¤ë©´ ì„¤ì¹˜í•˜ì§€ ì•Šì„ ì´ìœ ê°€ ì—†ë‹¤!\nì„¤ì¹˜ë°©ë²•ë„ ê°„ë‹¨í•˜ë‹¤\n $ composer global require \u0026ldquo;hirak/prestissimo:^0.3\u0026rdquo;\n ì´ë ‡ê²Œ í•˜ë©´ global composer ë””ë ‰í† ë¦¬ì— ì„¤ì¹˜ê°€ ëœë‹¤.\ngithubì—ì„œ ì œì‘ìëŠ” ë²¤ì¹˜ë§ˆí¬ ê²°ê³¼ê°€ 288s -\u0026gt; 26s ë¡œ ì¤„ì–´ë“¤ì—ˆë‹¤ê³  ë§í•˜ê³  ìˆë‹¤.\nâ€“prefer-dist ì˜µì…˜ ì‚¬ìš©í•˜ê¸° composer update ë˜ëŠ” composer install ì‹œì— â€“prepfer-dist ì‚¬ìš©í•˜ë©´ íŒ¨í‚¤ì§€ì— ë”°ë¼ì„œ ì¡°ê¸ˆ ë” ë‚˜ì€ ì†ë„ í–¥ìƒì„ ê¸°ëŒ€í•  ìˆ˜ ìˆëŠ”ë°, íŒ¨í‚¤ì§€ê°€ dist ìš©ë„ë¡œ êµ¬ì„±ë˜ì–´ ìˆë‹¤ë©´ ì†ŒìŠ¤ë¥¼ ì¼ì¼ì´ ë°›ëŠ” ê²ƒ ë³´ë‹¤ ë¹ ë¥´ê¸° ë•Œë¬¸ì´ë‹¤.\nì¢€ë” ë¶€ì—° ì„¤ëª…ì„ í•˜ìë©´ íŒ¨í‚¤ì§€ë¥¼ ë‹¤ìš´ë¡œë“œ ë°›ì„ ë•ŒëŠ” dist ì™€ source ë‘ê°€ì§€ ë°©ì‹ì´ ìˆëŠ”ë°, distëŠ” ì•ˆì •í™” ë²„ì „, source ë²„ê·¸ í”½ìŠ¤ë¥¼ ìœ„í•œ ìš©ë„ë¼ê³  ìƒê°í•˜ë©´ ëœë‹¤.\nì¼ë°˜ì ìœ¼ë¡œëŠ” -prefer-dist ì˜µì…˜ì´ í™œì„±í™” ë˜ì–´ ìˆë‹¤.\nxdebug disable ì‹œí‚¤ê¸° php-xdebug ê°€ í™œì„±í™” ë˜ì–´ ìˆìœ¼ë©´ ì»´í¬ì €ì˜ ì†ë„ê°€ ëŠë¦¬ë‹¤. ì´ˆê¸°ì—ëŠ” ì´ë¥¼ ì•Œìˆ˜ê°€ ì—†ì—ˆëŠ”ë° ìµœê·¼ì—ëŠ” ì»´í¬ì € ìì²´ì—ì„œ ê²½ê³ ë¥¼ ë³´ì—¬ì£¼ëŠ” ê²ƒ ê°™ë‹¤.\në§Œì•½ php ì„¤ì •ì´ cli ì™€ êµ¬ë¶„ë˜ì–´ ìˆë‹¤ë©´ cli ëª¨ë“œì—ì„œëŠ” xdebug ë¥¼ í™œì„±í™” ì‹œí‚¤ì§€ ì•Šë„ë¡ í•˜ì.\ndns lookup ì¤„ì´ê¸° ì†ë„ì— ì–¼ë§ˆë‚˜ ì˜í–¥ì„ ë¼ì¹ ì§€ëŠ” ì˜ë¬¸ì´ì§€ë§Œ, packagist.com ì˜ dns lookup ì†ë„ëŠ” ëŠë¦¬ë‹¤ê³  í•  ìˆ˜ ìˆë‹¤. (ping packagist.com í•´ë³´ë©´ ì•Œ ìˆ˜ ìˆë‹¤.) ë”°ë¼ì„œ, /etc/hosts ì— packagist.com ì˜ ipë¥¼ ì¶”ê°€í•˜ì—¬ DNS lookup time ì„ ì¡°ê¸ˆì´ë‚˜ë§ˆ ì¤„ì¼ ìˆ˜ ìˆë‹¤.\n 87.98.253.214 packagist.com\n ì°¸ê³   ì»´í¬ì € í•œê¸€ ë§¤ë‰´ì–¼ composer manual prestissimo plugin xdebug disable warning "
},
{
	"permalink": "https://findstar.pe.kr/tags/blog/",
	"title": "blog",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/tags/jekyll/",
	"title": "Jekyll",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
},
{
	"permalink": "https://findstar.pe.kr/2016/11/04/start-new-blog/",
	"title": "ë¸”ë¡œê·¸ í”Œë«í¼ ì´ì „ - ê¸€ì“°ê¸°ì— ë„ì „í•˜ê¸°",
	"tags": ["blog", "developer", "Jekyll"],
	"description": "blog migration from wordpress to jekyll",
	"type": "post",
	"contents": "ì‚¬ì‹¤ ë‚˜ëŠ” ê°œë°œìë¡œ ì‚´ì•„ì˜¤ë©´ì„œ ë¸”ë¡œê·¸ì— ê³µì„ ë“¤ì´ì§€ëŠ” ì•Šì•„ì™”ì—ˆë‹¤. ë”±íˆ ê¸€ì„ ì˜ ì“°ëŠ” ì¬ì£¼ë„ ì—†ì—ˆê±°ë‹ˆì™€, ë¬´ì–¸ê°€ë¥¼ ì •ë¦¬í•˜ëŠ”ê²Œ ë²ˆê±°ë¡­ê³  ê·€ì°®ë‹¤ê³  ìƒê°í–ˆê¸° ë•Œë¬¸ì´ë‹¤. ê·¸ë™ì•ˆì— ì‘ì„±í•œ ë¸”ë¡œê·¸ë“¤ì€ ìˆœê°„ìˆœê°„ í•„ìš”í–ˆë˜ ì •ë³´ë“¤ì„ ë‹¨ìˆœí•˜ê²Œ ì €ì¥í•´ ë†“ëŠ” ìš©ë„ì˜€ê³ , ê·¸ ìì²´ë„ ì •ë¦¬ë˜ì—ˆë‹¤ê³  ë³´ê¸°ê°€ ì–´ë ¤ì› ë‹¤. ì§€ê¸ˆì— ì™€ì„œ ë‹¤ì‹œê¸ˆ ì‚´í´ë³´ë‹ˆ ê·¸ë‹¤ì§€ ê±´ì§ˆ ë‚´ìš©ì´ ì—†ë‹¤ëŠ” ìƒê°ì´ ë“œëŠ”ê²Œ ì‚¬ì‹¤ì´ë‹¤. ìŠ¤ìŠ¤ë¡œê°€ ê¸€ ë³´ë‹¤ëŠ” í˜„ì¥ê°ê³¼ ìˆœê°„ì˜ ë‰˜ì•™ìŠ¤ê°€ ì „ë‹¬ë˜ê¸° ì‰¬ìš´ ë§ì„ ì„ í˜¸í–ˆê³ , ê¸€ ì“°ëŠ” ê²ƒ ìì²´ê°€ ë‚˜ì—ê²ŒëŠ” ë§ì€ ì—ë„ˆì§€ë¥¼ ì†Œëª¨ë˜ëŠ” ì¼ì´ì—ˆê¸° ë•Œë¬¸ì´ë‹¤.\ní•˜ì§€ë§Œ ìµœê·¼ì— ì™€ì„œëŠ” ì¡°ê¸ˆì”© ìƒê°ì´ ë‹¬ë¼ì§€ê¸° ì‹œì‘í–ˆëŠ”ë°, ë‚˜ ìŠ¤ìŠ¤ë¡œê°€ ì•Œê²Œëœ ì‚¬ì‹¤ì´ë‚˜ ë‚´ìš©ì„ ê¸°ì–µì—ë§Œ ì˜ì¡´í•˜ê¸°ì—ëŠ” ë¬´ë¦¬ê°€ ë”°ë¥´ê¸° ì‹œì‘í–ˆê³ , ë³´ë‹¤ ì²´ê³„ì ìœ¼ë¡œ ì •ë¦¬í•˜ì§€ ì•Šìœ¼ë©´, íš¨ìœ¨ì„±ì´ ë–¨ì–´ì§„ë‹¤ê³  ëŠê»´ì¡Œë‹¤. ê·¸ë˜ì„œ ì´ë²ˆì— ìƒˆë¡­ê²Œ ë§ˆìŒì„ ë‹¤ì¡ê³ , ë¸”ë¡œê·¸ë¥¼ ìƒˆë¡­ê²Œ ì‹œì‘í•´ ë³´ê¸°ë¡œ í–ˆë‹¤. ì‚¬ì‹¤ ë…„ì´ˆì— ë¸”ë¡œê·¸ë¥¼ ë‹¤ì‹œ í•´ë³¼ê¹Œ í•˜ëŠ” ë§‰ì—°í•œ ìƒê°ì„, ì˜¬í•´ê°€ ì €ë¬¼ì–´ ê°€ëŠ” 11ì›”ì— ì™€ì„œì•¼ í–‰ë™ìœ¼ë¡œ ì˜®ê¸°ê¸° ì‹œì‘í•œ ê²ƒì´ë‹¤.\në¸”ë¡œê·¸ í”Œë«í¼ ì´ì „ì— ìˆì—ˆë˜ ë¸”ë¡œê·¸ì˜ ìµœì‹ ê¸€ì€ ë¬´ë ¤ 2014ë…„ë„ ê¸€ì´ë‹¤. ê·¸ ì‚¬ì´ ìŠ¤ìŠ¤ë¡œì˜ ì—­í• ì´ë‚˜ ì—…ë¬´ ë°©ì‹ë„ ë§ì´ ë°”ë€Œì—ˆê³ , ì‚¬ìš©í•˜ëŠ” íˆ´ë“¤ë„ ë‹¬ë¼ì¡Œë‹¤ë³´ë‹ˆ. ì´ì™• ìƒˆë¡­ê²Œ í• êº¼ ë§ˆí¬ë‹¤ìš´ ë°©ì‹ìœ¼ë¡œ ê¸€ì„ ì‘ì„±í•´ë³´ëŠ”ê²Œ ì¢‹ê² ë‹¤ ì‹¶ì–´ì„œ Github Page ê¸°ë°˜ìœ¼ë¡œ ì‹œì‘í•´ ë³´ë ¤ê³  í•œë‹¤. ê·¸ë ‡ê²Œ ì„ íƒí•œ ë„êµ¬ëŠ” Jekyll! ì£¼ìœ„ì˜ ë§ì€ ë¶„ë“¤ì´ ì‚¬ìš©í•˜ê³  ìˆê¸°ë„ í–ˆê³ , ë ˆí¼ëŸ°ìŠ¤ê°€ ë§ì•„ ì„ íƒí•˜ê²Œ ë˜ì—ˆë‹¤. ì†ì— ìµìˆ™í•˜ì§€ ì•Šì€ Ruby ê¸°ë°˜ì´ë¼ëŠ”ê²Œ ë§ˆìŒì— ê±¸ë¦¬ê¸´ í–ˆì§€ë§Œ, ì´ê²ƒë³´ë‹¤ ë” ë‚˜ì€ ëŒ€ì•ˆì´ ì—†ëŠ” ìƒíƒœë¼ì„œ ì¼ë‹¨ Jekyll ê¸°ë°˜ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸°ë¡œ í–ˆë‹¤.\nì´ì „ í¬ìŠ¤íŠ¸ ë§ˆì´ê·¸ë ˆì´ì…˜ ê¸°ì¡´ì— ê°œì„¤í–ˆë˜ ë¸”ë¡œê·¸ì˜ ê¸€ë“¤ì„ ì˜®ê²¨ì˜¬ê¹Œë„ ê³ ë¯¼í•´ë´¤ì§€ë§Œ, ë§ˆì´ê·¸ë ˆì´ì…˜ ê²°ê³¼ë¬¼ì´ ì© ë§ˆìŒì— ë“¤ì§€ë„ ì•Šê³ , ë”±íˆ ê±´ì§ˆë§Œí•œ ë‚´ìš©ë„ ì—†ë‹¤ê³  ìƒê°ë˜ì–´(ì •ë¦¬ê°€ ì•ˆë˜ì–´ ì¤‘êµ¬ë‚œë°©ì¸ ìƒíƒœ) ìƒˆë¡­ê²Œ ì‘ì„±í•˜ê³  ê¸°íšŒê°€ ë  ë•Œë§ˆë‹¤ í•˜ë‚˜ì”© ë‹¤ì‹œ ê¸€ì„ ì‘ì„±í•´ ë³´ê¸°ë¡œ í–ˆë‹¤. ì²˜ìŒ ì‘ì„±í–ˆë˜ ë¸”ë¡œê·¸ ê¸€ì´ 2010ë…„ ì´ê³ , ê°€ì¥ ìµœê·¼ê¸€ì´ 2014ë…„ì´ë‹ˆ. ê±°ì˜ 2ë…„ê°„ ë°©ì¹˜ëœ ì…ˆì´ë‹¤.\nì§€ê¸ˆê¹Œì§€ ì‚¬ìš©í–ˆë˜ í”Œë«í¼  SpringNote : ì§€ê¸ˆì€ ì—­ì‚¬ì†ìœ¼ë¡œ ì‚¬ë¼ì§„ ì„œë¹„ìŠ¤ - ì—ë””í„°ëŠ” ì¢€ ì•„ê¹ë‹¤ëŠ” ìƒê°ì´ ë“¤ì—ˆë‹¤. Tistory : ì°¸ ì¢‹ì•„í•˜ì§€ë§Œ, ë­”ê°€ ë‚´ë§ˆìŒëŒ€ë¡œ ë” ê¾¸ë¯¸ê³  ì‹¶ë‹¤ëŠ” ìƒê°ì— ì˜®ê²¨íƒ”ë‹¤. WordPress : ìœ ìš©í•˜ê²Œ ì‚¬ìš©í•´ ì™”ì§€ë§Œ, ë‚´ ë§ˆìŒì— ë“¤ì§€ ì•Šì•˜ë‹¤. "
},
{
	"permalink": "https://findstar.pe.kr/about/",
	"title": "About",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": " ë‚¨ë“¤ ë³´ë‹¤ ëŠë ¤ë„ ì—¬ìœ ìˆê¸°ë¥¼ ì¢‹ì•„í•˜ëŠ”. ì¦ê²ê³  ì¬ë¯¸ë‚œ ì¼ì„ ì¢‹ì•„í•˜ê³ , ë©˜ë•…ì— í—¤ë”©ì€ ê·¸ë§Œí•˜ê³  ì‹¶ì§€ë§Œ, ì–´ì©Œë‹¤ ë³´ë‹ˆ ë©˜ë•…ì— í—¤ë”©ì„ ë§ì´í•˜ê²Œ ë˜ëŠ” ì¼€ë¦­í„°.\nìƒˆë¡œìš´ê±¸ ë°°ìš°ê³  ê³µë¶€í•˜ëŠ”ê±¸ ì¢‹ì•„í•˜ì§€ë§Œ, ë”ë””ê²Œ ë‚˜ì•„ê°€ëŠ” í‰ë²”í•œ ê°œë°œì. @findstar\nI want to fix the pothole that\u0026rsquo;s right in front of me before I fall in. Linus TorvaldsSkills  Web Java, PHP Spring, Laravel JavaScript, React K8S, AWS  Interested  ElasticSearch, Kafka Architecture, MSA Devops, Infra  Experience  Kakao corp : Contents Platform Mesh Korea : LastMile Delivery Business Xpressengine : Open Source Content Management System Seafuture : Maritime Business, Global Weather Tech SMARTON : Car IOT Business  "
},
{
	"permalink": "https://findstar.pe.kr/search/",
	"title": "Search Result",
	"tags": [],
	"description": "",
	"type": "base",
	"contents": ""
}]